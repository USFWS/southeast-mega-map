!function(){return function t(e,i,n){function o(s,a){if(!i[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var h=i[s]={exports:{}};e[s][0].call(h.exports,function(t){return o(e[s][1][t]||t)},h,h.exports,t,e,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}}()({1:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t){return(0,o.default)(function(e,i){var o;try{o=t.apply(this,e)}catch(t){return i(t)}(0,n.default)(o)&&"function"==typeof o.then?o.then(function(t){a(i,null,t)},function(t){a(i,t.message?t:new Error(t))}):i(null,o)})};var n=s(t("lodash/isObject")),o=s(t("./internal/initialParams")),r=s(t("./internal/setImmediate"));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,i){try{t(e,i)}catch(t){(0,r.default)(u,t)}}function u(t){throw t}e.exports=i.default},{"./internal/initialParams":8,"./internal/setImmediate":13,"lodash/isObject":59}],2:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t,e,i){((0,n.default)(t)?p:d)(t,(0,h.default)(e),i)};var n=c(t("lodash/isArrayLike")),o=c(t("./internal/breakLoop")),r=c(t("./eachOfLimit")),s=c(t("./internal/doLimit")),a=c(t("lodash/noop")),u=c(t("./internal/once")),l=c(t("./internal/onlyOnce")),h=c(t("./internal/wrapAsync"));function c(t){return t&&t.__esModule?t:{default:t}}function p(t,e,i){i=(0,u.default)(i||a.default);var n=0,r=0,s=t.length;function h(t,e){t?i(t):++r!==s&&e!==o.default||i(null)}for(0===s&&i(null);n<s;n++)e(t[n],n,(0,l.default)(h))}var d=(0,s.default)(r.default,1/0);e.exports=i.default},{"./eachOfLimit":3,"./internal/breakLoop":4,"./internal/doLimit":5,"./internal/once":10,"./internal/onlyOnce":11,"./internal/wrapAsync":15,"lodash/isArrayLike":55,"lodash/noop":63}],3:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t,e,i,r){(0,n.default)(e)(t,(0,o.default)(i),r)};var n=r(t("./internal/eachOfLimit")),o=r(t("./internal/wrapAsync"));function r(t){return t&&t.__esModule?t:{default:t}}e.exports=i.default},{"./internal/eachOfLimit":6,"./internal/wrapAsync":15}],4:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={},e.exports=i.default},{}],5:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t,e){return function(i,n,o){return t(i,e,n,o)}},e.exports=i.default},{}],6:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t){return function(e,i,u){if(u=(0,o.default)(u||n.default),t<=0||!e)return u(null);var l=(0,r.default)(e),h=!1,c=0,p=!1;function d(t,e){if(c-=1,t)h=!0,u(t);else{if(e===a.default||h&&c<=0)return h=!0,u(null);p||f()}}function f(){for(p=!0;c<t&&!h;){var e=l();if(null===e)return h=!0,void(c<=0&&u(null));c+=1,i(e.value,e.key,(0,s.default)(d))}p=!1}f()}};var n=u(t("lodash/noop")),o=u(t("./once")),r=u(t("./iterator")),s=u(t("./onlyOnce")),a=u(t("./breakLoop"));function u(t){return t&&t.__esModule?t:{default:t}}e.exports=i.default},{"./breakLoop":4,"./iterator":9,"./once":10,"./onlyOnce":11,"lodash/noop":63}],7:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t){return n&&t[n]&&t[n]()};var n="function"==typeof Symbol&&Symbol.iterator;e.exports=i.default},{}],8:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t){return function(){var e=(0,r.default)(arguments),i=e.pop();t.call(this,e,i)}};var n,o=t("./slice"),r=(n=o)&&n.__esModule?n:{default:n};e.exports=i.default},{"./slice":14}],9:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t){if((0,n.default)(t))return function(t){var e=-1,i=t.length;return function(){return++e<i?{value:t[e],key:e}:null}}(t);var e=(0,o.default)(t);return e?function(t){var e=-1;return function(){var i=t.next();return i.done?null:(e++,{value:i.value,key:e})}}(e):(i=t,s=(0,r.default)(i),a=-1,u=s.length,function(){var t=s[++a];return a<u?{value:i[t],key:t}:null});var i,s,a,u};var n=s(t("lodash/isArrayLike")),o=s(t("./getIterator")),r=s(t("lodash/keys"));function s(t){return t&&t.__esModule?t:{default:t}}e.exports=i.default},{"./getIterator":7,"lodash/isArrayLike":55,"lodash/keys":62}],10:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}},e.exports=i.default},{}],11:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}},e.exports=i.default},{}],12:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t,e,i){i=i||n.default;var a=(0,o.default)(e)?[]:{};t(e,function(t,e,i){(0,s.default)(t)(function(t,n){arguments.length>2&&(n=(0,r.default)(arguments,1)),a[e]=n,i(t)})},function(t){i(t,a)})};var n=a(t("lodash/noop")),o=a(t("lodash/isArrayLike")),r=a(t("./slice")),s=a(t("./wrapAsync"));function a(t){return t&&t.__esModule?t:{default:t}}e.exports=i.default},{"./slice":14,"./wrapAsync":15,"lodash/isArrayLike":55,"lodash/noop":63}],13:[function(t,e,i){(function(e,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.hasNextTick=i.hasSetImmediate=void 0,i.fallback=h,i.wrap=c;var o,r=t("./slice"),s=(o=r)&&o.__esModule?o:{default:o};var a,u=i.hasSetImmediate="function"==typeof n&&n,l=i.hasNextTick="object"==typeof e&&"function"==typeof e.nextTick;function h(t){setTimeout(t,0)}function c(t){return function(e){var i=(0,s.default)(arguments,1);t(function(){e.apply(null,i)})}}a=u?n:l?e.nextTick:h,i.default=c(a)}).call(this,t("_process"),t("timers").setImmediate)},{"./slice":14,_process:70,timers:72}],14:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t,e){e|=0;for(var i=Math.max(t.length-e,0),n=Array(i),o=0;o<i;o++)n[o]=t[e+o];return n},e.exports=i.default},{}],15:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.isAsync=void 0;var n,o=t("../asyncify"),r=(n=o)&&n.__esModule?n:{default:n};var s="function"==typeof Symbol;function a(t){return s&&"AsyncFunction"===t[Symbol.toStringTag]}i.default=function(t){return a(t)?(0,r.default)(t):t},i.isAsync=a},{"../asyncify":1}],16:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t,e){(0,o.default)(n.default,t,e)};var n=r(t("./eachOf")),o=r(t("./internal/parallel"));function r(t){return t&&t.__esModule?t:{default:t}}e.exports=i.default},{"./eachOf":2,"./internal/parallel":12}],17:[function(t,e,i){var n=Object.create||function(t){var e=function(){};return e.prototype=t,new e},o=Object.keys||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push(i);return i},r=Function.prototype.bind||function(t){var e=this;return function(){return e.apply(t,arguments)}};function s(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=n(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._maxListeners=void 0;var a,u=10;try{var l={};Object.defineProperty&&Object.defineProperty(l,"x",{value:0}),a=0===l.x}catch(t){a=!1}function h(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function c(t,e,i,o){var r,s,a;if("function"!=typeof i)throw new TypeError('"listener" argument must be a function');if((s=t._events)?(s.newListener&&(t.emit("newListener",e,i.listener?i.listener:i),s=t._events),a=s[e]):(s=t._events=n(null),t._eventsCount=0),a){if("function"==typeof a?a=s[e]=o?[i,a]:[a,i]:o?a.unshift(i):a.push(i),!a.warned&&(r=h(t))&&r>0&&a.length>r){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+' "'+String(e)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=a.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",u.name,u.message)}}else a=s[e]=i,++t._eventsCount;return t}function p(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var t=new Array(arguments.length),e=0;e<t.length;++e)t[e]=arguments[e];this.listener.apply(this.target,t)}}function d(t,e,i){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:i},o=r.call(p,n);return o.listener=i,n.wrapFn=o,o}function f(t,e,i){var n=t._events;if(!n)return[];var o=n[e];return o?"function"==typeof o?i?[o.listener||o]:[o]:i?function(t){for(var e=new Array(t.length),i=0;i<e.length;++i)e[i]=t[i].listener||t[i];return e}(o):m(o,o.length):[]}function _(t){var e=this._events;if(e){var i=e[t];if("function"==typeof i)return 1;if(i)return i.length}return 0}function m(t,e){for(var i=new Array(e),n=0;n<e;++n)i[n]=t[n];return i}a?Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||t!=t)throw new TypeError('"defaultMaxListeners" must be a positive number');u=t}}):s.defaultMaxListeners=u,s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return h(this)},s.prototype.emit=function(t){var e,i,n,o,r,s,a="error"===t;if(s=this._events)a=a&&null==s.error;else if(!a)return!1;if(a){if(arguments.length>1&&(e=arguments[1]),e instanceof Error)throw e;var u=new Error('Unhandled "error" event. ('+e+")");throw u.context=e,u}if(!(i=s[t]))return!1;var l="function"==typeof i;switch(n=arguments.length){case 1:!function(t,e,i){if(e)t.call(i);else for(var n=t.length,o=m(t,n),r=0;r<n;++r)o[r].call(i)}(i,l,this);break;case 2:!function(t,e,i,n){if(e)t.call(i,n);else for(var o=t.length,r=m(t,o),s=0;s<o;++s)r[s].call(i,n)}(i,l,this,arguments[1]);break;case 3:!function(t,e,i,n,o){if(e)t.call(i,n,o);else for(var r=t.length,s=m(t,r),a=0;a<r;++a)s[a].call(i,n,o)}(i,l,this,arguments[1],arguments[2]);break;case 4:!function(t,e,i,n,o,r){if(e)t.call(i,n,o,r);else for(var s=t.length,a=m(t,s),u=0;u<s;++u)a[u].call(i,n,o,r)}(i,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(o=new Array(n-1),r=1;r<n;r++)o[r-1]=arguments[r];!function(t,e,i,n){if(e)t.apply(i,n);else for(var o=t.length,r=m(t,o),s=0;s<o;++s)r[s].apply(i,n)}(i,l,this,o)}return!0},s.prototype.addListener=function(t,e){return c(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return c(this,t,e,!0)},s.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,d(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,d(this,t,e)),this},s.prototype.removeListener=function(t,e){var i,o,r,s,a;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(!(o=this._events))return this;if(!(i=o[t]))return this;if(i===e||i.listener===e)0==--this._eventsCount?this._events=n(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,i.listener||e));else if("function"!=typeof i){for(r=-1,s=i.length-1;s>=0;s--)if(i[s]===e||i[s].listener===e){a=i[s].listener,r=s;break}if(r<0)return this;0===r?i.shift():function(t,e){for(var i=e,n=i+1,o=t.length;n<o;i+=1,n+=1)t[i]=t[n];t.pop()}(i,r),1===i.length&&(o[t]=i[0]),o.removeListener&&this.emit("removeListener",t,a||e)}return this},s.prototype.removeAllListeners=function(t){var e,i,r;if(!(i=this._events))return this;if(!i.removeListener)return 0===arguments.length?(this._events=n(null),this._eventsCount=0):i[t]&&(0==--this._eventsCount?this._events=n(null):delete i[t]),this;if(0===arguments.length){var s,a=o(i);for(r=0;r<a.length;++r)"removeListener"!==(s=a[r])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=n(null),this._eventsCount=0,this}if("function"==typeof(e=i[t]))this.removeListener(t,e);else if(e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},s.prototype.listeners=function(t){return f(this,t,!0)},s.prototype.rawListeners=function(t){return f(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):_.call(t,e)},s.prototype.listenerCount=_,s.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],18:[function(t,e,i){"document"in window.self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||function(t){"use strict";if("Element"in t){var e=t.Element.prototype,i=Object,n=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array.prototype.indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},r=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},s=function(t,e){if(""===e)throw new r("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new r("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(t,e)},a=function(t){for(var e=n.call(t.getAttribute("class")||""),i=e?e.split(/\s+/):[],o=0,r=i.length;o<r;o++)this.push(i[o]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=a.prototype=[],l=function(){return new a(this)};if(r.prototype=Error.prototype,u.item=function(t){return this[t]||null},u.contains=function(t){return-1!==s(this,t+="")},u.add=function(){var t,e=arguments,i=0,n=e.length,o=!1;do{t=e[i]+"",-1===s(this,t)&&(this.push(t),o=!0)}while(++i<n);o&&this._updateClassName()},u.remove=function(){var t,e,i=arguments,n=0,o=i.length,r=!1;do{for(t=i[n]+"",e=s(this,t);-1!==e;)this.splice(e,1),r=!0,e=s(this,t)}while(++n<o);r&&this._updateClassName()},u.toggle=function(t,e){t+="";var i=this.contains(t),n=i?!0!==e&&"remove":!1!==e&&"add";return n&&this[n](t),!0===e||!1===e?e:!i},u.toString=function(){return this.join(" ")},i.defineProperty){var h={get:l,enumerable:!0,configurable:!0};try{i.defineProperty(e,"classList",h)}catch(t){void 0!==t.number&&-2146823252!==t.number||(h.enumerable=!1,i.defineProperty(e,"classList",h))}}else i.prototype.__defineGetter__&&e.__defineGetter__("classList",l)}}(window.self),function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var i,n=arguments.length;for(i=0;i<n;i++)t=arguments[i],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:i.call(this,t)}}t=null}())},{}],19:[function(t,e,i){"use strict";var n=new RegExp("%[a-f0-9]{2}","gi"),o=new RegExp("(%[a-f0-9]{2})+","gi");function r(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var i=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],r(i),r(n))}function s(t){try{return decodeURIComponent(t)}catch(o){for(var e=t.match(n),i=1;i<e.length;i++)e=(t=r(e,i).join("")).match(n);return t}}e.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},i=o.exec(t);i;){try{e[i[0]]=decodeURIComponent(i[0])}catch(t){var n=s(i[0]);n!==i[0]&&(e[i[0]]=n)}i=o.exec(t)}e["%C2"]="�";for(var r=Object.keys(e),a=0;a<r.length;a++){var u=r[a];t=t.replace(new RegExp(u,"g"),e[u])}return t}(t)}}},{}],20:[function(t,e,i){"use strict";var n=t("is-callable"),o=Object.prototype.toString,r=Object.prototype.hasOwnProperty;e.exports=function(t,e,i){if(!n(e))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=i),"[object Array]"===o.call(t)?function(t,e,i){for(var n=0,o=t.length;n<o;n++)r.call(t,n)&&(null==i?e(t[n],n,t):e.call(i,t[n],n,t))}(t,e,s):"string"==typeof t?function(t,e,i){for(var n=0,o=t.length;n<o;n++)null==i?e(t.charAt(n),n,t):e.call(i,t.charAt(n),n,t)}(t,e,s):function(t,e,i){for(var n in t)r.call(t,n)&&(null==i?e(t[n],n,t):e.call(i,t[n],n,t))}(t,e,s)}},{"is-callable":24}],21:[function(t,e,i){(function(t){var i;i="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],22:[function(t,e,i){"use strict";var n=t("obj-type");e.exports=function(t,e){if(-1===n(t).indexOf("element"))throw new TypeError("Expected an HTML DOM element as first argument");if("string"!=typeof e)throw new TypeError("Expected a string as second argument");return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}},{"obj-type":23}],23:[function(t,e,i){"use strict";e.exports=function(t){return Object.prototype.toString.call(t).replace(/^\[object (.+)\]$/,"$1").toLowerCase()}},{}],24:[function(t,e,i){"use strict";var n=Function.prototype.toString,o=/^\s*class /,r=function(t){try{var e=n.call(t).replace(/\/\/.*\n/g,"").replace(/\/\*[.\s\S]*\*\//g,"").replace(/\n/gm," ").replace(/ {2}/g," ");return o.test(e)}catch(t){return!1}},s=Object.prototype.toString,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if(a)return function(t){try{return!r(t)&&(n.call(t),!0)}catch(t){return!1}}(t);if(r(t))return!1;var e=s.call(t);return"[object Function]"===e||"[object GeneratorFunction]"===e}},{}],25:[function(t,e,i){e.exports=function(t){var e=n.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)};var n=Object.prototype.toString},{}],26:[function(t,e,i){var n=t("sphere-knn");e.exports=function(t){"use strict";if(!(t instanceof L.GeoJSON))throw new Error("must be L.GeoJSON");var e=[];t.eachLayer(function(t){e=e.concat(function(t,e){for(var i=[],n=0;n<t.length;n++)i.push({lon:t[n][0],lat:t[n][1],layer:e});return i}(function(t){var e=0,i=0,n=0,o=[];if("object"==typeof t[0]&&"object"==typeof t[0][0]&&"object"==typeof t[0][0][0]){for(;e<t.length;e++)for(;i<t[e].length;i++)for(;n<t[e][i].length;n++)o.push(t[e][i][n]);return o}if("object"==typeof t[0]&&"object"==typeof t[0][0]){for(;e<t.length;e++)for(;i<t[e].length;i++)o.push(t[e][i]);return o}return"object"==typeof t[0]?t:[t]}(t.feature.geometry.coordinates),t))});var i=n(e);return i.nearest=function(t,e,n){return t instanceof L.LatLng&&(t=[t.lng,t.lat]),i(t[1],t[0],e,n)},i.nearestLayer=function(t,e,n){return t instanceof L.LatLng&&(t=[t.lng,t.lat]),function(t){for(var e=[],i={},n=0;n<t.length;n++)void 0==i[L.stamp(t[n].layer)]&&(e.push(t[n]),i[L.stamp(t[n].layer)]=!0);return e}(i(t[1],t[0],e,n))},i}},{"sphere-knn":27}],27:[function(t,e,i){var n=t("./lib/spherekd");e.exports=function(t){var e=n.build(t);return function(t,i,o,r){return n.lookup(t,i,e,o,r)}}},{"./lib/spherekd":30}],28:[function(t,e,i){function n(t,e){return t-e}i.search=function(t,e,i){i||(i=n);for(var o,r,s=0,a=e.length-1;s<=a;)if((r=i(e[o=s+a>>>1],t))<0)s=o+1;else{if(!(r>0))return o;a=o-1}return-(s+1)},i.insert=function(t,e,n){var o=i.search(t,e,n);o<0&&(o=-(o+1)),e.splice(o,0,t)}},{}],29:[function(t,e,i){var n=t("./binary");function o(t,e,i,n){this.axis=t,this.split=e,this.left=i,this.right=n}function r(t,e){for(var i,n=Math.min(t.length,e.length),o=0;n--;)o+=(i=e[n]-t[n])*i;return o}function s(t,e){return t.dist-e.dist}i.build=function(t){return function t(e,i){if(0===e.length)return null;if(1===e.length)return e[0];var n=i%e[0].position.length;e.sort(function(t,e){return t.position[n]-e.position[n]});var r=Math.floor(.5*e.length);return++i,new o(n,e[r].position[n],t(e.slice(0,r),i),t(e.slice(r),i))}(t,0)},i.lookup=function(t,e,i,a){a>0||(a=Number.POSITIVE_INFINITY);var u=[];if(null===e||i<=0)return u;for(var l,h,c=[e,0];c.length;)if(l=c.pop(),e=c.pop(),!(l>a||u.length===i&&u[u.length-1].dist<l*l)){for(;e instanceof o;)t[e.axis]<e.split?(c.push(e.right,e.split-t[e.axis]),e=e.left):(c.push(e.left,t[e.axis]-e.split),e=e.right);(l=r(t,e.position))<=a*a&&n.insert({object:e,dist:l},u,s),u.length>i&&u.pop()}for(h=u.length;h--;)u[h]=u[h].object;return u}},{"./binary":28}],30:[function(t,e,i){var n=t("./kd"),o=Math.PI/180,r=1/12742018;function s(t,e){t*=o,e*=o;var i=Math.cos(t);return[i*Math.cos(e),Math.sin(t),i*Math.sin(e)]}function a(t){var e,i;t.hasOwnProperty("lat")?e=t.lat:t.hasOwnProperty("latitude")?e=t.latitude:t.hasOwnProperty("location")&&Array.isArray(t.location)&&2===t.location.length&&(e=t.location[0]),t.hasOwnProperty("lon")?i=t.lon:t.hasOwnProperty("longitude")?i=t.longitude:t.hasOwnProperty("lng")?i=t.lng:t.hasOwnProperty("long")?i=t.long:t.hasOwnProperty("location")&&Array.isArray(t.location)&&2===t.location.length&&(i=t.location[1]),this.object=t,this.position=s(e,i)}i.build=function(t){for(var e=t.length,i=new Array(e);e--;)i[e]=new a(t[e]);return n.build(i)},i.lookup=function(t,e,i,o,a){for(var u=n.lookup(s(t,e),i,o,a>0?2*Math.sin(a*r):void 0),l=u.length;l--;)u[l]=u[l].object;return u}},{"./kd":29}],31:[function(t,e,i){var n;n=function(t){"use strict";return t.TileLayer.Provider=t.TileLayer.extend({initialize:function(e,i){var n=t.TileLayer.Provider.providers,o=e.split("."),r=o[0],s=o[1];if(!n[r])throw"No such provider ("+r+")";var a={url:n[r].url,options:n[r].options};if(s&&"variants"in n[r]){if(!(s in n[r].variants))throw"No such variant of "+r+" ("+s+")";var u,l=n[r].variants[s];u="string"==typeof l?{variant:l}:l.options,a={url:l.url||a.url,options:t.Util.extend({},a.options,u)}}var h=function(t){return-1===t.indexOf("{attribution.")?t:t.replace(/\{attribution.(\w*)\}/,function(t,e){return h(n[e].options.attribution)})};a.options.attribution=h(a.options.attribution);var c=t.Util.extend({},a.options,i);t.TileLayer.prototype.initialize.call(this,a.url,c)}}),t.TileLayer.Provider.providers={OpenStreetMap:{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'},variants:{Mapnik:{},BlackAndWhite:{url:"http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png",options:{maxZoom:18}},DE:{url:"https://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png",options:{maxZoom:18}},CH:{url:"https://tile.osm.ch/switzerland/{z}/{x}/{y}.png",options:{maxZoom:18,bounds:[[45,5],[48,11]]}},France:{url:"https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",options:{maxZoom:20,attribution:"&copy; Openstreetmap France | {attribution.OpenStreetMap}"}},HOT:{url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",options:{attribution:'{attribution.OpenStreetMap}, Tiles courtesy of <a href="http://hot.openstreetmap.org/" target="_blank">Humanitarian OpenStreetMap Team</a>'}},BZH:{url:"https://tile.openstreetmap.bzh/br/{z}/{x}/{y}.png",options:{attribution:'{attribution.OpenStreetMap}, Tiles courtesy of <a href="http://www.openstreetmap.bzh/" target="_blank">Breton OpenStreetMap Team</a>',bounds:[[46.2,-5.5],[50,.7]]}}}},OpenInfraMap:{url:"https://tiles-{s}.openinframap.org/{variant}/{z}/{x}/{y}.png",options:{maxZoom:18,attribution:'{attribution.OpenStreetMap}, <a href="http://www.openinframap.org/about.html">About OpenInfraMap</a>'},variants:{Power:"power",Telecom:"telecoms",Petroleum:"petroleum",Water:"water"}},OpenSeaMap:{url:"https://tiles.openseamap.org/seamark/{z}/{x}/{y}.png",options:{attribution:'Map data: &copy; <a href="http://www.openseamap.org">OpenSeaMap</a> contributors'}},OpenPtMap:{url:"http://openptmap.org/tiles/{z}/{x}/{y}.png",options:{maxZoom:17,attribution:'Map data: &copy; <a href="http://www.openptmap.org">OpenPtMap</a> contributors'}},OpenTopoMap:{url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",options:{maxZoom:17,attribution:'Map data: {attribution.OpenStreetMap}, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},OpenRailwayMap:{url:"https://{s}.tiles.openrailwaymap.org/standard/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="https://www.OpenRailwayMap.org">OpenRailwayMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},OpenFireMap:{url:"http://openfiremap.org/hytiles/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="http://www.openfiremap.org">OpenFireMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},SafeCast:{url:"https://s3.amazonaws.com/te512.safecast.org/{z}/{x}/{y}.png",options:{maxZoom:16,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="https://blog.safecast.org/about/">SafeCast</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},Thunderforest:{url:"https://{s}.tile.thunderforest.com/{variant}/{z}/{x}/{y}.png?apikey={apikey}",options:{attribution:'&copy; <a href="http://www.thunderforest.com/">Thunderforest</a>, {attribution.OpenStreetMap}',variant:"cycle",apikey:"<insert your api key here>",maxZoom:22},variants:{OpenCycleMap:"cycle",Transport:{options:{variant:"transport"}},TransportDark:{options:{variant:"transport-dark"}},SpinalMap:{options:{variant:"spinal-map"}},Landscape:"landscape",Outdoors:"outdoors",Pioneer:"pioneer"}},OpenMapSurfer:{url:"https://korona.geog.uni-heidelberg.de/tiles/{variant}/x={x}&y={y}&z={z}",options:{maxZoom:20,variant:"roads",attribution:'Imagery from <a href="http://giscience.uni-hd.de/">GIScience Research Group @ University of Heidelberg</a> &mdash; Map data {attribution.OpenStreetMap}'},variants:{Roads:"roads",AdminBounds:{options:{variant:"adminb",maxZoom:19}},Grayscale:{options:{variant:"roadsg",maxZoom:19}}}},Hydda:{url:"https://{s}.tile.openstreetmap.se/hydda/{variant}/{z}/{x}/{y}.png",options:{maxZoom:18,variant:"full",attribution:'Tiles courtesy of <a href="http://openstreetmap.se/" target="_blank">OpenStreetMap Sweden</a> &mdash; Map data {attribution.OpenStreetMap}'},variants:{Full:"full",Base:"base",RoadsAndLabels:"roads_and_labels"}},MapBox:{url:"https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}{r}.png?access_token={accessToken}",options:{attribution:'Imagery from <a href="http://mapbox.com/about/maps/">MapBox</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:"abcd",id:"streets",accessToken:"<insert your access token here>"}},Stamen:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}{r}.{ext}",options:{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:"abcd",minZoom:0,maxZoom:20,variant:"toner",ext:"png"},variants:{Toner:"toner",TonerBackground:"toner-background",TonerHybrid:"toner-hybrid",TonerLines:"toner-lines",TonerLabels:"toner-labels",TonerLite:"toner-lite",Watercolor:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}",options:{variant:"watercolor",minZoom:1,maxZoom:16}},Terrain:{options:{variant:"terrain",minZoom:0,maxZoom:18}},TerrainBackground:{options:{variant:"terrain-background",minZoom:0,maxZoom:18}},TopOSMRelief:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}",options:{variant:"toposm-color-relief",ext:"jpg",bounds:[[22,-132],[51,-56]]}},TopOSMFeatures:{options:{variant:"toposm-features",bounds:[[22,-132],[51,-56]],opacity:.9}}}},Esri:{url:"https://server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}",options:{variant:"World_Street_Map",attribution:"Tiles &copy; Esri"},variants:{WorldStreetMap:{options:{attribution:"{attribution.Esri} &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"}},DeLorme:{options:{variant:"Specialty/DeLorme_World_Base_Map",minZoom:1,maxZoom:11,attribution:"{attribution.Esri} &mdash; Copyright: &copy;2012 DeLorme"}},WorldTopoMap:{options:{variant:"World_Topo_Map",attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"}},WorldImagery:{options:{variant:"World_Imagery",attribution:"{attribution.Esri} &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}},WorldTerrain:{options:{variant:"World_Terrain_Base",maxZoom:13,attribution:"{attribution.Esri} &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS"}},WorldShadedRelief:{options:{variant:"World_Shaded_Relief",maxZoom:13,attribution:"{attribution.Esri} &mdash; Source: Esri"}},WorldPhysical:{options:{variant:"World_Physical_Map",maxZoom:8,attribution:"{attribution.Esri} &mdash; Source: US National Park Service"}},OceanBasemap:{options:{variant:"Ocean_Basemap",maxZoom:13,attribution:"{attribution.Esri} &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri"}},NatGeoWorldMap:{options:{variant:"NatGeo_World_Map",maxZoom:16,attribution:"{attribution.Esri} &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC"}},WorldGrayCanvas:{options:{variant:"Canvas/World_Light_Gray_Base",maxZoom:16,attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ"}}}},OpenWeatherMap:{url:"http://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png?appid={apiKey}",options:{maxZoom:19,attribution:'Map data &copy; <a href="http://openweathermap.org">OpenWeatherMap</a>',apiKey:"<insert your api key here>",opacity:.5},variants:{Clouds:"clouds",CloudsClassic:"clouds_cls",Precipitation:"precipitation",PrecipitationClassic:"precipitation_cls",Rain:"rain",RainClassic:"rain_cls",Pressure:"pressure",PressureContour:"pressure_cntr",Wind:"wind",Temperature:"temp",Snow:"snow"}},HERE:{url:"https://{s}.{base}.maps.cit.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}",options:{attribution:'Map &copy; 1987-2014 <a href="http://developer.here.com">HERE</a>',subdomains:"1234",mapID:"newest",app_id:"<insert your app_id here>",app_code:"<insert your app_code here>",base:"base",variant:"normal.day",maxZoom:20,type:"maptile",language:"eng",format:"png8",size:"256"},variants:{normalDay:"normal.day",normalDayCustom:"normal.day.custom",normalDayGrey:"normal.day.grey",normalDayMobile:"normal.day.mobile",normalDayGreyMobile:"normal.day.grey.mobile",normalDayTransit:"normal.day.transit",normalDayTransitMobile:"normal.day.transit.mobile",normalNight:"normal.night",normalNightMobile:"normal.night.mobile",normalNightGrey:"normal.night.grey",normalNightGreyMobile:"normal.night.grey.mobile",basicMap:{options:{type:"basetile"}},mapLabels:{options:{type:"labeltile",format:"png"}},trafficFlow:{options:{base:"traffic",type:"flowtile"}},carnavDayGrey:"carnav.day.grey",hybridDay:{options:{base:"aerial",variant:"hybrid.day"}},hybridDayMobile:{options:{base:"aerial",variant:"hybrid.day.mobile"}},pedestrianDay:"pedestrian.day",pedestrianNight:"pedestrian.night",satelliteDay:{options:{base:"aerial",variant:"satellite.day"}},terrainDay:{options:{base:"aerial",variant:"terrain.day"}},terrainDayMobile:{options:{base:"aerial",variant:"terrain.day.mobile"}}}},FreeMapSK:{url:"http://t{s}.freemap.sk/T/{z}/{x}/{y}.jpeg",options:{minZoom:8,maxZoom:16,subdomains:"1234",bounds:[[47.204642,15.996093],[49.830896,22.576904]],attribution:'{attribution.OpenStreetMap}, vizualization CC-By-SA 2.0 <a href="http://freemap.sk">Freemap.sk</a>'}},MtbMap:{url:"http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png",options:{attribution:"{attribution.OpenStreetMap} &amp; USGS"}},CartoDB:{url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/{variant}/{z}/{x}/{y}{r}.png",options:{attribution:'{attribution.OpenStreetMap} &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',subdomains:"abcd",maxZoom:19,variant:"light_all"},variants:{Positron:"light_all",PositronNoLabels:"light_nolabels",PositronOnlyLabels:"light_only_labels",DarkMatter:"dark_all",DarkMatterNoLabels:"dark_nolabels",DarkMatterOnlyLabels:"dark_only_labels",Voyager:"rastertiles/voyager",VoyagerNoLabels:"rastertiles/voyager_nolabels",VoyagerOnlyLabels:"rastertiles/voyager_only_labels",VoyagerLabelsUnder:"rastertiles/voyager_labels_under"}},HikeBike:{url:"http://{s}.tiles.wmflabs.org/{variant}/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:"{attribution.OpenStreetMap}",variant:"hikebike"},variants:{HikeBike:{},HillShading:{options:{maxZoom:15,variant:"hillshading"}}}},BasemapAT:{url:"https://maps{s}.wien.gv.at/basemap/{variant}/normal/google3857/{z}/{y}/{x}.{format}",options:{maxZoom:19,attribution:'Datenquelle: <a href="https://www.basemap.at">basemap.at</a>',subdomains:["","1","2","3","4"],format:"png",bounds:[[46.35877,8.782379],[49.037872,17.189532]],variant:"geolandbasemap"},variants:{basemap:{options:{maxZoom:20,variant:"geolandbasemap"}},grau:"bmapgrau",overlay:"bmapoverlay",highdpi:{options:{variant:"bmaphidpi",format:"jpeg"}},orthofoto:{options:{maxZoom:20,variant:"bmaporthofoto30cm",format:"jpeg"}}}},nlmaps:{url:"https://geodata.nationaalgeoregister.nl/tiles/service/wmts/{variant}/EPSG:3857/{z}/{x}/{y}.png",options:{minZoom:6,maxZoom:19,bounds:[[50.5,3.25],[54,7.6]],attribution:'Kaartgegevens &copy; <a href="kadaster.nl">Kadaster</a>'},variants:{standaard:"brtachtergrondkaart",pastel:"brtachtergrondkaartpastel",grijs:"brtachtergrondkaartgrijs",luchtfoto:{url:"https://geodata.nationaalgeoregister.nl/luchtfoto/rgb/wmts/1.0.0/2016_ortho25/EPSG:3857/{z}/{x}/{y}.png"}}},NASAGIBS:{url:"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}{maxZoom}/{z}/{y}/{x}.{format}",options:{attribution:'Imagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (<a href="https://earthdata.nasa.gov">ESDIS</a>) with funding provided by NASA/HQ.',bounds:[[-85.0511287776,-179.999999975],[85.0511287776,179.999999975]],minZoom:1,maxZoom:9,format:"jpg",time:"",tilematrixset:"GoogleMapsCompatible_Level"},variants:{ModisTerraTrueColorCR:"MODIS_Terra_CorrectedReflectance_TrueColor",ModisTerraBands367CR:"MODIS_Terra_CorrectedReflectance_Bands367",ViirsEarthAtNight2012:{options:{variant:"VIIRS_CityLights_2012",maxZoom:8}},ModisTerraLSTDay:{options:{variant:"MODIS_Terra_Land_Surface_Temp_Day",format:"png",maxZoom:7,opacity:.75}},ModisTerraSnowCover:{options:{variant:"MODIS_Terra_Snow_Cover",format:"png",maxZoom:8,opacity:.75}},ModisTerraAOD:{options:{variant:"MODIS_Terra_Aerosol",format:"png",maxZoom:6,opacity:.75}},ModisTerraChlorophyll:{options:{variant:"MODIS_Terra_Chlorophyll_A",format:"png",maxZoom:7,opacity:.75}}}},NLS:{url:"https://nls-{s}.tileserver.com/nls/{z}/{x}/{y}.jpg",options:{attribution:'<a href="http://geo.nls.uk/maps/">National Library of Scotland Historic Maps</a>',bounds:[[49.6,-12],[61.7,3]],minZoom:1,maxZoom:18,subdomains:"0123"}},JusticeMap:{url:"http://www.justicemap.org/tile/{size}/{variant}/{z}/{x}/{y}.png",options:{attribution:'<a href="http://www.justicemap.org/terms.php">Justice Map</a>',size:"county",bounds:[[14,-180],[72,-56]]},variants:{income:"income",americanIndian:"indian",asian:"asian",black:"black",hispanic:"hispanic",multi:"multi",nonWhite:"nonwhite",white:"white",plurality:"plural"}},Wikimedia:{url:"https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}{r}.png",options:{attribution:'<a href="https://wikimediafoundation.org/wiki/Maps_Terms_of_Use">Wikimedia</a>',minZoom:1,maxZoom:19}},GeoportailFrance:{url:"https://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET=PM&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}",options:{attribution:'<a target="_blank" href="https://www.geoportail.gouv.fr/">Geoportail France</a>',bounds:[[-75,-180],[81,180]],minZoom:2,maxZoom:18,apikey:"choisirgeoportail",format:"image/jpeg",style:"normal",variant:"GEOGRAPHICALGRIDSYSTEMS.MAPS.SCAN-EXPRESS.STANDARD"},variants:{parcels:{options:{variant:"CADASTRALPARCELS.PARCELS",maxZoom:20,style:"bdparcellaire",format:"image/png"}},ignMaps:"GEOGRAPHICALGRIDSYSTEMS.MAPS",maps:"GEOGRAPHICALGRIDSYSTEMS.MAPS.SCAN-EXPRESS.STANDARD",orthos:{options:{maxZoom:19,variant:"ORTHOIMAGERY.ORTHOPHOTOS"}}}}},t.tileLayer.provider=function(e,i){return new t.TileLayer.Provider(e,i)},t},"function"==typeof define&&define.amd?define(["leaflet"],n):"object"==typeof modules&&e.exports?e.exports=n(t("leaflet")):n(L)},{leaflet:33}],32:[function(t,e,i){var n,o;n=this,o=function(t){"use strict";var e=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(t){L.Util.setOptions(this,t),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var e=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,e?this._withAnimation:this._noAnimation),this._markerCluster=e?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(t){if(t instanceof L.LayerGroup)return this.addLayers([t]);if(!t.getLatLng)return this._nonPointGroup.addLayer(t),this.fire("layeradd",{layer:t}),this;if(!this._map)return this._needsClustering.push(t),this.fire("layeradd",{layer:t}),this;if(this.hasLayer(t))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(t,this._maxZoom),this.fire("layeradd",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var e=t,i=this._zoom;if(t.__parent)for(;e.__parent._zoom>=i;)e=e.__parent;return this._currentShownBounds.contains(e.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(t,e):this._animationAddLayerNonAnimated(t,e)),this},removeLayer:function(t){return t instanceof L.LayerGroup?this.removeLayers([t]):t.getLatLng?this._map?t.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(t)),this._removeLayer(t,!0),this.fire("layerremove",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),t.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(t)&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,t)&&this.hasLayer(t)&&this._needsRemoving.push({layer:t,latlng:t._latlng}),this.fire("layerremove",{layer:t}),this):(this._nonPointGroup.removeLayer(t),this.fire("layerremove",{layer:t}),this)},addLayers:function(t,e){if(!L.Util.isArray(t))return this.addLayer(t);var i,n=this._featureGroup,o=this._nonPointGroup,r=this.options.chunkedLoading,s=this.options.chunkInterval,a=this.options.chunkProgress,u=t.length,l=0,h=!0;if(this._map){var c=(new Date).getTime(),p=L.bind(function(){for(var d=(new Date).getTime();l<u;l++){if(r&&l%200==0)if((new Date).getTime()-d>s)break;if((i=t[l])instanceof L.LayerGroup)h&&(t=t.slice(),h=!1),this._extractNonGroupLayers(i,t),u=t.length;else if(i.getLatLng){if(!this.hasLayer(i)&&(this._addLayer(i,this._maxZoom),e||this.fire("layeradd",{layer:i}),i.__parent&&2===i.__parent.getChildCount())){var f=i.__parent.getAllChildMarkers(),_=f[0]===i?f[1]:f[0];n.removeLayer(_)}}else o.addLayer(i),e||this.fire("layeradd",{layer:i})}a&&a(l,u,(new Date).getTime()-c),l===u?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(p,this.options.chunkDelay)},this);p()}else for(var d=this._needsClustering;l<u;l++)(i=t[l])instanceof L.LayerGroup?(h&&(t=t.slice(),h=!1),this._extractNonGroupLayers(i,t),u=t.length):i.getLatLng?this.hasLayer(i)||d.push(i):o.addLayer(i);return this},removeLayers:function(t){var e,i,n=t.length,o=this._featureGroup,r=this._nonPointGroup,s=!0;if(!this._map){for(e=0;e<n;e++)(i=t[e])instanceof L.LayerGroup?(s&&(t=t.slice(),s=!1),this._extractNonGroupLayers(i,t),n=t.length):(this._arraySplice(this._needsClustering,i),r.removeLayer(i),this.hasLayer(i)&&this._needsRemoving.push({layer:i,latlng:i._latlng}),this.fire("layerremove",{layer:i}));return this}if(this._unspiderfy){this._unspiderfy();var a=t.slice(),u=n;for(e=0;e<u;e++)(i=a[e])instanceof L.LayerGroup?(this._extractNonGroupLayers(i,a),u=a.length):this._unspiderfyLayer(i)}for(e=0;e<n;e++)(i=t[e])instanceof L.LayerGroup?(s&&(t=t.slice(),s=!1),this._extractNonGroupLayers(i,t),n=t.length):i.__parent?(this._removeLayer(i,!0,!0),this.fire("layerremove",{layer:i}),o.hasLayer(i)&&(o.removeLayer(i),i.clusterShow&&i.clusterShow())):(r.removeLayer(i),this.fire("layerremove",{layer:i}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(t){t.off(this._childMarkerEventHandlers,this),delete t.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var t=new L.LatLngBounds;this._topClusterLevel&&t.extend(this._topClusterLevel._bounds);for(var e=this._needsClustering.length-1;e>=0;e--)t.extend(this._needsClustering[e].getLatLng());return t.extend(this._nonPointGroup.getBounds()),t},eachLayer:function(t,e){var i,n,o,r=this._needsClustering.slice(),s=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(r),n=r.length-1;n>=0;n--){for(i=!0,o=s.length-1;o>=0;o--)if(s[o].layer===r[n]){i=!1;break}i&&t.call(e,r[n])}this._nonPointGroup.eachLayer(t,e)},getLayers:function(){var t=[];return this.eachLayer(function(e){t.push(e)}),t},getLayer:function(t){var e=null;return t=parseInt(t,10),this.eachLayer(function(i){L.stamp(i)===t&&(e=i)}),e},hasLayer:function(t){if(!t)return!1;var e,i=this._needsClustering;for(e=i.length-1;e>=0;e--)if(i[e]===t)return!0;for(e=(i=this._needsRemoving).length-1;e>=0;e--)if(i[e].layer===t)return!1;return!(!t.__parent||t.__parent._group!==this)||this._nonPointGroup.hasLayer(t)},zoomToShowLayer:function(t,e){"function"!=typeof e&&(e=function(){});var i=function(){!t._icon&&!t.__parent._icon||this._inZoomAnimation||(this._map.off("moveend",i,this),this.off("animationend",i,this),t._icon?e():t.__parent._icon&&(this.once("spiderfied",e,this),t.__parent.spiderfy()))};t._icon&&this._map.getBounds().contains(t.getLatLng())?e():t.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",i,this),this._map.panTo(t.getLatLng())):(this._map.on("moveend",i,this),this.on("animationend",i,this),t.__parent.zoomToBounds())},onAdd:function(t){var e,i,n;if(this._map=t,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(t),this._nonPointGroup.addTo(t),this._gridClusters||this._generateInitialClusters(),this._maxLat=t.options.crs.projection.MAX_LATITUDE,e=0,i=this._needsRemoving.length;e<i;e++)(n=this._needsRemoving[e]).newlatlng=n.layer._latlng,n.layer._latlng=n.latlng;for(e=0,i=this._needsRemoving.length;e<i;e++)n=this._needsRemoving[e],this._removeLayer(n.layer,!0),n.layer._latlng=n.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),i=this._needsClustering,this._needsClustering=[],this.addLayers(i,!0)},onRemove:function(t){t.off("zoomend",this._zoomEnd,this),t.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(t){for(var e=t;e&&!e._icon;)e=e.__parent;return e||null},_arraySplice:function(t,e){for(var i=t.length-1;i>=0;i--)if(t[i]===e)return t.splice(i,1),!0},_removeFromGridUnclustered:function(t,e){for(var i=this._map,n=this._gridUnclustered,o=Math.floor(this._map.getMinZoom());e>=o&&n[e].removeObject(t,i.project(t.getLatLng(),e));e--);},_childMarkerDragStart:function(t){t.target.__dragStart=t.target._latlng},_childMarkerMoved:function(t){if(!this._ignoreMove&&!t.target.__dragStart){var e=t.target._popup&&t.target._popup.isOpen();this._moveChild(t.target,t.oldLatLng,t.latlng),e&&t.target.openPopup()}},_moveChild:function(t,e,i){t._latlng=e,this.removeLayer(t),t._latlng=i,this.addLayer(t)},_childMarkerDragEnd:function(t){t.target.__dragStart&&this._moveChild(t.target,t.target.__dragStart,t.target._latlng),delete t.target.__dragStart},_removeLayer:function(t,e,i){var n=this._gridClusters,o=this._gridUnclustered,r=this._featureGroup,s=this._map,a=Math.floor(this._map.getMinZoom());e&&this._removeFromGridUnclustered(t,this._maxZoom);var u,l=t.__parent,h=l._markers;for(this._arraySplice(h,t);l&&(l._childCount--,l._boundsNeedUpdate=!0,!(l._zoom<a));)e&&l._childCount<=1?(u=l._markers[0]===t?l._markers[1]:l._markers[0],n[l._zoom].removeObject(l,s.project(l._cLatLng,l._zoom)),o[l._zoom].addObject(u,s.project(u.getLatLng(),l._zoom)),this._arraySplice(l.__parent._childClusters,l),l.__parent._markers.push(u),u.__parent=l.__parent,l._icon&&(r.removeLayer(l),i||r.addLayer(u))):l._iconNeedsUpdate=!0,l=l.__parent;delete t.__parent},_isOrIsParent:function(t,e){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},fire:function(t,e,i){if(e&&e.layer instanceof L.MarkerCluster){if(e.originalEvent&&this._isOrIsParent(e.layer._icon,e.originalEvent.relatedTarget))return;t="cluster"+t}L.FeatureGroup.prototype.fire.call(this,t,e,i)},listens:function(t,e){return L.FeatureGroup.prototype.listens.call(this,t,e)||L.FeatureGroup.prototype.listens.call(this,"cluster"+t,e)},_defaultIconCreateFunction:function(t){var e=t.getChildCount(),i=" marker-cluster-";return i+=e<10?"small":e<100?"medium":"large",new L.DivIcon({html:"<div><span>"+e+"</span></div>",className:"marker-cluster"+i,iconSize:new L.Point(40,40)})},_bindEvents:function(){var t=this._map,e=this.options.spiderfyOnMaxZoom,i=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick;(e||n)&&this.on("clusterclick",this._zoomOrSpiderfy,this),i&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),t.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){for(var e=t.layer,i=e;1===i._childClusters.length;)i=i._childClusters[0];i._zoom===this._maxZoom&&i._childCount===e._childCount&&this.options.spiderfyOnMaxZoom?e.spiderfy():this.options.zoomToBoundsOnClick&&e.zoomToBounds(),t.originalEvent&&13===t.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(t){var e=this._map;this._inZoomAnimation||(this._shownPolygon&&e.removeLayer(this._shownPolygon),t.layer.getChildCount()>2&&t.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(t.layer.getConvexHull(),this.options.polygonOptions),e.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.spiderfyOnMaxZoom,e=this.options.showCoverageOnHover,i=this.options.zoomToBoundsOnClick,n=this._map;(t||i)&&this.off("clusterclick",this._zoomOrSpiderfy,this),e&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),n.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var t=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),t),this._currentShownBounds=t}},_generateInitialClusters:function(){var t=Math.ceil(this._map.getMaxZoom()),e=Math.floor(this._map.getMinZoom()),i=this.options.maxClusterRadius,n=i;"function"!=typeof i&&(n=function(){return i}),null!==this.options.disableClusteringAtZoom&&(t=this.options.disableClusteringAtZoom-1),this._maxZoom=t,this._gridClusters={},this._gridUnclustered={};for(var o=t;o>=e;o--)this._gridClusters[o]=new L.DistanceGrid(n(o)),this._gridUnclustered[o]=new L.DistanceGrid(n(o));this._topClusterLevel=new this._markerCluster(this,e-1)},_addLayer:function(t,e){var i,n,o=this._gridClusters,r=this._gridUnclustered,s=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(t),t.on(this._childMarkerEventHandlers,this);e>=s;e--){i=this._map.project(t.getLatLng(),e);var a=o[e].getNearObject(i);if(a)return a._addChild(t),void(t.__parent=a);if(a=r[e].getNearObject(i)){var u=a.__parent;u&&this._removeLayer(a,!1);var l=new this._markerCluster(this,e,a,t);o[e].addObject(l,this._map.project(l._cLatLng,e)),a.__parent=l,t.__parent=l;var h=l;for(n=e-1;n>u._zoom;n--)h=new this._markerCluster(this,n,h),o[n].addObject(h,this._map.project(a.getLatLng(),n));return u._addChild(h),void this._removeFromGridUnclustered(a,e)}r[e].addObject(t,i)}this._topClusterLevel._addChild(t),t.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()})},_enqueue:function(t){this._queue.push(t),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var t=Math.round(this._map._zoom);this._processQueue(),this._zoom<t&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,t)):this._zoom>t?(this._animationStart(),this._animationZoomOut(this._zoom,t)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(t){var e=this._maxLat;return void 0!==e&&(t.getNorth()>=e&&(t._northEast.lat=1/0),t.getSouth()<=-e&&(t._southWest.lat=-1/0)),t},_animationAddLayerNonAnimated:function(t,e){if(e===t)this._featureGroup.addLayer(t);else if(2===e._childCount){e._addToMap();var i=e.getAllChildMarkers();this._featureGroup.removeLayer(i[0]),this._featureGroup.removeLayer(i[1])}else e._updateIcon()},_extractNonGroupLayers:function(t,e){var i,n=t.getLayers(),o=0;for(e=e||[];o<n.length;o++)(i=n[o])instanceof L.LayerGroup?this._extractNonGroupLayers(i,e):e.push(i);return e},_overrideMarkerIcon:function(t){return t.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[t]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(t,e){this._animationAddLayerNonAnimated(t,e)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(t,e){var i,n=this._getExpandedVisibleBounds(),o=this._featureGroup,r=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(n,t,r,function(r){var s,a=r._latlng,u=r._markers;for(n.contains(a)||(a=null),r._isSingleParent()&&t+1===e?(o.removeLayer(r),r._recursivelyAddChildrenToMap(null,e,n)):(r.clusterHide(),r._recursivelyAddChildrenToMap(a,e,n)),i=u.length-1;i>=0;i--)s=u[i],n.contains(s._latlng)||o.removeLayer(s)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(n,e),o.eachLayer(function(t){t instanceof L.MarkerCluster||!t._icon||t.clusterShow()}),this._topClusterLevel._recursively(n,t,e,function(t){t._recursivelyRestoreChildPositions(e)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(n,t,r,function(t){o.removeLayer(t),t.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(t,e){this._animationZoomOutSingle(this._topClusterLevel,t-1,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t,this._getExpandedVisibleBounds())},_animationAddLayer:function(t,e){var i=this,n=this._featureGroup;n.addLayer(t),e!==t&&(e._childCount>2?(e._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(e.getLatLng())),t.clusterHide(),this._enqueue(function(){n.removeLayer(t),t.clusterShow(),i._animationEnd()})):(this._forceLayout(),i._animationStart(),i._animationZoomOutSingle(e,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(t,e,i){var n=this._getExpandedVisibleBounds(),o=Math.floor(this._map.getMinZoom());t._recursivelyAnimateChildrenInAndAddSelfToMap(n,o,e+1,i);var r=this;this._forceLayout(),t._recursivelyBecomeVisible(n,i),this._enqueue(function(){if(1===t._childCount){var s=t._markers[0];this._ignoreMove=!0,s.setLatLng(s.getLatLng()),this._ignoreMove=!1,s.clusterShow&&s.clusterShow()}else t._recursively(n,i,o,function(t){t._recursivelyRemoveChildrenFromMap(n,o,e+1)});r._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(t){return new L.MarkerClusterGroup(t)};var i=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(t,e,i,n){L.Marker.prototype.initialize.call(this,i?i._cLatLng||i.getLatLng():new L.LatLng(0,0),{icon:this,pane:t.options.clusterPane}),this._group=t,this._zoom=e,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,i&&this._addChild(i),n&&this._addChild(n)},getAllChildMarkers:function(t){t=t||[];for(var e=this._childClusters.length-1;e>=0;e--)this._childClusters[e].getAllChildMarkers(t);for(var i=this._markers.length-1;i>=0;i--)t.push(this._markers[i]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(t){for(var e,i=this._childClusters.slice(),n=this._group._map,o=n.getBoundsZoom(this._bounds),r=this._zoom+1,s=n.getZoom();i.length>0&&o>r;){r++;var a=[];for(e=0;e<i.length;e++)a=a.concat(i[e]._childClusters);i=a}o>r?this._group._map.setView(this._latlng,r):o<=s?this._group._map.setView(this._latlng,s+1):this._group._map.fitBounds(this._bounds,t)},getBounds:function(){var t=new L.LatLngBounds;return t.extend(this._bounds),t},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(t,e){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(t),t instanceof L.MarkerCluster?(e||(this._childClusters.push(t),t.__parent=this),this._childCount+=t._childCount):(e||this._markers.push(t),this._childCount++),this.__parent&&this.__parent._addChild(t,!0)},_setClusterCenter:function(t){this._cLatLng||(this._cLatLng=t._cLatLng||t._latlng)},_resetBounds:function(){var t=this._bounds;t._southWest&&(t._southWest.lat=1/0,t._southWest.lng=1/0),t._northEast&&(t._northEast.lat=-1/0,t._northEast.lng=-1/0)},_recalculateBounds:function(){var t,e,i,n,o=this._markers,r=this._childClusters,s=0,a=0,u=this._childCount;if(0!==u){for(this._resetBounds(),t=0;t<o.length;t++)i=o[t]._latlng,this._bounds.extend(i),s+=i.lat,a+=i.lng;for(t=0;t<r.length;t++)(e=r[t])._boundsNeedUpdate&&e._recalculateBounds(),this._bounds.extend(e._bounds),i=e._wLatLng,n=e._childCount,s+=i.lat*n,a+=i.lng*n;this._latlng=this._wLatLng=new L.LatLng(s/u,a/u),this._boundsNeedUpdate=!1}},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(t,e,i){this._recursively(t,this._group._map.getMinZoom(),i-1,function(t){var i,n,o=t._markers;for(i=o.length-1;i>=0;i--)(n=o[i])._icon&&(n._setPos(e),n.clusterHide())},function(t){var i,n,o=t._childClusters;for(i=o.length-1;i>=0;i--)(n=o[i])._icon&&(n._setPos(e),n.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(t,e,i,n){this._recursively(t,n,e,function(o){o._recursivelyAnimateChildrenIn(t,o._group._map.latLngToLayerPoint(o.getLatLng()).round(),i),o._isSingleParent()&&i-1===n?(o.clusterShow(),o._recursivelyRemoveChildrenFromMap(t,e,i)):o.clusterHide(),o._addToMap()})},_recursivelyBecomeVisible:function(t,e){this._recursively(t,this._group._map.getMinZoom(),e,null,function(t){t.clusterShow()})},_recursivelyAddChildrenToMap:function(t,e,i){this._recursively(i,this._group._map.getMinZoom()-1,e,function(n){if(e!==n._zoom)for(var o=n._markers.length-1;o>=0;o--){var r=n._markers[o];i.contains(r._latlng)&&(t&&(r._backupLatlng=r.getLatLng(),r.setLatLng(t),r.clusterHide&&r.clusterHide()),n._group._featureGroup.addLayer(r))}},function(e){e._addToMap(t)})},_recursivelyRestoreChildPositions:function(t){for(var e=this._markers.length-1;e>=0;e--){var i=this._markers[e];i._backupLatlng&&(i.setLatLng(i._backupLatlng),delete i._backupLatlng)}if(t-1===this._zoom)for(var n=this._childClusters.length-1;n>=0;n--)this._childClusters[n]._restorePosition();else for(var o=this._childClusters.length-1;o>=0;o--)this._childClusters[o]._recursivelyRestoreChildPositions(t)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(t,e,i,n){var o,r;this._recursively(t,e-1,i-1,function(t){for(r=t._markers.length-1;r>=0;r--)o=t._markers[r],n&&n.contains(o._latlng)||(t._group._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow())},function(t){for(r=t._childClusters.length-1;r>=0;r--)o=t._childClusters[r],n&&n.contains(o._latlng)||(t._group._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow())})},_recursively:function(t,e,i,n,o){var r,s,a=this._childClusters,u=this._zoom;if(e<=u&&(n&&n(this),o&&u===i&&o(this)),u<e||u<i)for(r=a.length-1;r>=0;r--)s=a[r],t.intersects(s._bounds)&&s._recursively(t,e,i,n,o)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){return this.options.opacityWhenUnclustered=this.options.opacity||1,this.setOpacity(0)},clusterShow:function(){var t=this.setOpacity(this.options.opacity||this.options.opacityWhenUnclustered);return delete this.options.opacityWhenUnclustered,t}}),L.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(t,e){var i=this._getCoord(e.x),n=this._getCoord(e.y),o=this._grid,r=o[n]=o[n]||{},s=r[i]=r[i]||[],a=L.Util.stamp(t);this._objectPoint[a]=e,s.push(t)},updateObject:function(t,e){this.removeObject(t),this.addObject(t,e)},removeObject:function(t,e){var i,n,o=this._getCoord(e.x),r=this._getCoord(e.y),s=this._grid,a=s[r]=s[r]||{},u=a[o]=a[o]||[];for(delete this._objectPoint[L.Util.stamp(t)],i=0,n=u.length;i<n;i++)if(u[i]===t)return u.splice(i,1),1===n&&delete a[o],!0},eachObject:function(t,e){var i,n,o,r,s,a,u=this._grid;for(i in u)for(n in s=u[i])for(o=0,r=(a=s[n]).length;o<r;o++)t.call(e,a[o])&&(o--,r--)},getNearObject:function(t){var e,i,n,o,r,s,a,u,l=this._getCoord(t.x),h=this._getCoord(t.y),c=this._objectPoint,p=this._sqCellSize,d=null;for(e=h-1;e<=h+1;e++)if(o=this._grid[e])for(i=l-1;i<=l+1;i++)if(r=o[i])for(n=0,s=r.length;n<s;n++)a=r[n],((u=this._sqDist(c[L.Util.stamp(a)],t))<p||u<=p&&null===d)&&(p=u,d=a);return d},_getCoord:function(t){var e=Math.floor(t/this._cellSize);return isFinite(e)?e:t},_sqDist:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n}},L.QuickHull={getDistant:function(t,e){var i=e[1].lat-e[0].lat;return(e[0].lng-e[1].lng)*(t.lat-e[0].lat)+i*(t.lng-e[0].lng)},findMostDistantPointFromBaseLine:function(t,e){var i,n,o,r=0,s=null,a=[];for(i=e.length-1;i>=0;i--)n=e[i],(o=this.getDistant(n,t))>0&&(a.push(n),o>r&&(r=o,s=n));return{maxPoint:s,newPoints:a}},buildConvexHull:function(t,e){var i=[],n=this.findMostDistantPointFromBaseLine(t,e);return n.maxPoint?i=(i=i.concat(this.buildConvexHull([t[0],n.maxPoint],n.newPoints))).concat(this.buildConvexHull([n.maxPoint,t[1]],n.newPoints)):[t[0]]},getConvexHull:function(t){var e,i=!1,n=!1,o=!1,r=!1,s=null,a=null,u=null,l=null,h=null,c=null;for(e=t.length-1;e>=0;e--){var p=t[e];(!1===i||p.lat>i)&&(s=p,i=p.lat),(!1===n||p.lat<n)&&(a=p,n=p.lat),(!1===o||p.lng>o)&&(u=p,o=p.lng),(!1===r||p.lng<r)&&(l=p,r=p.lng)}return n!==i?(c=a,h=s):(c=l,h=u),[].concat(this.buildConvexHull([c,h],t),this.buildConvexHull([h,c],t))}},L.MarkerCluster.include({getConvexHull:function(){var t,e,i=this.getAllChildMarkers(),n=[];for(e=i.length-1;e>=0;e--)t=i[e].getLatLng(),n.push(t);return L.QuickHull.getConvexHull(n)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var t,e=this.getAllChildMarkers(),i=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,e.length>=this._circleSpiralSwitchover?t=this._generatePointsSpiral(e.length,i):(i.y+=10,t=this._generatePointsCircle(e.length,i)),this._animationSpiderfy(e,t)}},unspiderfy:function(t){this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(t,e){var i,n,o=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+t)/this._2PI,r=this._2PI/t,s=[];for(o=Math.max(o,35),s.length=t,i=0;i<t;i++)n=this._circleStartAngle+i*r,s[i]=new L.Point(e.x+o*Math.cos(n),e.y+o*Math.sin(n))._round();return s},_generatePointsSpiral:function(t,e){var i,n=this._group.options.spiderfyDistanceMultiplier,o=n*this._spiralLengthStart,r=n*this._spiralFootSeparation,s=n*this._spiralLengthFactor*this._2PI,a=0,u=[];for(u.length=t,i=t;i>=0;i--)i<t&&(u[i]=new L.Point(e.x+o*Math.cos(a),e.y+o*Math.sin(a))._round()),o+=s/(a+=r/o+5e-4*i);return u},_noanimationUnspiderfy:function(){var t,e,i=this._group,n=i._map,o=i._featureGroup,r=this.getAllChildMarkers();for(i._ignoreMove=!0,this.setOpacity(1),e=r.length-1;e>=0;e--)t=r[e],o.removeLayer(t),t._preSpiderfyLatlng&&(t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng),t.setZIndexOffset&&t.setZIndexOffset(0),t._spiderLeg&&(n.removeLayer(t._spiderLeg),delete t._spiderLeg);i.fire("unspiderfied",{cluster:this,markers:r}),i._ignoreMove=!1,i._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(t,e){var i,n,o,r,s=this._group,a=s._map,u=s._featureGroup,l=this._group.options.spiderLegPolylineOptions;for(s._ignoreMove=!0,i=0;i<t.length;i++)r=a.layerPointToLatLng(e[i]),n=t[i],o=new L.Polyline([this._latlng,r],l),a.addLayer(o),n._spiderLeg=o,n._preSpiderfyLatlng=n._latlng,n.setLatLng(r),n.setZIndexOffset&&n.setZIndexOffset(1e6),u.addLayer(n);this.setOpacity(.3),s._ignoreMove=!1,s.fire("spiderfied",{cluster:this,markers:t})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(t,e){var i,n,o,r,s,a,u=this,l=this._group,h=l._map,c=l._featureGroup,p=this._latlng,d=h.latLngToLayerPoint(p),f=L.Path.SVG,_=L.extend({},this._group.options.spiderLegPolylineOptions),m=_.opacity;for(void 0===m&&(m=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),f?(_.opacity=0,_.className=(_.className||"")+" leaflet-cluster-spider-leg"):_.opacity=m,l._ignoreMove=!0,i=0;i<t.length;i++)n=t[i],a=h.layerPointToLatLng(e[i]),o=new L.Polyline([p,a],_),h.addLayer(o),n._spiderLeg=o,f&&(s=(r=o._path).getTotalLength()+.1,r.style.strokeDasharray=s,r.style.strokeDashoffset=s),n.setZIndexOffset&&n.setZIndexOffset(1e6),n.clusterHide&&n.clusterHide(),c.addLayer(n),n._setPos&&n._setPos(d);for(l._forceLayout(),l._animationStart(),i=t.length-1;i>=0;i--)a=h.layerPointToLatLng(e[i]),(n=t[i])._preSpiderfyLatlng=n._latlng,n.setLatLng(a),n.clusterShow&&n.clusterShow(),f&&((r=(o=n._spiderLeg)._path).style.strokeDashoffset=0,o.setStyle({opacity:m}));this.setOpacity(.3),l._ignoreMove=!1,setTimeout(function(){l._animationEnd(),l.fire("spiderfied",{cluster:u,markers:t})},200)},_animationUnspiderfy:function(t){var e,i,n,o,r,s,a=this,u=this._group,l=u._map,h=u._featureGroup,c=t?l._latLngToNewLayerPoint(this._latlng,t.zoom,t.center):l.latLngToLayerPoint(this._latlng),p=this.getAllChildMarkers(),d=L.Path.SVG;for(u._ignoreMove=!0,u._animationStart(),this.setOpacity(1),i=p.length-1;i>=0;i--)(e=p[i])._preSpiderfyLatlng&&(e.closePopup(),e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng,s=!0,e._setPos&&(e._setPos(c),s=!1),e.clusterHide&&(e.clusterHide(),s=!1),s&&h.removeLayer(e),d&&(r=(o=(n=e._spiderLeg)._path).getTotalLength()+.1,o.style.strokeDashoffset=r,n.setStyle({opacity:0})));u._ignoreMove=!1,setTimeout(function(){var t=0;for(i=p.length-1;i>=0;i--)(e=p[i])._spiderLeg&&t++;for(i=p.length-1;i>=0;i--)(e=p[i])._spiderLeg&&(e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),t>1&&h.removeLayer(e),l.removeLayer(e._spiderLeg),delete e._spiderLeg);u._animationEnd(),u.fire("unspiderfied",{cluster:a,markers:p})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(t){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(t))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(t){return t?t instanceof L.MarkerClusterGroup?t=t._topClusterLevel.getAllChildMarkers():t instanceof L.LayerGroup?t=t._layers:t instanceof L.MarkerCluster?t=t.getAllChildMarkers():t instanceof L.Marker&&(t=[t]):t=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(t),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(t),this},_flagParentsIconsNeedUpdate:function(t){var e,i;for(e in t)for(i=t[e].__parent;i;)i._iconNeedsUpdate=!0,i=i.__parent},_refreshSingleMarkerModeMarkers:function(t){var e,i;for(e in t)i=t[e],this.hasLayer(i)&&i.setIcon(this._overrideMarkerIcon(i))}}),L.Marker.include({refreshIconOptions:function(t,e){var i=this.options.icon;return L.setOptions(i,t),this.setIcon(i),e&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),t.MarkerClusterGroup=e,t.MarkerCluster=i},"object"==typeof i&&void 0!==e?o(i):"function"==typeof define&&define.amd?define(["exports"],o):o((n.Leaflet=n.Leaflet||{},n.Leaflet.markercluster=n.Leaflet.markercluster||{}))},{}],33:[function(t,e,i){var n,o;n=this,o=function(t){"use strict";var e=Object.freeze;function i(t){var e,i,n,o;for(i=1,n=arguments.length;i<n;i++)for(e in o=arguments[i])t[e]=o[e];return t}Object.freeze=function(t){return t};var n=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function o(t,e){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var n=i.call(arguments,2);return function(){return t.apply(e,n.length?n.concat(i.call(arguments)):arguments)}}var r=0;function s(t){return t._leaflet_id=t._leaflet_id||++r,t._leaflet_id}function a(t,e,i){var n,o,r,s;return s=function(){n=!1,o&&(r.apply(i,o),o=!1)},r=function(){n?o=arguments:(t.apply(i,arguments),setTimeout(s,e),n=!0)}}function u(t,e,i){var n=e[1],o=e[0],r=n-o;return t===n&&i?t:((t-o)%r+r)%r+o}function l(){return!1}function h(t,e){var i=Math.pow(10,void 0===e?6:e);return Math.round(t*i)/i}function c(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function p(t){return c(t).split(/\s+/)}function d(t,e){for(var i in t.hasOwnProperty("options")||(t.options=t.options?n(t.options):{}),e)t.options[i]=e[i];return t.options}function f(t,e,i){var n=[];for(var o in t)n.push(encodeURIComponent(i?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+n.join("&")}var _=/\{ *([\w_-]+) *\}/g;function m(t,e){return t.replace(_,function(t,i){var n=e[i];if(void 0===n)throw new Error("No value provided for variable "+t);return"function"==typeof n&&(n=n(e)),n})}var g=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function v(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1}var y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function b(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var w=0;function x(t){var e=+new Date,i=Math.max(0,16-(e-w));return w=e+i,window.setTimeout(t,i)}var S=window.requestAnimationFrame||b("RequestAnimationFrame")||x,M=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function T(t,e,i){if(!i||S!==x)return S.call(window,o(t,e));t.call(e)}function P(t){t&&M.call(window,t)}var C=(Object.freeze||Object)({freeze:e,extend:i,create:n,bind:o,lastId:r,stamp:s,throttle:a,wrapNum:u,falseFn:l,formatNum:h,trim:c,splitWords:p,setOptions:d,getParamString:f,template:m,isArray:g,indexOf:v,emptyImageUrl:y,requestFn:S,cancelFn:M,requestAnimFrame:T,cancelAnimFrame:P});function k(){}k.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=e.__super__=this.prototype,r=n(o);for(var s in r.constructor=e,e.prototype=r,this)this.hasOwnProperty(s)&&"prototype"!==s&&"__super__"!==s&&(e[s]=this[s]);return t.statics&&(i(e,t.statics),delete t.statics),t.includes&&(!function(t){if("undefined"==typeof L||!L||!L.Mixin)return;t=g(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}(t.includes),i.apply(null,[r].concat(t.includes)),delete t.includes),r.options&&(t.options=i(n(r.options),t.options)),i(r,t),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=r._initHooks.length;t<e;t++)r._initHooks[t].call(this)}},e},k.include=function(t){return i(this.prototype,t),this},k.mergeOptions=function(t){return i(this.prototype.options,t),this},k.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};var O={on:function(t,e,i){if("object"==typeof t)for(var n in t)this._on(n,t[n],e);else for(var o=0,r=(t=p(t)).length;o<r;o++)this._on(t[o],e,i);return this},off:function(t,e,i){if(t)if("object"==typeof t)for(var n in t)this._off(n,t[n],e);else for(var o=0,r=(t=p(t)).length;o<r;o++)this._off(t[o],e,i);else delete this._events;return this},_on:function(t,e,i){this._events=this._events||{};var n=this._events[t];n||(n=[],this._events[t]=n),i===this&&(i=void 0);for(var o={fn:e,ctx:i},r=n,s=0,a=r.length;s<a;s++)if(r[s].fn===e&&r[s].ctx===i)return;r.push(o)},_off:function(t,e,i){var n,o,r;if(this._events&&(n=this._events[t]))if(e){if(i===this&&(i=void 0),n)for(o=0,r=n.length;o<r;o++){var s=n[o];if(s.ctx===i&&s.fn===e)return s.fn=l,this._firingCount&&(this._events[t]=n=n.slice()),void n.splice(o,1)}}else{for(o=0,r=n.length;o<r;o++)n[o].fn=l;delete this._events[t]}},fire:function(t,e,n){if(!this.listens(t,n))return this;var o=i({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var r=this._events[t];if(r){this._firingCount=this._firingCount+1||1;for(var s=0,a=r.length;s<a;s++){var u=r[s];u.fn.call(u.ctx||this,o)}this._firingCount--}}return n&&this._propagateEvent(o),this},listens:function(t,e){var i=this._events&&this._events[t];if(i&&i.length)return!0;if(e)for(var n in this._eventParents)if(this._eventParents[n].listens(t,e))return!0;return!1},once:function(t,e,i){if("object"==typeof t){for(var n in t)this.once(n,t[n],e);return this}var r=o(function(){this.off(t,e,i).off(t,r,i)},this);return this.on(t,e,i).on(t,r,i)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[s(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[s(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,i({layer:t.target,propagatedFrom:t.target},t),!0)}};O.addEventListener=O.on,O.removeEventListener=O.clearAllEventListeners=O.off,O.addOneTimeEventListener=O.once,O.fireEvent=O.fire,O.hasEventListeners=O.listens;var A=k.extend(O);function E(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e}var z=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function I(t,e,i){return t instanceof E?t:g(t)?new E(t[0],t[1]):void 0===t||null===t?t:"object"==typeof t&&"x"in t&&"y"in t?new E(t.x,t.y):new E(t,e,i)}function j(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;n<o;n++)this.extend(i[n])}function Z(t,e){return!t||t instanceof j?t:new j(t,e)}function B(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;n<o;n++)this.extend(i[n])}function N(t,e){return t instanceof B?t:new B(t,e)}function R(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==i&&(this.alt=+i)}function D(t,e,i){return t instanceof R?t:g(t)&&"object"!=typeof t[0]?3===t.length?new R(t[0],t[1],t[2]):2===t.length?new R(t[0],t[1]):null:void 0===t||null===t?t:"object"==typeof t&&"lat"in t?new R(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new R(t,e,i)}E.prototype={clone:function(){return new E(this.x,this.y)},add:function(t){return this.clone()._add(I(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(I(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new E(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new E(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=z(this.x),this.y=z(this.y),this},distanceTo:function(t){var e=(t=I(t)).x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return(t=I(t)).x===this.x&&t.y===this.y},contains:function(t){return t=I(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+h(this.x)+", "+h(this.y)+")"}},j.prototype={extend:function(t){return t=I(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new E((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new E(this.min.x,this.max.y)},getTopRight:function(){return new E(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return(t="number"==typeof t[0]||t instanceof E?I(t):Z(t))instanceof j?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=Z(t);var e=this.min,i=this.max,n=t.min,o=t.max,r=o.x>=e.x&&n.x<=i.x,s=o.y>=e.y&&n.y<=i.y;return r&&s},overlaps:function(t){t=Z(t);var e=this.min,i=this.max,n=t.min,o=t.max,r=o.x>e.x&&n.x<i.x,s=o.y>e.y&&n.y<i.y;return r&&s},isValid:function(){return!(!this.min||!this.max)}},B.prototype={extend:function(t){var e,i,n=this._southWest,o=this._northEast;if(t instanceof R)e=t,i=t;else{if(!(t instanceof B))return t?this.extend(D(t)||N(t)):this;if(e=t._southWest,i=t._northEast,!e||!i)return this}return n||o?(n.lat=Math.min(e.lat,n.lat),n.lng=Math.min(e.lng,n.lng),o.lat=Math.max(i.lat,o.lat),o.lng=Math.max(i.lng,o.lng)):(this._southWest=new R(e.lat,e.lng),this._northEast=new R(i.lat,i.lng)),this},pad:function(t){var e=this._southWest,i=this._northEast,n=Math.abs(e.lat-i.lat)*t,o=Math.abs(e.lng-i.lng)*t;return new B(new R(e.lat-n,e.lng-o),new R(i.lat+n,i.lng+o))},getCenter:function(){return new R((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new R(this.getNorth(),this.getWest())},getSouthEast:function(){return new R(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof R||"lat"in t?D(t):N(t);var e,i,n=this._southWest,o=this._northEast;return t instanceof B?(e=t.getSouthWest(),i=t.getNorthEast()):e=i=t,e.lat>=n.lat&&i.lat<=o.lat&&e.lng>=n.lng&&i.lng<=o.lng},intersects:function(t){t=N(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>=e.lat&&n.lat<=i.lat,s=o.lng>=e.lng&&n.lng<=i.lng;return r&&s},overlaps:function(t){t=N(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>e.lat&&n.lat<i.lat,s=o.lng>e.lng&&n.lng<i.lng;return r&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=N(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},R.prototype={equals:function(t,e){return!!t&&(t=D(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+h(this.lat,t)+", "+h(this.lng,t)+")"},distanceTo:function(t){return H.distance(this,D(t))},wrap:function(){return H.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return N([this.lat-e,this.lng-i],[this.lat+e,this.lng+i])},clone:function(){return new R(this.lat,this.lng,this.alt)}};var G,F={latLngToPoint:function(t,e){var i=this.projection.project(t),n=this.scale(e);return this.transformation._transform(i,n)},pointToLatLng:function(t,e){var i=this.scale(e),n=this.transformation.untransform(t,i);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,i=this.scale(t);return new j(this.transformation.transform(e.min,i),this.transformation.transform(e.max,i))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?u(t.lng,this.wrapLng,!0):t.lng;return new R(this.wrapLat?u(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),i=this.wrapLatLng(e),n=e.lat-i.lat,o=e.lng-i.lng;if(0===n&&0===o)return t;var r=t.getSouthWest(),s=t.getNorthEast();return new B(new R(r.lat-n,r.lng-o),new R(s.lat-n,s.lng-o))}},H=i({},F,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var i=Math.PI/180,n=t.lat*i,o=e.lat*i,r=Math.sin((e.lat-t.lat)*i/2),s=Math.sin((e.lng-t.lng)*i/2),a=r*r+Math.cos(n)*Math.cos(o)*s*s,u=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*u}}),W={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,t.lat),-i),o=Math.sin(n*e);return new E(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new R((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(G=6378137*Math.PI,new j([-G,-G],[G,G]))};function U(t,e,i,n){if(g(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=i,this._d=n}function V(t,e,i,n){return new U(t,e,i,n)}U.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new E((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var q=i({},H,{code:"EPSG:3857",projection:W,transformation:function(){var t=.5/(Math.PI*W.R);return V(t,.5,-t,.5)}()}),K=i({},q,{code:"EPSG:900913"});function $(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Y(t,e){var i,n,o,r,s,a,u="";for(i=0,o=t.length;i<o;i++){for(n=0,r=(s=t[i]).length;n<r;n++)a=s[n],u+=(n?"L":"M")+a.x+" "+a.y;u+=e?Pt?"z":"x":""}return u||"M0 0"}var J=document.documentElement.style,X="ActiveXObject"in window,Q=X&&!document.addEventListener,tt="msLaunchUri"in navigator&&!("documentMode"in document),et=kt("webkit"),it=kt("android"),nt=kt("android 2")||kt("android 3"),ot=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),rt=it&&kt("Google")&&ot<537&&!("AudioNode"in window),st=!!window.opera,at=kt("chrome"),ut=kt("gecko")&&!et&&!st&&!X,lt=!at&&kt("safari"),ht=kt("phantom"),ct="OTransition"in J,pt=0===navigator.platform.indexOf("Win"),dt=X&&"transition"in J,ft="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!nt,_t="MozPerspective"in J,mt=!window.L_DISABLE_3D&&(dt||ft||_t)&&!ct&&!ht,gt="undefined"!=typeof orientation||kt("mobile"),vt=gt&&et,yt=gt&&ft,bt=!window.PointerEvent&&window.MSPointerEvent,Lt=!(!window.PointerEvent&&!bt),wt=!window.L_NO_TOUCH&&(Lt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),xt=gt&&st,St=gt&&ut,Mt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Tt=!!document.createElement("canvas").getContext,Pt=!(!document.createElementNS||!$("svg").createSVGRect),Ct=!Pt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}();function kt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Ot=(Object.freeze||Object)({ie:X,ielt9:Q,edge:tt,webkit:et,android:it,android23:nt,androidStock:rt,opera:st,chrome:at,gecko:ut,safari:lt,phantom:ht,opera12:ct,win:pt,ie3d:dt,webkit3d:ft,gecko3d:_t,any3d:mt,mobile:gt,mobileWebkit:vt,mobileWebkit3d:yt,msPointer:bt,pointer:Lt,touch:wt,mobileOpera:xt,mobileGecko:St,retina:Mt,canvas:Tt,svg:Pt,vml:Ct}),At=bt?"MSPointerDown":"pointerdown",Et=bt?"MSPointerMove":"pointermove",zt=bt?"MSPointerUp":"pointerup",It=bt?"MSPointerCancel":"pointercancel",jt=["INPUT","SELECT","OPTION"],Zt={},Bt=!1,Nt=0;function Rt(t,e,i,n){return"touchstart"===e?function(t,e,i){var n=o(function(t){if("mouse"!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(jt.indexOf(t.target.tagName)<0))return;ne(t)}Ht(t,e)});t["_leaflet_touchstart"+i]=n,t.addEventListener(At,n,!1),Bt||(document.documentElement.addEventListener(At,Dt,!0),document.documentElement.addEventListener(Et,Gt,!0),document.documentElement.addEventListener(zt,Ft,!0),document.documentElement.addEventListener(It,Ft,!0),Bt=!0)}(t,i,n):"touchmove"===e?function(t,e,i){var n=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&Ht(t,e)};t["_leaflet_touchmove"+i]=n,t.addEventListener(Et,n,!1)}(t,i,n):"touchend"===e&&function(t,e,i){var n=function(t){Ht(t,e)};t["_leaflet_touchend"+i]=n,t.addEventListener(zt,n,!1),t.addEventListener(It,n,!1)}(t,i,n),this}function Dt(t){Zt[t.pointerId]=t,Nt++}function Gt(t){Zt[t.pointerId]&&(Zt[t.pointerId]=t)}function Ft(t){delete Zt[t.pointerId],Nt--}function Ht(t,e){for(var i in t.touches=[],Zt)t.touches.push(Zt[i]);t.changedTouches=[t],e(t)}var Wt=bt?"MSPointerDown":Lt?"pointerdown":"touchstart",Ut=bt?"MSPointerUp":Lt?"pointerup":"touchend",Vt="_leaflet_";function qt(t,e,i){var n,o,r=!1,s=250;function a(t){var e;if(Lt){if(!tt||"mouse"===t.pointerType)return;e=Nt}else e=t.touches.length;if(!(e>1)){var i=Date.now(),a=i-(n||i);o=t.touches?t.touches[0]:t,r=a>0&&a<=s,n=i}}function u(t){if(r&&!o.cancelBubble){if(Lt){if(!tt||"mouse"===t.pointerType)return;var i,s,a={};for(s in o)i=o[s],a[s]=i&&i.bind?i.bind(o):i;o=a}o.type="dblclick",e(o),n=null}}return t[Vt+Wt+i]=a,t[Vt+Ut+i]=u,t[Vt+"dblclick"+i]=e,t.addEventListener(Wt,a,!1),t.addEventListener(Ut,u,!1),t.addEventListener("dblclick",e,!1),this}function Kt(t,e){var i=t[Vt+Wt+e],n=t[Vt+Ut+e],o=t[Vt+"dblclick"+e];return t.removeEventListener(Wt,i,!1),t.removeEventListener(Ut,n,!1),tt||t.removeEventListener("dblclick",o,!1),this}function $t(t,e,i,n){if("object"==typeof e)for(var o in e)Xt(t,o,e[o],i);else for(var r=0,s=(e=p(e)).length;r<s;r++)Xt(t,e[r],i,n);return this}var Yt="_leaflet_events";function Jt(t,e,i,n){if("object"==typeof e)for(var o in e)Qt(t,o,e[o],i);else if(e)for(var r=0,s=(e=p(e)).length;r<s;r++)Qt(t,e[r],i,n);else{for(var a in t[Yt])Qt(t,a,t[Yt][a]);delete t[Yt]}return this}function Xt(t,e,i,n){var o=e+s(i)+(n?"_"+s(n):"");if(t[Yt]&&t[Yt][o])return this;var r=function(e){return i.call(n||t,e||window.event)},a=r;Lt&&0===e.indexOf("touch")?Rt(t,e,r,o):!wt||"dblclick"!==e||!qt||Lt&&at?"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",r,!1):"mouseenter"===e||"mouseleave"===e?(r=function(e){e=e||window.event,pe(t,e)&&a(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",r,!1)):("click"===e&&it&&(r=function(t){!function(t,e){var i=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,n=ue&&i-ue;if(n&&n>100&&n<500||t.target._simulatedClick&&!t._simulated)return void oe(t);ue=i,e(t)}(t,a)}),t.addEventListener(e,r,!1)):"attachEvent"in t&&t.attachEvent("on"+e,r):qt(t,r,o),t[Yt]=t[Yt]||{},t[Yt][o]=r}function Qt(t,e,i,n){var o=e+s(i)+(n?"_"+s(n):""),r=t[Yt]&&t[Yt][o];if(!r)return this;Lt&&0===e.indexOf("touch")?function(t,e,i){var n=t["_leaflet_"+e+i];"touchstart"===e?t.removeEventListener(At,n,!1):"touchmove"===e?t.removeEventListener(Et,n,!1):"touchend"===e&&(t.removeEventListener(zt,n,!1),t.removeEventListener(It,n,!1))}(t,e,o):!wt||"dblclick"!==e||!Kt||Lt&&at?"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",r,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,r,!1):"detachEvent"in t&&t.detachEvent("on"+e,r):Kt(t,o),t[Yt][o]=null}function te(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,ce(t),this}function ee(t){return Xt(t,"mousewheel",te),this}function ie(t){return $t(t,"mousedown touchstart dblclick",te),Xt(t,"click",he),this}function ne(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function oe(t){return ne(t),te(t),this}function re(t,e){if(!e)return new E(t.clientX,t.clientY);var i=e.getBoundingClientRect(),n=i.width/e.offsetWidth||1,o=i.height/e.offsetHeight||1;return new E(t.clientX/n-i.left-e.clientLeft,t.clientY/o-i.top-e.clientTop)}var se=pt&&at?2*window.devicePixelRatio:ut?window.devicePixelRatio:1;function ae(t){return tt?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/se:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var ue,le={};function he(t){le[t.type]=!0}function ce(t){var e=le[t.type];return le[t.type]=!1,e}function pe(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(t){return!1}return i!==t}var de,fe,_e,me,ge,ve=(Object.freeze||Object)({on:$t,off:Jt,stopPropagation:te,disableScrollPropagation:ee,disableClickPropagation:ie,preventDefault:ne,stop:oe,getMousePosition:re,getWheelDelta:ae,fakeStop:he,skipped:ce,isExternalTarget:pe,addListener:$t,removeListener:Jt}),ye=je(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),be=je(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Le="webkitTransition"===be||"OTransition"===be?be+"End":"transitionend";function we(t){return"string"==typeof t?document.getElementById(t):t}function xe(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!i||"auto"===i)&&document.defaultView){var n=document.defaultView.getComputedStyle(t,null);i=n?n[e]:null}return"auto"===i?null:i}function Se(t,e,i){var n=document.createElement(t);return n.className=e||"",i&&i.appendChild(n),n}function Me(t){var e=t.parentNode;e&&e.removeChild(t)}function Te(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Pe(t){var e=t.parentNode;e.lastChild!==t&&e.appendChild(t)}function Ce(t){var e=t.parentNode;e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function ke(t,e){if(void 0!==t.classList)return t.classList.contains(e);var i=ze(t);return i.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(i)}function Oe(t,e){if(void 0!==t.classList)for(var i=p(e),n=0,o=i.length;n<o;n++)t.classList.add(i[n]);else if(!ke(t,e)){var r=ze(t);Ee(t,(r?r+" ":"")+e)}}function Ae(t,e){void 0!==t.classList?t.classList.remove(e):Ee(t,c((" "+ze(t)+" ").replace(" "+e+" "," ")))}function Ee(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function ze(t){return void 0===t.className.baseVal?t.className:t.className.baseVal}function Ie(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(n)}catch(t){if(1===e)return}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+n+"(opacity="+e+")"}(t,e)}function je(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}function Ze(t,e,i){var n=e||new E(0,0);t.style[ye]=(dt?"translate("+n.x+"px,"+n.y+"px)":"translate3d("+n.x+"px,"+n.y+"px,0)")+(i?" scale("+i+")":"")}function Be(t,e){t._leaflet_pos=e,mt?Ze(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Ne(t){return t._leaflet_pos||new E(0,0)}if("onselectstart"in document)de=function(){$t(window,"selectstart",ne)},fe=function(){Jt(window,"selectstart",ne)};else{var Re=je(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);de=function(){if(Re){var t=document.documentElement.style;_e=t[Re],t[Re]="none"}},fe=function(){Re&&(document.documentElement.style[Re]=_e,_e=void 0)}}function De(){$t(window,"dragstart",ne)}function Ge(){Jt(window,"dragstart",ne)}function Fe(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(He(),me=t,ge=t.style.outline,t.style.outline="none",$t(window,"keydown",He))}function He(){me&&(me.style.outline=ge,me=void 0,ge=void 0,Jt(window,"keydown",He))}var We=(Object.freeze||Object)({TRANSFORM:ye,TRANSITION:be,TRANSITION_END:Le,get:we,getStyle:xe,create:Se,remove:Me,empty:Te,toFront:Pe,toBack:Ce,hasClass:ke,addClass:Oe,removeClass:Ae,setClass:Ee,getClass:ze,setOpacity:Ie,testProp:je,setTransform:Ze,setPosition:Be,getPosition:Ne,disableTextSelection:de,enableTextSelection:fe,disableImageDrag:De,enableImageDrag:Ge,preventOutline:Fe,restoreOutline:He}),Ue=A.extend({run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=Ne(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=T(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=1e3*this._duration;e<i?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var i=this._startPos.add(this._offset.multiplyBy(t));e&&i._round(),Be(this._el,i),this.fire("step")},_complete:function(){P(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Ve=A.extend({options:{crs:q,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=d(this,e),this._initContainer(t),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(D(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=be&&mt&&!xt&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),$t(this._proxy,Le,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,n){if((e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(D(t),e,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n)&&(void 0!==n.animate&&(n.zoom=i({animate:n.animate},n.zoom),n.pan=i({animate:n.animate,duration:n.duration},n.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan)))return clearTimeout(this._sizeTimer),this;return this._resetView(t,e),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(mt?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(mt?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,i){var n=this.getZoomScale(e),o=this.getSize().divideBy(2),r=(t instanceof E?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/n),s=this.containerPointToLatLng(o.add(r));return this.setView(s,e,{zoom:i})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():N(t);var i=I(e.paddingTopLeft||e.padding||[0,0]),n=I(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,i.add(n));if((o="number"==typeof e.maxZoom?Math.min(e.maxZoom,o):o)===1/0)return{center:t.getCenter(),zoom:o};var r=n.subtract(i).divideBy(2),s=this.project(t.getSouthWest(),o),a=this.project(t.getNorthEast(),o);return{center:this.unproject(s.add(a).divideBy(2).add(r),o),zoom:o}},fitBounds:function(t,e){if(!(t=N(t)).isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(t,e);return this.setView(i.center,i.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=I(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ue,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){Oe(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,i){if(!1===(i=i||{}).animate||!mt)return this.setView(t,e,i);this._stop();var n=this.project(this.getCenter()),o=this.project(t),r=this.getSize(),s=this._zoom;t=D(t),e=void 0===e?s:e;var a=Math.max(r.x,r.y),u=a*this.getZoomScale(s,e),l=o.distanceTo(n)||1,h=1.42,c=h*h;function p(t){var e=(u*u-a*a+(t?-1:1)*c*c*l*l)/(2*(t?u:a)*c*l),i=Math.sqrt(e*e+1)-e;return i<1e-9?-18:Math.log(i)}function d(t){return(Math.exp(t)-Math.exp(-t))/2}function f(t){return(Math.exp(t)+Math.exp(-t))/2}var _=p(0);function m(t){return a*(f(_)*(d(e=_+h*t)/f(e))-d(_))/c;var e}var g=Date.now(),v=(p(1)-_)/h,y=i.duration?1e3*i.duration:1e3*v*.8;return this._moveStart(!0,i.noMoveStart),function i(){var r=(Date.now()-g)/y,u=function(t){return 1-Math.pow(1-t,1.5)}(r)*v;r<=1?(this._flyToFrame=T(i,this),this._move(this.unproject(n.add(o.subtract(n).multiplyBy(m(u)/l)),s),this.getScaleZoom(a/function(t){return a*(f(_)/f(_+h*t))}(u),s),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var i=this._getBoundsCenterZoom(t,e);return this.flyTo(i.center,i.zoom,e)},setMaxBounds:function(t){return(t=N(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),n=this._limitCenter(i,this._zoom,N(t));return i.equals(n)||this.panTo(n,e),this._enforcingBounds=!1,this},invalidateSize:function(t){if(!this._loaded)return this;t=i({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),r=e.divideBy(2).round(),s=n.divideBy(2).round(),a=r.subtract(s);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=i({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=o(this._handleGeolocationResponse,this),n=o(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,i=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(t){var e=new R(t.coords.latitude,t.coords.longitude),i=e.toBounds(t.coords.accuracy),n=this._locateOptions;if(n.setView){var o=this.getBoundsZoom(i);this.setView(e,n.maxZoom?Math.min(o,n.maxZoom):o)}var r={latlng:e,bounds:i,timestamp:t.timestamp};for(var s in t.coords)"number"==typeof t.coords[s]&&(r[s]=t.coords[s]);this.fire("locationfound",r)},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),Me(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)Me(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var i=Se("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new B(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=N(t),i=I(i||[0,0]);var n=this.getZoom()||0,o=this.getMinZoom(),r=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),u=this.getSize().subtract(i),l=Z(this.project(a,n),this.project(s,n)).getSize(),h=mt?this.options.zoomSnap:1,c=u.x/l.x,p=u.y/l.y,d=e?Math.max(c,p):Math.min(c,p);return n=this.getScaleZoom(d,n),h&&(n=Math.round(n/(h/100))*(h/100),n=e?Math.ceil(n/h)*h:Math.floor(n/h)*h),Math.max(o,Math.min(r,n))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new E(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var i=this._getTopLeftPoint(t,e);return new j(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var i=this.options.crs;return e=void 0===e?this._zoom:e,i.scale(t)/i.scale(e)},getScaleZoom:function(t,e){var i=this.options.crs;e=void 0===e?this._zoom:e;var n=i.zoom(t*i.scale(e));return isNaN(n)?1/0:n},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(D(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(I(t),e)},layerPointToLatLng:function(t){var e=I(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(D(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(D(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(N(t))},distance:function(t,e){return this.options.crs.distance(D(t),D(e))},containerPointToLayerPoint:function(t){return I(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return I(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(I(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(D(t)))},mouseEventToContainerPoint:function(t){return re(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=we(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");$t(e,"scroll",this._onScroll,this),this._containerId=s(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&mt,Oe(t,"leaflet-container"+(wt?" leaflet-touch":"")+(Mt?" leaflet-retina":"")+(Q?" leaflet-oldie":"")+(lt?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=xe(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Be(this._mapPane,new E(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Oe(t.markerPane,"leaflet-zoom-hide"),Oe(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){Be(this._mapPane,new E(0,0));var i=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var n=this._zoom!==e;this._moveStart(n,!1)._move(t,e)._moveEnd(n),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,i){void 0===e&&(e=this._zoom);var n=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(n||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return P(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Be(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[s(this._container)]=this;var e=t?Jt:$t;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),mt&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){P(this._resizeRequest),this._resizeRequest=T(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var i,n=[],o="mouseout"===e||"mouseover"===e,r=t.target||t.srcElement,a=!1;r;){if((i=this._targets[s(r)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(i)){a=!0;break}if(i&&i.listens(e,!0)){if(o&&!pe(r,t))break;if(n.push(i),o)break}if(r===this._container)break;r=r.parentNode}return n.length||a||o||!pe(r,t)||(n=[this]),n},_handleDOMEvent:function(t){if(this._loaded&&!ce(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e||Fe(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,n){if("click"===t.type){var o=i({},t);o.type="preclick",this._fireDOMEvent(o,o.type,n)}if(!t._stopped&&(n=(n||[]).concat(this._findEventTargets(t,e))).length){var r=n[0];"contextmenu"===e&&r.listens(e,!0)&&ne(t);var s={originalEvent:t};if("keypress"!==t.type){var a=r.getLatLng&&(!r._radius||r._radius<=10);s.containerPoint=a?this.latLngToContainerPoint(r.getLatLng()):this.mouseEventToContainerPoint(t),s.layerPoint=this.containerPointToLayerPoint(s.containerPoint),s.latlng=a?r.getLatLng():this.layerPointToLatLng(s.layerPoint)}for(var u=0;u<n.length;u++)if(n[u].fire(e,s,!0),s.originalEvent._stopped||!1===n[u].options.bubblingMouseEvents&&-1!==v(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Ne(this._mapPane)||new E(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return this.project(t,e)._subtract(n)},_latLngBoundsToNewLayerBounds:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return Z([this.project(t.getSouthWest(),e)._subtract(n),this.project(t.getNorthWest(),e)._subtract(n),this.project(t.getSouthEast(),e)._subtract(n),this.project(t.getNorthEast(),e)._subtract(n)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var n=this.project(t,e),o=this.getSize().divideBy(2),r=new j(n.subtract(o),n.add(o)),s=this._getBoundsOffset(r,i,e);return s.round().equals([0,0])?t:this.unproject(n.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),n=new j(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(n,e))},_getBoundsOffset:function(t,e,i){var n=Z(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i)),o=n.min.subtract(t.min),r=n.max.subtract(t.max);return new E(this._rebound(o.x,-r.x),this._rebound(o.y,-r.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),n=mt?this.options.zoomSnap:1;return n&&(t=Math.round(t/n)*n),Math.max(e,Math.min(i,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ae(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(i))&&(this.panBy(i,e),!0)},_createAnimProxy:function(){var t=this._proxy=Se("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var e=ye,i=this._proxy.style[e];Ze(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),i===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var t=this.getCenter(),e=this.getZoom();Ze(this._proxy,this.project(t,e),this.getZoomScale(e,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Me(this._proxy),delete this._proxy},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||!1===i.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/n);return!(!0!==i.animate&&!this.getSize().contains(o))&&(T(function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,i,n){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,Oe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:n}),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ae(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),T(function(){this._moveEnd(!0)},this))}});var qe=k.extend({options:{position:"topright"},initialize:function(t){d(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),n=t._controlCorners[i];return Oe(e,"leaflet-control"),-1!==i.indexOf("bottom")?n.insertBefore(e,n.firstChild):n.appendChild(e),this},remove:function(){return this._map?(Me(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Ke=function(t){return new qe(t)};Ve.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",i=this._controlContainer=Se("div",e+"control-container",this._container);function n(n,o){var r=e+n+" "+e+o;t[n+o]=Se("div",r,i)}n("top","left"),n("top","right"),n("bottom","left"),n("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)Me(this._controlCorners[t]);Me(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var $e=qe.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,i,n){return i<n?-1:n<i?1:0}},initialize:function(t,e,i){for(var n in d(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[n],n);for(n in e)this._addLayer(e[n],n,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return qe.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(s(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){Oe(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._form.clientHeight?(Oe(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px"):Ae(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ae(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=Se("div",t),i=this.options.collapsed;e.setAttribute("aria-haspopup",!0),ie(e),ee(e);var n=this._form=Se("form",t+"-list");i&&(this._map.on("click",this.collapse,this),it||$t(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var o=this._layersLink=Se("a",t+"-toggle",e);o.href="#",o.title="Layers",wt?($t(o,"click",oe),$t(o,"click",this.expand,this)):$t(o,"focus",this.expand,this),i||this.expand(),this._baseLayersList=Se("div",t+"-base",n),this._separator=Se("div",t+"-separator",n),this._overlaysList=Se("div",t+"-overlays",n),e.appendChild(n)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&s(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.sortLayers&&this._layers.sort(o(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Te(this._baseLayersList),Te(this._overlaysList),this._layerControlInputs=[];var t,e,i,n,o=0;for(i=0;i<this._layers.length;i++)n=this._layers[i],this._addItem(n),e=e||n.overlay,t=t||!n.overlay,o+=n.overlay?0:1;return this.options.hideSingleBase&&(t=t&&o>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(s(t.target)),i=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;i&&this._map.fire(i,e)},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",n=document.createElement("div");return n.innerHTML=i,n.firstChild},_addItem:function(t){var e,i=document.createElement("label"),n=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=n):e=this._createRadioElement("leaflet-base-layers",n),this._layerControlInputs.push(e),e.layerId=s(t.layer),$t(e,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+t.name;var r=document.createElement("div");return i.appendChild(r),r.appendChild(e),r.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){var t,e,i=this._layerControlInputs,n=[],o=[];this._handlingClick=!0;for(var r=i.length-1;r>=0;r--)t=i[r],e=this._getLayer(t.layerId).layer,t.checked?n.push(e):t.checked||o.push(e);for(r=0;r<o.length;r++)this._map.hasLayer(o[r])&&this._map.removeLayer(o[r]);for(r=0;r<n.length;r++)this._map.hasLayer(n[r])||this._map.addLayer(n[r]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,i=this._layerControlInputs,n=this._map.getZoom(),o=i.length-1;o>=0;o--)t=i[o],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&n<e.options.minZoom||void 0!==e.options.maxZoom&&n>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Ye=qe.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=Se("div",e+" leaflet-bar"),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,n,o){var r=Se("a",i,n);return r.innerHTML=t,r.href="#",r.title=e,r.setAttribute("role","button"),r.setAttribute("aria-label",e),ie(r),$t(r,"click",oe),$t(r,"click",o,this),$t(r,"click",this._refocusOnMap,this),r},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";Ae(this._zoomInButton,e),Ae(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&Oe(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&Oe(this._zoomInButton,e)}});Ve.mergeOptions({zoomControl:!0}),Ve.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ye,this.addControl(this.zoomControl))});var Je=qe.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e=Se("div","leaflet-control-scale"),i=this.options;return this._addScales(i,"leaflet-control-scale-line",e),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=Se("div",e,i)),t.imperial&&(this._iScale=Se("div",e,i))},_update:function(){var t=this._map,e=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),i=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,i,e/t)},_updateImperial:function(t){var e,i,n,o=3.2808399*t;o>5280?(e=o/5280,i=this._getRoundNum(e),this._updateScale(this._iScale,i+" mi",i/e)):(n=this._getRoundNum(o),this._updateScale(this._iScale,n+" ft",n/o))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return e*(i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1)}}),Xe=qe.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){d(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=Se("div","leaflet-control-attribution"),ie(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(" | ")}}});Ve.mergeOptions({attributionControl:!0}),Ve.addInitHook(function(){this.options.attributionControl&&(new Xe).addTo(this)});qe.Layers=$e,qe.Zoom=Ye,qe.Scale=Je,qe.Attribution=Xe,Ke.layers=function(t,e,i){return new $e(t,e,i)},Ke.zoom=function(t){return new Ye(t)},Ke.scale=function(t){return new Je(t)},Ke.attribution=function(t){return new Xe(t)};var Qe=k.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Qe.addTo=function(t,e){return t.addHandler(e,this),this};var ti,ei={Events:O},ii=wt?"touchstart mousedown":"mousedown",ni={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},oi={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},ri=A.extend({options:{clickTolerance:3},initialize:function(t,e,i,n){d(this,n),this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||($t(this._dragStartTarget,ii,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ri._dragging===this&&this.finishDrag(),Jt(this._dragStartTarget,ii,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!ke(this._element,"leaflet-zoom-anim")&&!(ri._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(ri._dragging=this,this._preventOutline&&Fe(this._element),De(),de(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t;this._startPoint=new E(e.clientX,e.clientY),$t(document,oi[t.type],this._onMove,this),$t(document,ni[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,i=new E(e.clientX,e.clientY).subtract(this._startPoint);(i.x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(ne(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=Ne(this._element).subtract(i),Oe(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Oe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,P(this._animRequest),this._lastEvent=t,this._animRequest=T(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Be(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in Ae(document.body,"leaflet-dragging"),this._lastTarget&&(Ae(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),oi)Jt(document,oi[t],this._onMove,this),Jt(document,ni[t],this._onUp,this);Ge(),fe(),this._moved&&this._moving&&(P(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,ri._dragging=!1}});function si(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=function(t,e){var i=t.length,n=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(i);n[0]=n[i-1]=1,function t(e,i,n,o,r){var s,a,u,l=0;for(a=o+1;a<=r-1;a++)(u=ci(e[a],e[o],e[r],!0))>l&&(s=a,l=u);l>n&&(i[s]=1,t(e,i,n,o,s),t(e,i,n,s,r))}(t,n,e,0,i-1);var o,r=[];for(o=0;o<i;o++)n[o]&&r.push(t[o]);return r}(t=function(t,e){for(var i=[t[0]],n=1,o=0,r=t.length;n<r;n++)s=t[n],a=t[o],void 0,void 0,u=a.x-s.x,l=a.y-s.y,u*u+l*l>e&&(i.push(t[n]),o=n);var s,a,u,l;o<r-1&&i.push(t[r-1]);return i}(t,i),i)}function ai(t,e,i){return Math.sqrt(ci(t,e,i,!0))}function ui(t,e,i,n,o){var r,s,a,u=n?ti:hi(t,i),l=hi(e,i);for(ti=l;;){if(!(u|l))return[t,e];if(u&l)return!1;a=hi(s=li(t,e,r=u||l,i,o),i),r===u?(t=s,u=a):(e=s,l=a)}}function li(t,e,i,n,o){var r,s,a=e.x-t.x,u=e.y-t.y,l=n.min,h=n.max;return 8&i?(r=t.x+a*(h.y-t.y)/u,s=h.y):4&i?(r=t.x+a*(l.y-t.y)/u,s=l.y):2&i?(r=h.x,s=t.y+u*(h.x-t.x)/a):1&i&&(r=l.x,s=t.y+u*(l.x-t.x)/a),new E(r,s,o)}function hi(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i}function ci(t,e,i,n){var o,r=e.x,s=e.y,a=i.x-r,u=i.y-s,l=a*a+u*u;return l>0&&((o=((t.x-r)*a+(t.y-s)*u)/l)>1?(r=i.x,s=i.y):o>0&&(r+=a*o,s+=u*o)),a=t.x-r,u=t.y-s,n?a*a+u*u:new E(r,s)}function pi(t){return!g(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function di(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),pi(t)}var fi=(Object.freeze||Object)({simplify:si,pointToSegmentDistance:ai,closestPointOnSegment:function(t,e,i){return ci(t,e,i)},clipSegment:ui,_getEdgeIntersection:li,_getBitCode:hi,_sqClosestPointOnSegment:ci,isFlat:pi,_flat:di});function _i(t,e,i){var n,o,r,s,a,u,l,h,c,p=[1,4,2,8];for(o=0,l=t.length;o<l;o++)t[o]._code=hi(t[o],e);for(s=0;s<4;s++){for(h=p[s],n=[],o=0,r=(l=t.length)-1;o<l;r=o++)a=t[o],u=t[r],a._code&h?u._code&h||((c=li(u,a,h,e,i))._code=hi(c,e),n.push(c)):(u._code&h&&((c=li(u,a,h,e,i))._code=hi(c,e),n.push(c)),n.push(a));t=n}return t}var mi=(Object.freeze||Object)({clipPolygon:_i}),gi={project:function(t){return new E(t.lng,t.lat)},unproject:function(t){return new R(t.y,t.x)},bounds:new j([-180,-90],[180,90])},vi={R:6378137,R_MINOR:6356752.314245179,bounds:new j([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,i=this.R,n=t.lat*e,o=this.R_MINOR/i,r=Math.sqrt(1-o*o),s=r*Math.sin(n),a=Math.tan(Math.PI/4-n/2)/Math.pow((1-s)/(1+s),r/2);return n=-i*Math.log(Math.max(a,1e-10)),new E(t.lng*e*i,n)},unproject:function(t){for(var e,i=180/Math.PI,n=this.R,o=this.R_MINOR/n,r=Math.sqrt(1-o*o),s=Math.exp(-t.y/n),a=Math.PI/2-2*Math.atan(s),u=0,l=.1;u<15&&Math.abs(l)>1e-7;u++)e=r*Math.sin(a),e=Math.pow((1-e)/(1+e),r/2),a+=l=Math.PI/2-2*Math.atan(s*e)-a;return new R(a*i,t.x*i/n)}},yi=(Object.freeze||Object)({LonLat:gi,Mercator:vi,SphericalMercator:W}),bi=i({},H,{code:"EPSG:3395",projection:vi,transformation:function(){var t=.5/(Math.PI*vi.R);return V(t,.5,-t,.5)}()}),Li=i({},H,{code:"EPSG:4326",projection:gi,transformation:V(1/180,1,-1/180,.5)}),wi=i({},F,{projection:gi,transformation:V(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var i=e.lng-t.lng,n=e.lat-t.lat;return Math.sqrt(i*i+n*n)},infinite:!0});F.Earth=H,F.EPSG3395=bi,F.EPSG3857=q,F.EPSG900913=K,F.EPSG4326=Li,F.Simple=wi;var xi=A.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[s(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[s(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var i=this.getEvents();e.on(i,this),this.once("remove",function(){e.off(i,this)},this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});Ve.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=s(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=s(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&s(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){for(var e=0,i=(t=t?g(t)?t:[t]:[]).length;e<i;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[s(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=s(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,i=this._getZoomSpan();for(var n in this._zoomBoundLayers){var o=this._zoomBoundLayers[n].options;t=void 0===o.minZoom?t:Math.min(t,o.minZoom),e=void 0===o.maxZoom?e:Math.max(e,o.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Si=xi.extend({initialize:function(t,e){var i,n;if(d(this,e),this._layers={},t)for(i=0,n=t.length;i<n;i++)this.addLayer(t[i])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,i,n=Array.prototype.slice.call(arguments,1);for(e in this._layers)(i=this._layers[e])[t]&&i[t].apply(i,n);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return s(t)}}),Mi=Si.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Si.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Si.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new B;for(var e in this._layers){var i=this._layers[e];t.extend(i.getBounds?i.getBounds():i.getLatLng())}return t}}),Ti=k.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){d(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n=this._createImg(i,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(n,t),n},_setIconStyles:function(t,e){var i=this.options,n=i[e+"Size"];"number"==typeof n&&(n=[n,n]);var o=I(n),r=I("shadow"===e&&i.shadowAnchor||i.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),r&&(t.style.marginLeft=-r.x+"px",t.style.marginTop=-r.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Mt&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});var Pi=Ti.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Pi.imagePath||(Pi.imagePath=this._detectIconPath()),(this.options.imagePath||Pi.imagePath)+Ti.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=Se("div","leaflet-default-icon-path",document.body),e=xe(t,"background-image")||xe(t,"backgroundImage");return document.body.removeChild(t),e=null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Ci=Qe.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new ri(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Oe(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ae(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,i=e._map,n=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,r=L.DomUtil.getPosition(e._icon),s=i.getPixelBounds(),a=i.getPixelOrigin(),u=Z(s.min._subtract(a).add(o),s.max._subtract(a).subtract(o));if(!u.contains(r)){var l=I((Math.max(u.max.x,r.x)-u.max.x)/(s.max.x-u.max.x)-(Math.min(u.min.x,r.x)-u.min.x)/(s.min.x-u.min.x),(Math.max(u.max.y,r.y)-u.max.y)/(s.max.y-u.max.y)-(Math.min(u.min.y,r.y)-u.min.y)/(s.min.y-u.min.y)).multiplyBy(n);i.panBy(l,{animate:!1}),this._draggable._newPos._add(l),this._draggable._startPos._add(l),L.DomUtil.setPosition(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=T(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(P(this._panRequest),this._panRequest=T(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,i=e._shadow,n=Ne(e._icon),o=e._map.layerPointToLatLng(n);i&&Be(i,n),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){P(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),ki=xi.extend({options:{icon:new Pi,interactive:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1},initialize:function(t,e){d(this,e),this._latlng=D(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=D(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),n=!1;i!==this._icon&&(this._icon&&this._removeIcon(),n=!0,t.title&&(i.title=t.title),"IMG"===i.tagName&&(i.alt=t.alt||"")),Oe(i,e),t.keyboard&&(i.tabIndex="0"),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=t.icon.createShadow(this._shadow),r=!1;o!==this._shadow&&(this._removeShadow(),r=!0),o&&(Oe(o,e),o.alt=""),this._shadow=o,t.opacity<1&&this._updateOpacity(),n&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&r&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),Me(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Me(this._shadow),this._shadow=null},_setPos:function(t){Be(this._icon,t),this._shadow&&Be(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(Oe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ci)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ci(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;Ie(this._icon,t),this._shadow&&Ie(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var Oi=xi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return d(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Ai=Oi.extend({options:{fill:!0,radius:10},initialize:function(t,e){d(this,e),this._latlng=D(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=D(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Oi.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),n=[t+i,e+i];this._pxBounds=new j(this._point.subtract(n),this._point.add(n))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var Ei=Ai.extend({initialize:function(t,e,n){if("number"==typeof e&&(e=i({},n,{radius:e})),d(this,e),this._latlng=D(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new B(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Oi.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,i=this._map,n=i.options.crs;if(n.distance===H.distance){var o=Math.PI/180,r=this._mRadius/H.R/o,s=i.project([e+r,t]),a=i.project([e-r,t]),u=s.add(a).divideBy(2),l=i.unproject(u).lat,h=Math.acos((Math.cos(r*o)-Math.sin(e*o)*Math.sin(l*o))/(Math.cos(e*o)*Math.cos(l*o)))/o;(isNaN(h)||0===h)&&(h=r/Math.cos(Math.PI/180*e)),this._point=u.subtract(i.getPixelOrigin()),this._radius=isNaN(h)?0:u.x-i.project([l,t-h]).x,this._radiusY=u.y-s.y}else{var c=n.unproject(n.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(c).x}this._updateBounds()}});var zi=Oi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){d(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,i,n=1/0,o=null,r=ci,s=0,a=this._parts.length;s<a;s++)for(var u=this._parts[s],l=1,h=u.length;l<h;l++){var c=r(t,e=u[l-1],i=u[l],!0);c<n&&(n=c,o=r(t,e,i))}return o&&(o.distance=Math.sqrt(n)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,i,n,o,r,s,a=this._rings[0],u=a.length;if(!u)return null;for(t=0,e=0;t<u-1;t++)e+=a[t].distanceTo(a[t+1])/2;if(0===e)return this._map.layerPointToLatLng(a[0]);for(t=0,n=0;t<u-1;t++)if(o=a[t],r=a[t+1],(n+=i=o.distanceTo(r))>e)return s=(n-e)/i,this._map.layerPointToLatLng([r.x-s*(r.x-o.x),r.y-s*(r.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=D(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new B,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return pi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],i=pi(t),n=0,o=t.length;n<o;n++)i?(e[n]=D(t[n]),this._bounds.extend(e[n])):e[n]=this._convertLatLngs(t[n]);return e},_project:function(){var t=new j;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),i=new E(e,e);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(i),t.max._add(i),this._pxBounds=t)},_projectLatlngs:function(t,e,i){var n,o,r=t[0]instanceof R,s=t.length;if(r){for(o=[],n=0;n<s;n++)o[n]=this._map.latLngToLayerPoint(t[n]),i.extend(o[n]);e.push(o)}else for(n=0;n<s;n++)this._projectLatlngs(t[n],e,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,i,n,o,r,s,a,u=this._parts;for(e=0,n=0,o=this._rings.length;e<o;e++)for(i=0,r=(a=this._rings[e]).length;i<r-1;i++)(s=ui(a[i],a[i+1],t,i,!0))&&(u[n]=u[n]||[],u[n].push(s[0]),s[1]===a[i+1]&&i!==r-2||(u[n].push(s[1]),n++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,n=t.length;i<n;i++)t[i]=si(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var i,n,o,r,s,a,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,r=this._parts.length;i<r;i++)for(n=0,o=(s=(a=this._parts[i]).length)-1;n<s;o=n++)if((e||0!==n)&&ai(t,a[o],a[n])<=u)return!0;return!1}});zi._flat=di;var Ii=zi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,i,n,o,r,s,a,u,l=this._rings[0],h=l.length;if(!h)return null;for(r=s=a=0,t=0,e=h-1;t<h;e=t++)i=l[t],n=l[e],o=i.y*n.x-n.y*i.x,s+=(i.x+n.x)*o,a+=(i.y+n.y)*o,r+=3*o;return u=0===r?l[0]:[s/r,a/r],this._map.layerPointToLatLng(u)},_convertLatLngs:function(t){var e=zi.prototype._convertLatLngs.call(this,t),i=e.length;return i>=2&&e[0]instanceof R&&e[0].equals(e[i-1])&&e.pop(),e},_setLatLngs:function(t){zi.prototype._setLatLngs.call(this,t),pi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return pi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,i=new E(e,e);if(t=new j(t.min.subtract(i),t.max.add(i)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var n,o=0,r=this._rings.length;o<r;o++)(n=_i(this._rings[o],t,!0)).length&&this._parts.push(n)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,i,n,o,r,s,a,u,l=!1;if(!this._pxBounds.contains(t))return!1;for(o=0,a=this._parts.length;o<a;o++)for(r=0,s=(u=(e=this._parts[o]).length)-1;r<u;s=r++)i=e[r],n=e[s],i.y>t.y!=n.y>t.y&&t.x<(n.x-i.x)*(t.y-i.y)/(n.y-i.y)+i.x&&(l=!l);return l||zi.prototype._containsPoint.call(this,t,!0)}});var ji=Mi.extend({initialize:function(t,e){d(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,i,n,o=g(t)?t:t.features;if(o){for(e=0,i=o.length;e<i;e++)((n=o[e]).geometries||n.geometry||n.features||n.coordinates)&&this.addData(n);return this}var r=this.options;if(r.filter&&!r.filter(t))return this;var s=Zi(t,r);return s?(s.feature=Fi(t),s.defaultOptions=s.options,this.resetStyle(s),r.onEachFeature&&r.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return t.options=i({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}});function Zi(t,e){var i,n,o,r,s="Feature"===t.type?t.geometry:t,a=s?s.coordinates:null,u=[],l=e&&e.pointToLayer,h=e&&e.coordsToLatLng||Bi;if(!a&&!s)return null;switch(s.type){case"Point":return i=h(a),l?l(t,i):new ki(i);case"MultiPoint":for(o=0,r=a.length;o<r;o++)i=h(a[o]),u.push(l?l(t,i):new ki(i));return new Mi(u);case"LineString":case"MultiLineString":return n=Ni(a,"LineString"===s.type?0:1,h),new zi(n,e);case"Polygon":case"MultiPolygon":return n=Ni(a,"Polygon"===s.type?1:2,h),new Ii(n,e);case"GeometryCollection":for(o=0,r=s.geometries.length;o<r;o++){var c=Zi({geometry:s.geometries[o],type:"Feature",properties:t.properties},e);c&&u.push(c)}return new Mi(u);default:throw new Error("Invalid GeoJSON object.")}}function Bi(t){return new R(t[1],t[0],t[2])}function Ni(t,e,i){for(var n,o=[],r=0,s=t.length;r<s;r++)n=e?Ni(t[r],e-1,i):(i||Bi)(t[r]),o.push(n);return o}function Ri(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[h(t.lng,e),h(t.lat,e),h(t.alt,e)]:[h(t.lng,e),h(t.lat,e)]}function Di(t,e,i,n){for(var o=[],r=0,s=t.length;r<s;r++)o.push(e?Di(t[r],e-1,i,n):Ri(t[r],n));return!e&&i&&o.push(o[0]),o}function Gi(t,e){return t.feature?i({},t.feature,{geometry:e}):Fi(e)}function Fi(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var Hi={toGeoJSON:function(t){return Gi(this,{type:"Point",coordinates:Ri(this.getLatLng(),t)})}};function Wi(t,e){return new ji(t,e)}ki.include(Hi),Ei.include(Hi),Ai.include(Hi),zi.include({toGeoJSON:function(t){var e=!pi(this._latlngs),i=Di(this._latlngs,e?1:0,!1,t);return Gi(this,{type:(e?"Multi":"")+"LineString",coordinates:i})}}),Ii.include({toGeoJSON:function(t){var e=!pi(this._latlngs),i=e&&!pi(this._latlngs[0]),n=Di(this._latlngs,i?2:e?1:0,!0,t);return e||(n=[n]),Gi(this,{type:(i?"Multi":"")+"Polygon",coordinates:n})}}),Si.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(i){e.push(i.toGeoJSON(t).geometry.coordinates)}),Gi(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var i="GeometryCollection"===e,n=[];return this.eachLayer(function(e){if(e.toGeoJSON){var o=e.toGeoJSON(t);if(i)n.push(o.geometry);else{var r=Fi(o);"FeatureCollection"===r.type?n.push.apply(n,r.features):n.push(r)}}}),i?Gi(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}});var Ui=Wi,Vi=xi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,i){this._url=t,this._bounds=N(e),d(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Oe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Me(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Pe(this._image),this},bringToBack:function(){return this._map&&Ce(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=N(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:Se("img");Oe(e,"leaflet-image-layer"),this._zoomAnimated&&Oe(e,"leaflet-zoom-animated"),this.options.className&&Oe(e,this.options.className),e.onselectstart=l,e.onmousemove=l,e.onload=o(this.fire,this,"load"),e.onerror=o(this._overlayOnError,this,"error"),this.options.crossOrigin&&(e.crossOrigin=""),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Ze(this._image,i,e)},_reset:function(){var t=this._image,e=new j(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();Be(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){Ie(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),qi=Vi.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:Se("video");if(Oe(e,"leaflet-image-layer"),this._zoomAnimated&&Oe(e,"leaflet-zoom-animated"),e.onselectstart=l,e.onmousemove=l,e.onloadeddata=o(this.fire,this,"load"),t){for(var i=e.getElementsByTagName("source"),n=[],r=0;r<i.length;r++)n.push(i[r].src);this._url=i.length>0?n:[e.src]}else{g(this._url)||(this._url=[this._url]),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop;for(var s=0;s<this._url.length;s++){var a=Se("source");a.src=this._url[s],e.appendChild(a)}}}});var Ki=xi.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){d(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Ie(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Ie(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(Ie(this._container,0),this._removeTimeout=setTimeout(o(Me,void 0,this._container),200)):Me(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=D(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Pe(this._container),this},bringToBack:function(){return this._map&&Ce(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=I(this.options.offset),i=this._getAnchor();this._zoomAnimated?Be(this._container,t.add(i)):e=e.add(t).add(i);var n=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=n+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}}),$i=Ki.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){Ki.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Oi||this._source.on("preclick",te))},onRemove:function(t){Ki.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Oi||this._source.off("preclick",te))},getEvents:function(){var t=Ki.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=Se("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=Se("div",t+"-content-wrapper",e);if(this._contentNode=Se("div",t+"-content",i),ie(i),ee(this._contentNode),$t(i,"contextmenu",te),this._tipContainer=Se("div",t+"-tip-container",e),this._tip=Se("div",t+"-tip",this._tipContainer),this.options.closeButton){var n=this._closeButton=Se("a",t+"-close-button",e);n.href="#close",n.innerHTML="&#215;",$t(n,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var n=t.offsetHeight,o=this.options.maxHeight;o&&n>o?(e.height=o+"px",Oe(t,"leaflet-popup-scrolled")):Ae(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),i=this._getAnchor();Be(this._container,e.add(i))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var t=this._map,e=parseInt(xe(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+e,n=this._containerWidth,o=new E(this._containerLeft,-i-this._containerBottom);o._add(Ne(this._container));var r=t.layerPointToContainerPoint(o),s=I(this.options.autoPanPadding),a=I(this.options.autoPanPaddingTopLeft||s),u=I(this.options.autoPanPaddingBottomRight||s),l=t.getSize(),h=0,c=0;r.x+n+u.x>l.x&&(h=r.x+n-l.x+u.x),r.x-h-a.x<0&&(h=r.x-a.x),r.y+i+u.y>l.y&&(c=r.y+i-l.y+u.y),r.y-c-a.y<0&&(c=r.y-a.y),(h||c)&&t.fire("autopanstart").panBy([h,c])}},_onCloseButtonClick:function(t){this._close(),oe(t)},_getAnchor:function(){return I(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Ve.mergeOptions({closePopupOnClick:!0}),Ve.include({openPopup:function(t,e,i){return t instanceof $i||(t=new $i(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),xi.include({bindPopup:function(t,e){return t instanceof $i?(d(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new $i(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof xi||(e=t,t=this),t instanceof Mi)for(var i in this._layers){t=this._layers[i];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(oe(t),e instanceof Oi?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var Yi=Ki.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){Ki.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){Ki.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=Ki.prototype.getEvents.call(this);return wt&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Se("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,i=this._container,n=e.latLngToContainerPoint(e.getCenter()),o=e.layerPointToContainerPoint(t),r=this.options.direction,s=i.offsetWidth,a=i.offsetHeight,u=I(this.options.offset),l=this._getAnchor();"top"===r?t=t.add(I(-s/2+u.x,-a+u.y+l.y,!0)):"bottom"===r?t=t.subtract(I(s/2-u.x,-u.y,!0)):"center"===r?t=t.subtract(I(s/2+u.x,a/2-l.y+u.y,!0)):"right"===r||"auto"===r&&o.x<n.x?(r="right",t=t.add(I(u.x+l.x,l.y-a/2+u.y,!0))):(r="left",t=t.subtract(I(s+l.x-u.x,a/2-l.y-u.y,!0))),Ae(i,"leaflet-tooltip-right"),Ae(i,"leaflet-tooltip-left"),Ae(i,"leaflet-tooltip-top"),Ae(i,"leaflet-tooltip-bottom"),Oe(i,"leaflet-tooltip-"+r),Be(i,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Ie(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return I(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Ve.include({openTooltip:function(t,e,i){return t instanceof Yi||(t=new Yi(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),xi.include({bindTooltip:function(t,e){return t instanceof Yi?(d(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new Yi(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),wt&&(i.click=this._openTooltip)),this[e](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){if(t instanceof xi||(e=t,t=this),t instanceof Mi)for(var i in this._layers){t=this._layers[i];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(Oe(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(Ae(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,i,n=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),i=this._map.containerPointToLayerPoint(e),n=this._map.layerPointToLatLng(i)),this._tooltip.setLatLng(n)}});var Ji=Ti.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),i=this.options;if(e.innerHTML=!1!==i.html?i.html:"",i.bgPos){var n=I(i.bgPos);e.style.backgroundPosition=-n.x+"px "+-n.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});Ti.Default=Pi;var Xi=xi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:gt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){d(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),Me(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Pe(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ce(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=a(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof E?t:new E(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,i=this.getPane().children,n=-t(-1/0,1/0),o=0,r=i.length;o<r;o++)e=i[o].style.zIndex,i[o]!==this._container&&e&&(n=t(n,+e));isFinite(n)&&(this.options.zIndex=n+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Q){Ie(this._container,this.options.opacity);var t=+new Date,e=!1,i=!1;for(var n in this._tiles){var o=this._tiles[n];if(o.current&&o.loaded){var r=Math.min(1,(t-o.loaded)/200);Ie(o.el,r),r<1?e=!0:(o.active?i=!0:this._onOpaqueTile(o),o.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),e&&(P(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=Se("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var i in this._levels)this._levels[i].el.children.length||i===t?(this._levels[i].el.style.zIndex=e-Math.abs(t-i),this._onUpdateLevel(i)):(Me(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var n=this._levels[t],o=this._map;return n||((n=this._levels[t]={}).el=Se("div","leaflet-tile-container leaflet-zoom-animated",this._container),n.el.style.zIndex=e,n.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),n.zoom=t,this._setZoomTransform(n,o.getCenter(),o.getZoom()),n.el.offsetWidth,this._onCreateLevel(n)),this._level=n,n}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var t,e,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var n=e.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)Me(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,i,n){var o=Math.floor(t/2),r=Math.floor(e/2),s=i-1,a=new E(+o,+r);a.z=+s;var u=this._tileCoordsToKey(a),l=this._tiles[u];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),s>n&&this._retainParent(o,r,s,n))},_retainChildren:function(t,e,i,n){for(var o=2*t;o<2*t+2;o++)for(var r=2*e;r<2*e+2;r++){var s=new E(o,r);s.z=i+1;var a=this._tileCoordsToKey(s),u=this._tiles[a];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),i+1<n&&this._retainChildren(o,r,i+1,n))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,i,n){var o=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom)&&(o=void 0);var r=this.options.updateWhenZooming&&o!==this._tileZoom;n&&!r||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,e,i){var n=this._map.getZoomScale(i,t.zoom),o=t.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(e,i)).round();mt?Ze(t.el,o,n):Be(t.el,o)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),n=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],n).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],n).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],n).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],n).y/i.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),n=e.getZoomScale(i,this._tileZoom),o=e.project(t,this._tileZoom).floor(),r=e.getSize().divideBy(2*n);return new j(o.subtract(r),o.add(r))},_update:function(t){var e=this._map;if(e){var i=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var n=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(n),r=o.getCenter(),s=[],a=this.options.keepBuffer,u=new j(o.getBottomLeft().subtract([a,-a]),o.getTopRight().add([a,-a]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var h=this._tiles[l].coords;h.z===this._tileZoom&&u.contains(new E(h.x,h.y))||(this._tiles[l].current=!1)}if(Math.abs(i-this._tileZoom)>1)this._setView(t,i);else{for(var c=o.min.y;c<=o.max.y;c++)for(var p=o.min.x;p<=o.max.x;p++){var d=new E(p,c);if(d.z=this._tileZoom,this._isValidTile(d)){var f=this._tiles[this._tileCoordsToKey(d)];f?f.current=!0:s.push(d)}}if(s.sort(function(t,e){return t.distanceTo(r)-e.distanceTo(r)}),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var _=document.createDocumentFragment();for(p=0;p<s.length;p++)this._addTile(s[p],_);this._level.el.appendChild(_)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;var n=this._tileCoordsToBounds(t);return N(this.options.bounds).overlaps(n)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,i=this.getTileSize(),n=t.scaleBy(i),o=n.add(i);return[e.unproject(n,t.z),e.unproject(o,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),i=new B(e[0],e[1]);return this.options.noWrap||(i=this._map.wrapLatLngBounds(i)),i},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),i=new E(+e[0],+e[1]);return i.z=+e[2],i},_removeTile:function(t){var e=this._tiles[t];e&&(rt||e.el.setAttribute("src",y),Me(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Oe(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=l,t.onmousemove=l,Q&&this.options.opacity<1&&Ie(t,this.options.opacity),it&&!nt&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var i=this._getTilePos(t),n=this._tileCoordsToKey(t),r=this.createTile(this._wrapCoords(t),o(this._tileReady,this,t));this._initTile(r),this.createTile.length<2&&T(o(this._tileReady,this,t,null,r)),Be(r,i),this._tiles[n]={el:r,coords:t,current:!0},e.appendChild(r),this.fire("tileloadstart",{tile:r,coords:t})},_tileReady:function(t,e,i){if(this._map){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var n=this._tileCoordsToKey(t);(i=this._tiles[n])&&(i.loaded=+new Date,this._map._fadeAnimated?(Ie(i.el,0),P(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(Oe(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Q||!this._map._fadeAnimated?T(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new E(this._wrapX?u(t.x,this._wrapX):t.x,this._wrapY?u(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new j(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});var Qi=Xi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=d(this,e)).detectRetina&&Mt&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),it||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=document.createElement("img");return $t(i,"load",o(this._tileOnLoad,this,e,i)),$t(i,"error",o(this._tileOnError,this,e,i)),this.options.crossOrigin&&(i.crossOrigin=""),i.alt="",i.setAttribute("role","presentation"),i.src=this.getTileUrl(t),i},getTileUrl:function(t){var e={r:Mt?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=n),e["-y"]=n}return m(this._url,i(e,this.options))},_tileOnLoad:function(t,e){Q?setTimeout(o(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var n=this.options.errorTileUrl;n&&e.getAttribute("src")!==n&&(e.src=n),t(i,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,i=this.options.zoomReverse,n=this.options.zoomOffset;return i&&(t=e-t),t+n},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=l,e.onerror=l,e.complete||(e.src=y,Me(e),delete this._tiles[t]))}});function tn(t,e){return new Qi(t,e)}var en=Qi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var n=i({},this.defaultWmsParams);for(var o in e)o in this.options||(n[o]=e[o]);var r=(e=d(this,e)).detectRetina&&Mt?2:1,s=this.getTileSize();n.width=s.x*r,n.height=s.y*r,this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Qi.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),i=this._crs,n=Z(i.project(e[0]),i.project(e[1])),o=n.min,r=n.max,s=(this._wmsVersion>=1.3&&this._crs===Li?[o.y,o.x,r.y,r.x]:[o.x,o.y,r.x,r.y]).join(","),a=L.TileLayer.prototype.getTileUrl.call(this,t);return a+f(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(t,e){return i(this.wmsParams,t),e||this.redraw(),this}});Qi.WMS=en,tn.wms=function(t,e){return new en(t,e)};var nn=xi.extend({options:{padding:.1,tolerance:0},initialize:function(t){d(this,t),s(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Oe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),n=Ne(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,e),s=this._map.project(t,e).subtract(r),a=o.multiplyBy(-i).add(n).add(o).subtract(s);mt?Ze(this._container,a,i):Be(this._container,a)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new j(i,i.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),on=nn.extend({getEvents:function(){var t=nn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){nn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");$t(t,"mousemove",a(this._onMouseMove,32,this),this),$t(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),$t(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){delete this._ctx,Me(this._container),Jt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},nn.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),n=Mt?2:1;Be(e,t.min),e.width=n*i.x,e.height=n*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",Mt&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){nn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[s(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,i=e.next,n=e.prev;i?i.prev=n:this._drawLast=n,n?n.next=i:this._drawFirst=i,delete t._order,delete this._layers[L.stamp(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(t.options.dashArray){var e,i=t.options.dashArray.split(","),n=[];for(e=0;e<i.length;e++)n.push(Number(i[e]));t.options._dashArray=n}},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||T(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new j,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var i=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var n=this._drawFirst;n;n=n.next)t=n.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var i,n,o,r,s=t._parts,a=s.length,u=this._ctx;if(a){for(this._drawnLayers[t._leaflet_id]=t,u.beginPath(),i=0;i<a;i++){for(n=0,o=s[i].length;n<o;n++)r=s[i][n],u[n?"lineTo":"moveTo"](r.x,r.y);e&&u.closePath()}this._fillStroke(u,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,i=this._ctx,n=Math.max(Math.round(t._radius),1),o=(Math.max(Math.round(t._radiusY),1)||n)/n;this._drawnLayers[t._leaflet_id]=t,1!==o&&(i.save(),i.scale(1,o)),i.beginPath(),i.arc(e.x,e.y/o,n,0,2*Math.PI,!1),1!==o&&i.restore(),this._fillStroke(i,t)}},_fillStroke:function(t,e){var i=e.options;i.fill&&(t.globalAlpha=i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&0!==i.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=i.opacity,t.lineWidth=i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){for(var e,i,n=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)(e=o.layer).options.interactive&&e._containsPoint(n)&&!this._map._draggableMoved(e)&&(i=e);i&&(he(t),this._fireEvent([i],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(Ae(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){for(var i,n,o=this._drawFirst;o;o=o.next)(i=o.layer).options.interactive&&i._containsPoint(e)&&(n=i);n!==this._hoveredLayer&&(this._handleMouseOut(t),n&&(Oe(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseover"),this._hoveredLayer=n)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_bringToFront:function(t){var e=t._order,i=e.next,n=e.prev;i&&(i.prev=n,n?n.next=i:i&&(this._drawFirst=i),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))},_bringToBack:function(t){var e=t._order,i=e.next,n=e.prev;n&&(n.next=i,i?i.prev=n:n&&(this._drawLast=n),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}});function rn(t){return Tt?new on(t):null}var sn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),an={_initContainer:function(){this._container=Se("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(nn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=sn("shape");Oe(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=sn("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;Me(e),t.removeInteractiveTarget(e),delete this._layers[s(t)]},_updateStyle:function(t){var e=t._stroke,i=t._fill,n=t.options,o=t._container;o.stroked=!!n.stroke,o.filled=!!n.fill,n.stroke?(e||(e=t._stroke=sn("stroke")),o.appendChild(e),e.weight=n.weight+"px",e.color=n.color,e.opacity=n.opacity,n.dashArray?e.dashStyle=g(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=n.lineCap.replace("butt","flat"),e.joinstyle=n.lineJoin):e&&(o.removeChild(e),t._stroke=null),n.fill?(i||(i=t._fill=sn("fill")),o.appendChild(i),i.color=n.fillColor||n.color,i.opacity=n.fillOpacity):i&&(o.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),n=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+n+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){Pe(t._container)},_bringToBack:function(t){Ce(t._container)}},un=Ct?sn:$,ln=nn.extend({getEvents:function(){var t=nn.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=un("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=un("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Me(this._container),Jt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){nn.prototype._update.call(this);var t=this._bounds,e=t.getSize(),i=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),Be(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=un("path");t.options.className&&Oe(e,t.options.className),t.options.interactive&&Oe(e,"leaflet-interactive"),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){Me(t._path),t.removeInteractiveTarget(t._path),delete this._layers[s(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,i=t.options;e&&(i.stroke?(e.setAttribute("stroke",i.color),e.setAttribute("stroke-opacity",i.opacity),e.setAttribute("stroke-width",i.weight),e.setAttribute("stroke-linecap",i.lineCap),e.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?e.setAttribute("stroke-dasharray",i.dashArray):e.removeAttribute("stroke-dasharray"),i.dashOffset?e.setAttribute("stroke-dashoffset",i.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),i.fill?(e.setAttribute("fill",i.fillColor||i.color),e.setAttribute("fill-opacity",i.fillOpacity),e.setAttribute("fill-rule",i.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,Y(t._parts,e))},_updateCircle:function(t){var e=t._point,i=Math.max(Math.round(t._radius),1),n="a"+i+","+(Math.max(Math.round(t._radiusY),1)||i)+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+n+2*i+",0 "+n+2*-i+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){Pe(t._path)},_bringToBack:function(t){Ce(t._path)}});function hn(t){return Pt||Ct?new ln(t):null}Ct&&ln.include(an),Ve.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this.options.preferCanvas&&rn()||hn()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=ln&&hn({pane:t})||on&&rn({pane:t}),this._paneRenderers[t]=e),e}});var cn=Ii.extend({initialize:function(t,e){Ii.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=N(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});ln.create=un,ln.pointsToPath=Y,ji.geometryToLayer=Zi,ji.coordsToLatLng=Bi,ji.coordsToLatLngs=Ni,ji.latLngToCoords=Ri,ji.latLngsToCoords=Di,ji.getFeature=Gi,ji.asFeature=Fi,Ve.mergeOptions({boxZoom:!0});var pn=Qe.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){$t(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Jt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Me(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),de(),De(),this._startPoint=this._map.mouseEventToContainerPoint(t),$t(document,{contextmenu:oe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=Se("div","leaflet-zoom-box",this._container),Oe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new j(this._point,this._startPoint),i=e.getSize();Be(this._box,e.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(Me(this._box),Ae(this._container,"leaflet-crosshair")),fe(),Ge(),Jt(document,{contextmenu:oe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var e=new B(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});Ve.addInitHook("addHandler","boxZoom",pn),Ve.mergeOptions({doubleClickZoom:!0});var dn=Qe.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),n=e.options.zoomDelta,o=t.originalEvent.shiftKey?i-n:i+n;"center"===e.options.doubleClickZoom?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}});Ve.addInitHook("addHandler","doubleClickZoom",dn),Ve.mergeOptions({dragging:!0,inertia:!nt,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var fn=Qe.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new ri(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Oe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ae(this._map._container,"leaflet-grab"),Ae(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=N(this._map.options.maxBounds);this._offsetLimit=Z(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,o=(n-e+i)%t+e-i,r=(n+e+i)%t-e-i,s=Math.abs(o+i)<Math.abs(r+i)?o:r;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,i=e.options,n=!i.inertia||this._times.length<2;if(e.fire("dragend",t),n)e.fire("moveend");else{this._prunePositions(+new Date);var o=this._lastPos.subtract(this._positions[0]),r=(this._lastTime-this._times[0])/1e3,s=i.easeLinearity,a=o.multiplyBy(s/r),u=a.distanceTo([0,0]),l=Math.min(i.inertiaMaxSpeed,u),h=a.multiplyBy(l/u),c=l/(i.inertiaDeceleration*s),p=h.multiplyBy(-c/2).round();p.x||p.y?(p=e._limitOffset(p,e.options.maxBounds),T(function(){e.panBy(p,{duration:c,easeLinearity:s,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}});Ve.addInitHook("addHandler","dragging",fn),Ve.mergeOptions({keyboard:!0,keyboardPanDelta:80});var _n=Qe.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),$t(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Jt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,i=t.scrollTop||e.scrollTop,n=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(n,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,i,n=this._panKeys={},o=this.keyCodes;for(e=0,i=o.left.length;e<i;e++)n[o.left[e]]=[-1*t,0];for(e=0,i=o.right.length;e<i;e++)n[o.right[e]]=[t,0];for(e=0,i=o.down.length;e<i;e++)n[o.down[e]]=[0,t];for(e=0,i=o.up.length;e<i;e++)n[o.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,i,n=this._zoomKeys={},o=this.keyCodes;for(e=0,i=o.zoomIn.length;e<i;e++)n[o.zoomIn[e]]=t;for(e=0,i=o.zoomOut.length;e<i;e++)n[o.zoomOut[e]]=-t},_addHooks:function(){$t(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Jt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,i=t.keyCode,n=this._map;if(i in this._panKeys){if(n._panAnim&&n._panAnim._inProgress)return;e=this._panKeys[i],t.shiftKey&&(e=I(e).multiplyBy(3)),n.panBy(e),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds)}else if(i in this._zoomKeys)n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else{if(27!==i||!n._popup||!n._popup.options.closeOnEscapeKey)return;n.closePopup()}oe(t)}}});Ve.addInitHook("addHandler","keyboard",_n),Ve.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var mn=Qe.extend({addHooks:function(){$t(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Jt(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=ae(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var n=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),n),oe(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var n=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(n))))/Math.LN2,r=i?Math.ceil(o/i)*i:o,s=t._limitZoom(e+(this._delta>0?r:-r))-e;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}});Ve.addInitHook("addHandler","scrollWheelZoom",mn),Ve.mergeOptions({tap:!0,tapTolerance:15});var gn=Qe.extend({addHooks:function(){$t(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Jt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(ne(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],i=e.target;this._startPos=this._newPos=new E(e.clientX,e.clientY),i.tagName&&"a"===i.tagName.toLowerCase()&&Oe(i,"leaflet-active"),this._holdTimeout=setTimeout(o(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),$t(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),Jt(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],i=e.target;i&&i.tagName&&"a"===i.tagName.toLowerCase()&&Ae(i,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new E(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var i=document.createEvent("MouseEvents");i._simulated=!0,e.target._simulatedClick=!0,i.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}});wt&&!Lt&&Ve.addInitHook("addHandler","tap",gn),Ve.mergeOptions({touchZoom:wt&&!nt,bounceAtZoomLimits:!0});var vn=Qe.extend({addHooks:function(){Oe(this._map._container,"leaflet-touch-zoom"),$t(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ae(this._map._container,"leaflet-touch-zoom"),Jt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var i=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(i.add(n)._divideBy(2))),this._startDist=i.distanceTo(n),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),$t(document,"touchmove",this._onTouchMove,this),$t(document,"touchend",this._onTouchEnd,this),ne(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]),r=i.distanceTo(n)/this._startDist;if(this._zoom=e.getScaleZoom(r,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&r<1||this._zoom>e.getMaxZoom()&&r>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===r)return}else{var s=i._add(n)._divideBy(2)._subtract(this._centerPoint);if(1===r&&0===s.x&&0===s.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),P(this._animRequest);var a=o(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=T(a,this,!0),ne(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,P(this._animRequest),Jt(document,"touchmove",this._onTouchMove),Jt(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ve.addInitHook("addHandler","touchZoom",vn),Ve.BoxZoom=pn,Ve.DoubleClickZoom=dn,Ve.Drag=fn,Ve.Keyboard=_n,Ve.ScrollWheelZoom=mn,Ve.Tap=gn,Ve.TouchZoom=vn;var yn=window.L;window.L=t,Object.freeze=e,t.version="1.3.1",t.noConflict=function(){return window.L=yn,this},t.Control=qe,t.control=Ke,t.Browser=Ot,t.Evented=A,t.Mixin=ei,t.Util=C,t.Class=k,t.Handler=Qe,t.extend=i,t.bind=o,t.stamp=s,t.setOptions=d,t.DomEvent=ve,t.DomUtil=We,t.PosAnimation=Ue,t.Draggable=ri,t.LineUtil=fi,t.PolyUtil=mi,t.Point=E,t.point=I,t.Bounds=j,t.bounds=Z,t.Transformation=U,t.transformation=V,t.Projection=yi,t.LatLng=R,t.latLng=D,t.LatLngBounds=B,t.latLngBounds=N,t.CRS=F,t.GeoJSON=ji,t.geoJSON=Wi,t.geoJson=Ui,t.Layer=xi,t.LayerGroup=Si,t.layerGroup=function(t,e){return new Si(t,e)},t.FeatureGroup=Mi,t.featureGroup=function(t){return new Mi(t)},t.ImageOverlay=Vi,t.imageOverlay=function(t,e,i){return new Vi(t,e,i)},t.VideoOverlay=qi,t.videoOverlay=function(t,e,i){return new qi(t,e,i)},t.DivOverlay=Ki,t.Popup=$i,t.popup=function(t,e){return new $i(t,e)},t.Tooltip=Yi,t.tooltip=function(t,e){return new Yi(t,e)},t.Icon=Ti,t.icon=function(t){return new Ti(t)},t.DivIcon=Ji,t.divIcon=function(t){return new Ji(t)},t.Marker=ki,t.marker=function(t,e){return new ki(t,e)},t.TileLayer=Qi,t.tileLayer=tn,t.GridLayer=Xi,t.gridLayer=function(t){return new Xi(t)},t.SVG=ln,t.svg=hn,t.Renderer=nn,t.Canvas=on,t.canvas=rn,t.Path=Oi,t.CircleMarker=Ai,t.circleMarker=function(t,e){return new Ai(t,e)},t.Circle=Ei,t.circle=function(t,e,i){return new Ei(t,e,i)},t.Polyline=zi,t.polyline=function(t,e){return new zi(t,e)},t.Polygon=Ii,t.polygon=function(t,e){return new Ii(t,e)},t.Rectangle=cn,t.rectangle=function(t,e){return new cn(t,e)},t.Map=Ve,t.map=function(t,e){return new Ve(t,e)}},"object"==typeof i&&void 0!==e?o(i):"function"==typeof define&&define.amd?define(["exports"],o):o(n.L={})},{}],34:[function(t,e,i){var n=1/0,o=9007199254740991,r=1.7976931348623157e308,s=NaN,a="[object Arguments]",u="[object Function]",l="[object GeneratorFunction]",h="[object String]",c="[object Symbol]",p=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,_=/^0o[0-7]+$/i,m=/^(?:0|[1-9]\d*)$/,g=parseInt;function v(t){return t!=t}function y(t,e){return function(t,e){for(var i=-1,n=t?t.length:0,o=Array(n);++i<n;)o[i]=e(t[i],i,t);return o}(e,function(e){return t[e]})}var b,L,w=Object.prototype,x=w.hasOwnProperty,S=w.toString,M=w.propertyIsEnumerable,T=(b=Object.keys,L=Object,function(t){return b(L(t))}),P=Math.max;function C(t,e){var i=A(t)||function(t){return function(t){return I(t)&&E(t)}(t)&&x.call(t,"callee")&&(!M.call(t,"callee")||S.call(t)==a)}(t)?function(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}(t.length,String):[],n=i.length,o=!!n;for(var r in t)!e&&!x.call(t,r)||o&&("length"==r||O(r,n))||i.push(r);return i}function k(t){if(i=(e=t)&&e.constructor,n="function"==typeof i&&i.prototype||w,e!==n)return T(t);var e,i,n,o=[];for(var r in Object(t))x.call(t,r)&&"constructor"!=r&&o.push(r);return o}function O(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||m.test(t))&&t>-1&&t%1==0&&t<e}var A=Array.isArray;function E(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}(t.length)&&!function(t){var e=z(t)?S.call(t):"";return e==u||e==l}(t)}function z(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function I(t){return!!t&&"object"==typeof t}e.exports=function(t,e,i,o){var a;t=E(t)?t:(a=t)?y(a,function(t){return E(t)?C(t):k(t)}(a)):[],i=i&&!o?function(t){var e=function(t){if(!t)return 0===t?t:0;if((t=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||I(t)&&S.call(t)==c}(t))return s;if(z(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=z(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(p,"");var i=f.test(t);return i||_.test(t)?g(t.slice(2),i?2:8):d.test(t)?s:+t}(t))===n||t===-n){var e=t<0?-1:1;return e*r}return t==t?t:0}(t),i=e%1;return e==e?i?e-i:e:0}(i):0;var u=t.length;return i<0&&(i=P(u+i,0)),function(t){return"string"==typeof t||!A(t)&&I(t)&&S.call(t)==h}(t)?i<=u&&t.indexOf(e,i)>-1:!!u&&function(t,e,i){if(e!=e)return function(t,e,i,n){for(var o=t.length,r=i+(n?1:-1);n?r--:++r<o;)if(e(t[r],r,t))return r;return-1}(t,v,i);for(var n=i-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1}(t,e,i)>-1}},{}],35:[function(t,e,i){(function(t){var n=200,o="Expected a function",r="__lodash_hash_undefined__",s=1,a=2,u=1/0,l=9007199254740991,h="[object Arguments]",c="[object Array]",p="[object Boolean]",d="[object Date]",f="[object Error]",_="[object Function]",m="[object GeneratorFunction]",g="[object Map]",v="[object Number]",y="[object Object]",b="[object RegExp]",L="[object Set]",w="[object String]",x="[object Symbol]",S="[object ArrayBuffer]",M="[object DataView]",T=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,P=/^\w*$/,C=/^\./,k=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,O=/\\(\\)?/g,A=/^\[object .+?Constructor\]$/,E=/^(?:0|[1-9]\d*)$/,z={};z["[object Float32Array]"]=z["[object Float64Array]"]=z["[object Int8Array]"]=z["[object Int16Array]"]=z["[object Int32Array]"]=z["[object Uint8Array]"]=z["[object Uint8ClampedArray]"]=z["[object Uint16Array]"]=z["[object Uint32Array]"]=!0,z[h]=z[c]=z[S]=z[p]=z[M]=z[d]=z[f]=z[_]=z[g]=z[v]=z[y]=z[b]=z[L]=z[w]=z["[object WeakMap]"]=!1;var I="object"==typeof t&&t&&t.Object===Object&&t,j="object"==typeof self&&self&&self.Object===Object&&self,Z=I||j||Function("return this")(),B="object"==typeof i&&i&&!i.nodeType&&i,N=B&&"object"==typeof e&&e&&!e.nodeType&&e,R=N&&N.exports===B&&I.process,D=function(){try{return R&&R.binding("util")}catch(t){}}(),G=D&&D.isTypedArray;function F(t,e){for(var i=-1,n=t?t.length:0,o=Array(n);++i<n;)o[i]=e(t[i],i,t);return o}function H(t,e){for(var i=-1,n=t?t.length:0;++i<n;)if(e(t[i],i,t))return!0;return!1}function W(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function U(t){var e=-1,i=Array(t.size);return t.forEach(function(t,n){i[++e]=[n,t]}),i}function V(t){var e=-1,i=Array(t.size);return t.forEach(function(t){i[++e]=t}),i}var q,K,$,Y=Array.prototype,J=Function.prototype,X=Object.prototype,Q=Z["__core-js_shared__"],tt=(q=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+q:"",et=J.toString,it=X.hasOwnProperty,nt=X.toString,ot=RegExp("^"+et.call(it).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rt=Z.Symbol,st=Z.Uint8Array,at=X.propertyIsEnumerable,ut=Y.splice,lt=(K=Object.keys,$=Object,function(t){return K($(t))}),ht=Ut(Z,"DataView"),ct=Ut(Z,"Map"),pt=Ut(Z,"Promise"),dt=Ut(Z,"Set"),ft=Ut(Z,"WeakMap"),_t=Ut(Object,"create"),mt=Qt(ht),gt=Qt(ct),vt=Qt(pt),yt=Qt(dt),bt=Qt(ft),Lt=rt?rt.prototype:void 0,wt=Lt?Lt.valueOf:void 0,xt=Lt?Lt.toString:void 0;function St(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function Mt(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function Tt(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function Pt(t){var e=-1,i=t?t.length:0;for(this.__data__=new Tt;++e<i;)this.add(t[e])}function Ct(t){this.__data__=new Mt(t)}function kt(t,e){var i=ne(t)||ie(t)?function(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}(t.length,String):[],n=i.length,o=!!n;for(var r in t)!e&&!it.call(t,r)||o&&("length"==r||qt(r,n))||i.push(r);return i}function Ot(t,e){for(var i=t.length;i--;)if(ee(t[i][0],e))return i;return-1}St.prototype.clear=function(){this.__data__=_t?_t(null):{}},St.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},St.prototype.get=function(t){var e=this.__data__;if(_t){var i=e[t];return i===r?void 0:i}return it.call(e,t)?e[t]:void 0},St.prototype.has=function(t){var e=this.__data__;return _t?void 0!==e[t]:it.call(e,t)},St.prototype.set=function(t,e){return this.__data__[t]=_t&&void 0===e?r:e,this},Mt.prototype.clear=function(){this.__data__=[]},Mt.prototype.delete=function(t){var e=this.__data__,i=Ot(e,t);return!(i<0||(i==e.length-1?e.pop():ut.call(e,i,1),0))},Mt.prototype.get=function(t){var e=this.__data__,i=Ot(e,t);return i<0?void 0:e[i][1]},Mt.prototype.has=function(t){return Ot(this.__data__,t)>-1},Mt.prototype.set=function(t,e){var i=this.__data__,n=Ot(i,t);return n<0?i.push([t,e]):i[n][1]=e,this},Tt.prototype.clear=function(){this.__data__={hash:new St,map:new(ct||Mt),string:new St}},Tt.prototype.delete=function(t){return Wt(this,t).delete(t)},Tt.prototype.get=function(t){return Wt(this,t).get(t)},Tt.prototype.has=function(t){return Wt(this,t).has(t)},Tt.prototype.set=function(t,e){return Wt(this,t).set(t,e),this},Pt.prototype.add=Pt.prototype.push=function(t){return this.__data__.set(t,r),this},Pt.prototype.has=function(t){return this.__data__.has(t)},Ct.prototype.clear=function(){this.__data__=new Mt},Ct.prototype.delete=function(t){return this.__data__.delete(t)},Ct.prototype.get=function(t){return this.__data__.get(t)},Ct.prototype.has=function(t){return this.__data__.has(t)},Ct.prototype.set=function(t,e){var i=this.__data__;if(i instanceof Mt){var o=i.__data__;if(!ct||o.length<n-1)return o.push([t,e]),this;i=this.__data__=new Tt(o)}return i.set(t,e),this};var At,Et,zt=(At=function(t,e){return t&&It(t,e,ce)},function(t,e){if(null==t)return t;if(!oe(t))return At(t,e);for(var i=t.length,n=Et?i:-1,o=Object(t);(Et?n--:++n<i)&&!1!==e(o[n],n,o););return t}),It=function(t){return function(e,i,n){for(var o=-1,r=Object(e),s=n(e),a=s.length;a--;){var u=s[t?a:++o];if(!1===i(r[u],u,r))break}return e}}();function jt(t,e){for(var i=0,n=(e=Kt(e,t)?[e]:Ft(e)).length;null!=t&&i<n;)t=t[Xt(e[i++])];return i&&i==n?t:void 0}function Zt(t,e){return null!=t&&e in Object(t)}function Bt(t,e,i,n,o){return t===e||(null==t||null==e||!ae(t)&&!ue(e)?t!=t&&e!=e:function(t,e,i,n,o,r){var u=ne(t),l=ne(e),_=c,m=c;u||(_=(_=Vt(t))==h?y:_);l||(m=(m=Vt(e))==h?y:m);var T=_==y&&!W(t),P=m==y&&!W(e),C=_==m;if(C&&!T)return r||(r=new Ct),u||he(t)?Ht(t,e,i,n,o,r):function(t,e,i,n,o,r,u){switch(i){case M:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case S:return!(t.byteLength!=e.byteLength||!n(new st(t),new st(e)));case p:case d:case v:return ee(+t,+e);case f:return t.name==e.name&&t.message==e.message;case b:case w:return t==e+"";case g:var l=U;case L:var h=r&a;if(l||(l=V),t.size!=e.size&&!h)return!1;var c=u.get(t);if(c)return c==e;r|=s,u.set(t,e);var _=Ht(l(t),l(e),n,o,r,u);return u.delete(t),_;case x:if(wt)return wt.call(t)==wt.call(e)}return!1}(t,e,_,i,n,o,r);if(!(o&a)){var k=T&&it.call(t,"__wrapped__"),O=P&&it.call(e,"__wrapped__");if(k||O){var A=k?t.value():t,E=O?e.value():e;return r||(r=new Ct),i(A,E,n,o,r)}}if(!C)return!1;return r||(r=new Ct),function(t,e,i,n,o,r){var s=o&a,u=ce(t),l=u.length,h=ce(e).length;if(l!=h&&!s)return!1;for(var c=l;c--;){var p=u[c];if(!(s?p in e:it.call(e,p)))return!1}var d=r.get(t);if(d&&r.get(e))return d==e;var f=!0;r.set(t,e),r.set(e,t);for(var _=s;++c<l;){p=u[c];var m=t[p],g=e[p];if(n)var v=s?n(g,m,p,e,t,r):n(m,g,p,t,e,r);if(!(void 0===v?m===g||i(m,g,n,o,r):v)){f=!1;break}_||(_="constructor"==p)}if(f&&!_){var y=t.constructor,b=e.constructor;y!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(f=!1)}return r.delete(t),r.delete(e),f}(t,e,i,n,o,r)}(t,e,Bt,i,n,o))}function Nt(t){return!(!ae(t)||tt&&tt in t)&&(re(t)||W(t)?ot:A).test(Qt(t))}function Rt(t){return"function"==typeof t?t:null==t?pe:"object"==typeof t?ne(t)?function(t,e){if(Kt(t)&&$t(e))return Yt(Xt(t),e);return function(i){var n=function(t,e,i){var n=null==t?void 0:jt(t,e);return void 0===n?i:n}(i,t);return void 0===n&&n===e?function(t,e){return null!=t&&function(t,e,i){var n,o=-1,r=(e=Kt(e,t)?[e]:Ft(e)).length;for(;++o<r;){var s=Xt(e[o]);if(!(n=null!=t&&i(t,s)))break;t=t[s]}if(n)return n;return!!(r=t?t.length:0)&&se(r)&&qt(s,r)&&(ne(t)||ie(t))}(t,e,Zt)}(i,t):Bt(e,n,void 0,s|a)}}(t[0],t[1]):function(t){var e=function(t){var e=ce(t),i=e.length;for(;i--;){var n=e[i],o=t[n];e[i]=[n,o,$t(o)]}return e}(t);if(1==e.length&&e[0][2])return Yt(e[0][0],e[0][1]);return function(i){return i===t||function(t,e,i,n){var o=i.length,r=o,u=!n;if(null==t)return!r;for(t=Object(t);o--;){var l=i[o];if(u&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++o<r;){var h=(l=i[o])[0],c=t[h],p=l[1];if(u&&l[2]){if(void 0===c&&!(h in t))return!1}else{var d=new Ct;if(n)var f=n(c,p,h,t,e,d);if(!(void 0===f?Bt(p,c,n,s|a,d):f))return!1}}return!0}(i,t,e)}}(t):Kt(e=t)?(i=Xt(e),function(t){return null==t?void 0:t[i]}):function(t){return function(e){return jt(e,t)}}(e);var e,i}function Dt(t){if(i=(e=t)&&e.constructor,n="function"==typeof i&&i.prototype||X,e!==n)return lt(t);var e,i,n,o=[];for(var r in Object(t))it.call(t,r)&&"constructor"!=r&&o.push(r);return o}function Gt(t,e){var i=-1,n=oe(t)?Array(t.length):[];return zt(t,function(t,o,r){n[++i]=e(t,o,r)}),n}function Ft(t){return ne(t)?t:Jt(t)}function Ht(t,e,i,n,o,r){var u=o&a,l=t.length,h=e.length;if(l!=h&&!(u&&h>l))return!1;var c=r.get(t);if(c&&r.get(e))return c==e;var p=-1,d=!0,f=o&s?new Pt:void 0;for(r.set(t,e),r.set(e,t);++p<l;){var _=t[p],m=e[p];if(n)var g=u?n(m,_,p,e,t,r):n(_,m,p,t,e,r);if(void 0!==g){if(g)continue;d=!1;break}if(f){if(!H(e,function(t,e){if(!f.has(e)&&(_===t||i(_,t,n,o,r)))return f.add(e)})){d=!1;break}}else if(_!==m&&!i(_,m,n,o,r)){d=!1;break}}return r.delete(t),r.delete(e),d}function Wt(t,e){var i,n,o=t.__data__;return("string"==(n=typeof(i=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?o["string"==typeof e?"string":"hash"]:o.map}function Ut(t,e){var i=function(t,e){return null==t?void 0:t[e]}(t,e);return Nt(i)?i:void 0}var Vt=function(t){return nt.call(t)};function qt(t,e){return!!(e=null==e?l:e)&&("number"==typeof t||E.test(t))&&t>-1&&t%1==0&&t<e}function Kt(t,e){if(ne(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!le(t))||(P.test(t)||!T.test(t)||null!=e&&t in Object(e))}function $t(t){return t==t&&!ae(t)}function Yt(t,e){return function(i){return null!=i&&(i[t]===e&&(void 0!==e||t in Object(i)))}}(ht&&Vt(new ht(new ArrayBuffer(1)))!=M||ct&&Vt(new ct)!=g||pt&&"[object Promise]"!=Vt(pt.resolve())||dt&&Vt(new dt)!=L||ft&&"[object WeakMap]"!=Vt(new ft))&&(Vt=function(t){var e=nt.call(t),i=e==y?t.constructor:void 0,n=i?Qt(i):void 0;if(n)switch(n){case mt:return M;case gt:return g;case vt:return"[object Promise]";case yt:return L;case bt:return"[object WeakMap]"}return e});var Jt=te(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(le(t))return xt?xt.call(t):"";var e=t+"";return"0"==e&&1/t==-u?"-0":e}(e);var i=[];return C.test(t)&&i.push(""),t.replace(k,function(t,e,n,o){i.push(n?o.replace(O,"$1"):e||t)}),i});function Xt(t){if("string"==typeof t||le(t))return t;var e=t+"";return"0"==e&&1/t==-u?"-0":e}function Qt(t){if(null!=t){try{return et.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function te(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(o);var i=function(){var n=arguments,o=e?e.apply(this,n):n[0],r=i.cache;if(r.has(o))return r.get(o);var s=t.apply(this,n);return i.cache=r.set(o,s),s};return i.cache=new(te.Cache||Tt),i}function ee(t,e){return t===e||t!=t&&e!=e}function ie(t){return function(t){return ue(t)&&oe(t)}(t)&&it.call(t,"callee")&&(!at.call(t,"callee")||nt.call(t)==h)}te.Cache=Tt;var ne=Array.isArray;function oe(t){return null!=t&&se(t.length)&&!re(t)}function re(t){var e=ae(t)?nt.call(t):"";return e==_||e==m}function se(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=l}function ae(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function ue(t){return!!t&&"object"==typeof t}function le(t){return"symbol"==typeof t||ue(t)&&nt.call(t)==x}var he=G?function(t){return function(e){return t(e)}}(G):function(t){return ue(t)&&se(t.length)&&!!z[nt.call(t)]};function ce(t){return oe(t)?kt(t):Dt(t)}function pe(t){return t}e.exports=function(t,e){return(ne(t)?F:Gt)(t,Rt(e))}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],36:[function(t,e,i){var n=t("./_root").Symbol;e.exports=n},{"./_root":52}],37:[function(t,e,i){var n=t("./_baseTimes"),o=t("./isArguments"),r=t("./isArray"),s=t("./isBuffer"),a=t("./_isIndex"),u=t("./isTypedArray"),l=Object.prototype.hasOwnProperty;e.exports=function(t,e){var i=r(t),h=!i&&o(t),c=!i&&!h&&s(t),p=!i&&!h&&!c&&u(t),d=i||h||c||p,f=d?n(t.length,String):[],_=f.length;for(var m in t)!e&&!l.call(t,m)||d&&("length"==m||c&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||a(m,_))||f.push(m);return f}},{"./_baseTimes":42,"./_isIndex":46,"./isArguments":53,"./isArray":54,"./isBuffer":56,"./isTypedArray":61}],38:[function(t,e,i){var n=t("./_Symbol"),o=t("./_getRawTag"),r=t("./_objectToString"),s="[object Null]",a="[object Undefined]",u=n?n.toStringTag:void 0;e.exports=function(t){return null==t?void 0===t?a:s:u&&u in Object(t)?o(t):r(t)}},{"./_Symbol":36,"./_getRawTag":45,"./_objectToString":50}],39:[function(t,e,i){var n=t("./_baseGetTag"),o=t("./isObjectLike"),r="[object Arguments]";e.exports=function(t){return o(t)&&n(t)==r}},{"./_baseGetTag":38,"./isObjectLike":60}],40:[function(t,e,i){var n=t("./_baseGetTag"),o=t("./isLength"),r=t("./isObjectLike"),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(t){return r(t)&&o(t.length)&&!!s[n(t)]}},{"./_baseGetTag":38,"./isLength":58,"./isObjectLike":60}],41:[function(t,e,i){var n=t("./_isPrototype"),o=t("./_nativeKeys"),r=Object.prototype.hasOwnProperty;e.exports=function(t){if(!n(t))return o(t);var e=[];for(var i in Object(t))r.call(t,i)&&"constructor"!=i&&e.push(i);return e}},{"./_isPrototype":47,"./_nativeKeys":48}],42:[function(t,e,i){e.exports=function(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}},{}],43:[function(t,e,i){e.exports=function(t){return function(e){return t(e)}}},{}],44:[function(t,e,i){(function(t){var i="object"==typeof t&&t&&t.Object===Object&&t;e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(t,e,i){var n=t("./_Symbol"),o=Object.prototype,r=o.hasOwnProperty,s=o.toString,a=n?n.toStringTag:void 0;e.exports=function(t){var e=r.call(t,a),i=t[a];try{t[a]=void 0;var n=!0}catch(t){}var o=s.call(t);return n&&(e?t[a]=i:delete t[a]),o}},{"./_Symbol":36}],46:[function(t,e,i){var n=9007199254740991,o=/^(?:0|[1-9]\d*)$/;e.exports=function(t,e){var i=typeof t;return!!(e=null==e?n:e)&&("number"==i||"symbol"!=i&&o.test(t))&&t>-1&&t%1==0&&t<e}},{}],47:[function(t,e,i){var n=Object.prototype;e.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},{}],48:[function(t,e,i){var n=t("./_overArg")(Object.keys,Object);e.exports=n},{"./_overArg":51}],49:[function(t,e,i){var n=t("./_freeGlobal"),o="object"==typeof i&&i&&!i.nodeType&&i,r=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=r&&r.exports===o&&n.process,a=function(){try{var t=r&&r.require&&r.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=a},{"./_freeGlobal":44}],50:[function(t,e,i){var n=Object.prototype.toString;e.exports=function(t){return n.call(t)}},{}],51:[function(t,e,i){e.exports=function(t,e){return function(i){return t(e(i))}}},{}],52:[function(t,e,i){var n=t("./_freeGlobal"),o="object"==typeof self&&self&&self.Object===Object&&self,r=n||o||Function("return this")();e.exports=r},{"./_freeGlobal":44}],53:[function(t,e,i){var n=t("./_baseIsArguments"),o=t("./isObjectLike"),r=Object.prototype,s=r.hasOwnProperty,a=r.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(t){return o(t)&&s.call(t,"callee")&&!a.call(t,"callee")};e.exports=u},{"./_baseIsArguments":39,"./isObjectLike":60}],54:[function(t,e,i){var n=Array.isArray;e.exports=n},{}],55:[function(t,e,i){var n=t("./isFunction"),o=t("./isLength");e.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},{"./isFunction":57,"./isLength":58}],56:[function(t,e,i){var n=t("./_root"),o=t("./stubFalse"),r="object"==typeof i&&i&&!i.nodeType&&i,s=r&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===r?n.Buffer:void 0,u=(a?a.isBuffer:void 0)||o;e.exports=u},{"./_root":52,"./stubFalse":64}],57:[function(t,e,i){var n=t("./_baseGetTag"),o=t("./isObject"),r="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",u="[object Proxy]";e.exports=function(t){if(!o(t))return!1;var e=n(t);return e==s||e==a||e==r||e==u}},{"./_baseGetTag":38,"./isObject":59}],58:[function(t,e,i){var n=9007199254740991;e.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},{}],59:[function(t,e,i){e.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},{}],60:[function(t,e,i){e.exports=function(t){return null!=t&&"object"==typeof t}},{}],61:[function(t,e,i){var n=t("./_baseIsTypedArray"),o=t("./_baseUnary"),r=t("./_nodeUtil"),s=r&&r.isTypedArray,a=s?o(s):n;e.exports=a},{"./_baseIsTypedArray":40,"./_baseUnary":43,"./_nodeUtil":49}],62:[function(t,e,i){var n=t("./_arrayLikeKeys"),o=t("./_baseKeys"),r=t("./isArrayLike");e.exports=function(t){return r(t)?n(t):o(t)}},{"./_arrayLikeKeys":37,"./_baseKeys":41,"./isArrayLike":55}],63:[function(t,e,i){e.exports=function(){}},{}],64:[function(t,e,i){e.exports=function(){return!1}},{}],65:[function(t,e,i){!function(){var t,n,o,r,s,a,u,l,h,c,p,d,f,_,m,g,v,y,b,L,w,x,S,M,T,P,C,k=function(t){var e=new k.Index;return e.pipeline.add(k.trimmer,k.stopWordFilter,k.stemmer),t&&t.call(e,e),e};k.version="0.6.0",k.utils={},k.utils.warn=(t=this,function(e){t.console&&console.warn&&console.warn(e)}),k.utils.asString=function(t){return void 0===t||null===t?"":t.toString()},k.EventEmitter=function(){this.events={}},k.EventEmitter.prototype.addListener=function(){var t=Array.prototype.slice.call(arguments),e=t.pop(),i=t;if("function"!=typeof e)throw new TypeError("last argument must be a function");i.forEach(function(t){this.hasHandler(t)||(this.events[t]=[]),this.events[t].push(e)},this)},k.EventEmitter.prototype.removeListener=function(t,e){if(this.hasHandler(t)){var i=this.events[t].indexOf(e);this.events[t].splice(i,1),this.events[t].length||delete this.events[t]}},k.EventEmitter.prototype.emit=function(t){if(this.hasHandler(t)){var e=Array.prototype.slice.call(arguments,1);this.events[t].forEach(function(t){t.apply(void 0,e)})}},k.EventEmitter.prototype.hasHandler=function(t){return t in this.events},k.tokenizer=function(t){return arguments.length&&null!=t&&void 0!=t?Array.isArray(t)?t.map(function(t){return k.utils.asString(t).toLowerCase()}):t.toString().trim().toLowerCase().split(k.tokenizer.seperator):[]},k.tokenizer.seperator=/[\s\-]+/,k.Pipeline=function(){this._stack=[]},k.Pipeline.registeredFunctions={},k.Pipeline.registerFunction=function(t,e){e in this.registeredFunctions&&k.utils.warn("Overwriting existing registered function: "+e),t.label=e,k.Pipeline.registeredFunctions[t.label]=t},k.Pipeline.warnIfFunctionNotRegistered=function(t){t.label&&t.label in this.registeredFunctions||k.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",t)},k.Pipeline.load=function(t){var e=new k.Pipeline;return t.forEach(function(t){var i=k.Pipeline.registeredFunctions[t];if(!i)throw new Error("Cannot load un-registered function: "+t);e.add(i)}),e},k.Pipeline.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(t){k.Pipeline.warnIfFunctionNotRegistered(t),this._stack.push(t)},this)},k.Pipeline.prototype.after=function(t,e){k.Pipeline.warnIfFunctionNotRegistered(e);var i=this._stack.indexOf(t);if(-1==i)throw new Error("Cannot find existingFn");i+=1,this._stack.splice(i,0,e)},k.Pipeline.prototype.before=function(t,e){k.Pipeline.warnIfFunctionNotRegistered(e);var i=this._stack.indexOf(t);if(-1==i)throw new Error("Cannot find existingFn");this._stack.splice(i,0,e)},k.Pipeline.prototype.remove=function(t){var e=this._stack.indexOf(t);-1!=e&&this._stack.splice(e,1)},k.Pipeline.prototype.run=function(t){for(var e=[],i=t.length,n=this._stack.length,o=0;o<i;o++){for(var r=t[o],s=0;s<n&&(void 0!==(r=this._stack[s](r,o,t))&&""!==r);s++);void 0!==r&&""!==r&&e.push(r)}return e},k.Pipeline.prototype.reset=function(){this._stack=[]},k.Pipeline.prototype.toJSON=function(){return this._stack.map(function(t){return k.Pipeline.warnIfFunctionNotRegistered(t),t.label})},k.Vector=function(){this._magnitude=null,this.list=void 0,this.length=0},k.Vector.Node=function(t,e,i){this.idx=t,this.val=e,this.next=i},k.Vector.prototype.insert=function(t,e){this._magnitude=void 0;var i=this.list;if(!i)return this.list=new k.Vector.Node(t,e,i),this.length++;if(t<i.idx)return this.list=new k.Vector.Node(t,e,i),this.length++;for(var n=i,o=i.next;void 0!=o;){if(t<o.idx)return n.next=new k.Vector.Node(t,e,o),this.length++;n=o,o=o.next}return n.next=new k.Vector.Node(t,e,o),this.length++},k.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var t,e=this.list,i=0;e;)i+=(t=e.val)*t,e=e.next;return this._magnitude=Math.sqrt(i)},k.Vector.prototype.dot=function(t){for(var e=this.list,i=t.list,n=0;e&&i;)e.idx<i.idx?e=e.next:e.idx>i.idx?i=i.next:(n+=e.val*i.val,e=e.next,i=i.next);return n},k.Vector.prototype.similarity=function(t){return this.dot(t)/(this.magnitude()*t.magnitude())},k.SortedSet=function(){this.length=0,this.elements=[]},k.SortedSet.load=function(t){var e=new this;return e.elements=t,e.length=t.length,e},k.SortedSet.prototype.add=function(){var t,e;for(t=0;t<arguments.length;t++)e=arguments[t],~this.indexOf(e)||this.elements.splice(this.locationFor(e),0,e);this.length=this.elements.length},k.SortedSet.prototype.toArray=function(){return this.elements.slice()},k.SortedSet.prototype.map=function(t,e){return this.elements.map(t,e)},k.SortedSet.prototype.forEach=function(t,e){return this.elements.forEach(t,e)},k.SortedSet.prototype.indexOf=function(t){for(var e=0,i=this.elements.length,n=i-e,o=e+Math.floor(n/2),r=this.elements[o];n>1;){if(r===t)return o;r<t&&(e=o),r>t&&(i=o),n=i-e,o=e+Math.floor(n/2),r=this.elements[o]}return r===t?o:-1},k.SortedSet.prototype.locationFor=function(t){for(var e=0,i=this.elements.length,n=i-e,o=e+Math.floor(n/2),r=this.elements[o];n>1;)r<t&&(e=o),r>t&&(i=o),n=i-e,o=e+Math.floor(n/2),r=this.elements[o];return r>t?o:r<t?o+1:void 0},k.SortedSet.prototype.intersect=function(t){for(var e=new k.SortedSet,i=0,n=0,o=this.length,r=t.length,s=this.elements,a=t.elements;!(i>o-1||n>r-1);)s[i]!==a[n]?s[i]<a[n]?i++:s[i]>a[n]&&n++:(e.add(s[i]),i++,n++);return e},k.SortedSet.prototype.clone=function(){var t=new k.SortedSet;return t.elements=this.toArray(),t.length=t.elements.length,t},k.SortedSet.prototype.union=function(t){var e,i,n;return this.length>=t.length?(e=this,i=t):(e=t,i=this),(n=e.clone()).add.apply(n,i.toArray()),n},k.SortedSet.prototype.toJSON=function(){return this.toArray()},k.Index=function(){this._fields=[],this._ref="id",this.pipeline=new k.Pipeline,this.documentStore=new k.Store,this.tokenStore=new k.TokenStore,this.corpusTokens=new k.SortedSet,this.eventEmitter=new k.EventEmitter,this._idfCache={},this.on("add","remove","update",function(){this._idfCache={}}.bind(this))},k.Index.prototype.on=function(){var t=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,t)},k.Index.prototype.off=function(t,e){return this.eventEmitter.removeListener(t,e)},k.Index.load=function(t){t.version!==k.version&&k.utils.warn("version mismatch: current "+k.version+" importing "+t.version);var e=new this;return e._fields=t.fields,e._ref=t.ref,e.documentStore=k.Store.load(t.documentStore),e.tokenStore=k.TokenStore.load(t.tokenStore),e.corpusTokens=k.SortedSet.load(t.corpusTokens),e.pipeline=k.Pipeline.load(t.pipeline),e},k.Index.prototype.field=function(t,e){var i={name:t,boost:(e=e||{}).boost||1};return this._fields.push(i),this},k.Index.prototype.ref=function(t){return this._ref=t,this},k.Index.prototype.add=function(t,e){var i={},n=new k.SortedSet,o=t[this._ref];e=void 0===e||e;this._fields.forEach(function(e){var o=this.pipeline.run(k.tokenizer(t[e.name]));i[e.name]=o,k.SortedSet.prototype.add.apply(n,o)},this),this.documentStore.set(o,n),k.SortedSet.prototype.add.apply(this.corpusTokens,n.toArray());for(var r=0;r<n.length;r++){var s=n.elements[r],a=this._fields.reduce(function(t,e){var n=i[e.name].length;return n?t+i[e.name].filter(function(t){return t===s}).length/n*e.boost:t},0);this.tokenStore.add(s,{ref:o,tf:a})}e&&this.eventEmitter.emit("add",t,this)},k.Index.prototype.remove=function(t,e){var i=t[this._ref];e=void 0===e||e;if(this.documentStore.has(i)){var n=this.documentStore.get(i);this.documentStore.remove(i),n.forEach(function(t){this.tokenStore.remove(t,i)},this),e&&this.eventEmitter.emit("remove",t,this)}},k.Index.prototype.update=function(t,e){e=void 0===e||e;this.remove(t,!1),this.add(t,!1),e&&this.eventEmitter.emit("update",t,this)},k.Index.prototype.idf=function(t){var e="@"+t;if(Object.prototype.hasOwnProperty.call(this._idfCache,e))return this._idfCache[e];var i=this.tokenStore.count(t),n=1;return i>0&&(n=1+Math.log(this.documentStore.length/i)),this._idfCache[e]=n},k.Index.prototype.search=function(t){var e=this.pipeline.run(k.tokenizer(t)),i=new k.Vector,n=[],o=this._fields.reduce(function(t,e){return t+e.boost},0);return e.some(function(t){return this.tokenStore.has(t)},this)?(e.forEach(function(t,e,r){var s=1/r.length*this._fields.length*o,a=this,u=this.tokenStore.expand(t).reduce(function(e,n){var o=a.corpusTokens.indexOf(n),r=a.idf(n),u=1,l=new k.SortedSet;if(n!==t){var h=Math.max(3,n.length-t.length);u=1/Math.log(h)}o>-1&&i.insert(o,s*r*u);for(var c=a.tokenStore.get(n),p=Object.keys(c),d=p.length,f=0;f<d;f++)l.add(c[p[f]].ref);return e.union(l)},new k.SortedSet);n.push(u)},this),n.reduce(function(t,e){return t.intersect(e)}).map(function(t){return{ref:t,score:i.similarity(this.documentVector(t))}},this).sort(function(t,e){return e.score-t.score})):[]},k.Index.prototype.documentVector=function(t){for(var e=this.documentStore.get(t),i=e.length,n=new k.Vector,o=0;o<i;o++){var r=e.elements[o],s=this.tokenStore.get(r)[t].tf,a=this.idf(r);n.insert(this.corpusTokens.indexOf(r),s*a)}return n},k.Index.prototype.toJSON=function(){return{version:k.version,fields:this._fields,ref:this._ref,documentStore:this.documentStore.toJSON(),tokenStore:this.tokenStore.toJSON(),corpusTokens:this.corpusTokens.toJSON(),pipeline:this.pipeline.toJSON()}},k.Index.prototype.use=function(t){var e=Array.prototype.slice.call(arguments,1);e.unshift(this),t.apply(this,e)},k.Store=function(){this.store={},this.length=0},k.Store.load=function(t){var e=new this;return e.length=t.length,e.store=Object.keys(t.store).reduce(function(e,i){return e[i]=k.SortedSet.load(t.store[i]),e},{}),e},k.Store.prototype.set=function(t,e){this.has(t)||this.length++,this.store[t]=e},k.Store.prototype.get=function(t){return this.store[t]},k.Store.prototype.has=function(t){return t in this.store},k.Store.prototype.remove=function(t){this.has(t)&&(delete this.store[t],this.length--)},k.Store.prototype.toJSON=function(){return{store:this.store,length:this.length}},k.stemmer=(n={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},o={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},r="[aeiouy]",s="[^aeiou][^aeiouy]*",a=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*"),u=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*"),l=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$"),h=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy]"),c=/^(.+?)(ss|i)es$/,p=/^(.+?)([^s])s$/,d=/^(.+?)eed$/,f=/^(.+?)(ed|ing)$/,_=/.$/,m=/(at|bl|iz)$/,g=new RegExp("([^aeiouylsz])\\1$"),v=new RegExp("^"+s+r+"[^aeiouwxy]$"),y=/^(.+?[^aeiou])y$/,b=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,L=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,w=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,x=/^(.+?)(s|t)(ion)$/,S=/^(.+?)e$/,M=/ll$/,T=new RegExp("^"+s+r+"[^aeiouwxy]$"),function(t){var e,i,r,s,P,C,k;if(t.length<3)return t;if("y"==(r=t.substr(0,1))&&(t=r.toUpperCase()+t.substr(1)),P=p,(s=c).test(t)?t=t.replace(s,"$1$2"):P.test(t)&&(t=t.replace(P,"$1$2")),P=f,(s=d).test(t)){var O=s.exec(t);(s=a).test(O[1])&&(s=_,t=t.replace(s,""))}else P.test(t)&&(e=(O=P.exec(t))[1],(P=h).test(e)&&(C=g,k=v,(P=m).test(t=e)?t+="e":C.test(t)?(s=_,t=t.replace(s,"")):k.test(t)&&(t+="e")));return(s=y).test(t)&&(t=(e=(O=s.exec(t))[1])+"i"),(s=b).test(t)&&(e=(O=s.exec(t))[1],i=O[2],(s=a).test(e)&&(t=e+n[i])),(s=L).test(t)&&(e=(O=s.exec(t))[1],i=O[2],(s=a).test(e)&&(t=e+o[i])),P=x,(s=w).test(t)?(e=(O=s.exec(t))[1],(s=u).test(e)&&(t=e)):P.test(t)&&(e=(O=P.exec(t))[1]+O[2],(P=u).test(e)&&(t=e)),(s=S).test(t)&&(e=(O=s.exec(t))[1],P=l,C=T,((s=u).test(e)||P.test(e)&&!C.test(e))&&(t=e)),P=u,(s=M).test(t)&&P.test(t)&&(s=_,t=t.replace(s,"")),"y"==r&&(t=r.toLowerCase()+t.substr(1)),t}),k.Pipeline.registerFunction(k.stemmer,"stemmer"),k.generateStopWordFilter=function(t){var e=t.reduce(function(t,e){return t[e]=e,t},{});return function(t){if(t&&e[t]!==t)return t}},k.stopWordFilter=k.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),k.Pipeline.registerFunction(k.stopWordFilter,"stopWordFilter"),k.trimmer=function(t){return t.replace(/^\W+/,"").replace(/\W+$/,"")},k.Pipeline.registerFunction(k.trimmer,"trimmer"),k.TokenStore=function(){this.root={docs:{}},this.length=0},k.TokenStore.load=function(t){var e=new this;return e.root=t.root,e.length=t.length,e},k.TokenStore.prototype.add=function(t,e,i){i=i||this.root;var n=t.charAt(0),o=t.slice(1);return n in i||(i[n]={docs:{}}),0===o.length?(i[n].docs[e.ref]=e,void(this.length+=1)):this.add(o,e,i[n])},k.TokenStore.prototype.has=function(t){if(!t)return!1;for(var e=this.root,i=0;i<t.length;i++){if(!e[t.charAt(i)])return!1;e=e[t.charAt(i)]}return!0},k.TokenStore.prototype.getNode=function(t){if(!t)return{};for(var e=this.root,i=0;i<t.length;i++){if(!e[t.charAt(i)])return{};e=e[t.charAt(i)]}return e},k.TokenStore.prototype.get=function(t,e){return this.getNode(t,e).docs||{}},k.TokenStore.prototype.count=function(t,e){return Object.keys(this.get(t,e)).length},k.TokenStore.prototype.remove=function(t,e){if(t){for(var i=this.root,n=0;n<t.length;n++){if(!(t.charAt(n)in i))return;i=i[t.charAt(n)]}delete i.docs[e]}},k.TokenStore.prototype.expand=function(t,e){var i=this.getNode(t),n=i.docs||{};e=e||[];return Object.keys(n).length&&e.push(t),Object.keys(i).forEach(function(i){"docs"!==i&&e.concat(this.expand(t+i,e))},this),e},k.TokenStore.prototype.toJSON=function(){return{root:this.root,length:this.length}},P=this,C=function(){return k},"function"==typeof define&&define.amd?define(C):"object"==typeof i?e.exports=C():P.lunr=C()}()},{}],66:[function(t,e,i){var n=t("./states.json"),o={},r={};function s(t){return"string"==typeof t?t.toLowerCase():void 0}for(var a=0;a<n.length;a++)o[n[a].name.toLowerCase()]=n[a].abbr,r[n[a].abbr.toLowerCase()]=n[a].name;i.states=n,i.getStateAbbrev=function(t,e){var i=s(t);e(o[i])},i.getStateAbbrevSync=function(t){var e=s(t);return o[e]},i.getStateName=function(t,e){var i=s(t);e(r[i])},i.getStateNameSync=function(t){var e=s(t);return r[e]}},{"./states.json":67}],67:[function(t,e,i){e.exports=[{name:"Alabama",abbr:"AL"},{name:"Alaska",abbr:"AK"},{name:"Arizona",abbr:"AZ"},{name:"Arkansas",abbr:"AR"},{name:"California",abbr:"CA"},{name:"Colorado",abbr:"CO"},{name:"Connecticut",abbr:"CT"},{name:"Delaware",abbr:"DE"},{name:"District of Columbia",abbr:"DC"},{name:"Florida",abbr:"FL"},{name:"Georgia",abbr:"GA"},{name:"Hawaii",abbr:"HI"},{name:"Idaho",abbr:"ID"},{name:"Illinois",abbr:"IL"},{name:"Indiana",abbr:"IN"},{name:"Iowa",abbr:"IA"},{name:"Kansas",abbr:"KS"},{name:"Kentucky",abbr:"KY"},{name:"Louisiana",abbr:"LA"},{name:"Maine",abbr:"ME"},{name:"Maryland",abbr:"MD"},{name:"Massachusetts",abbr:"MA"},{name:"Michigan",abbr:"MI"},{name:"Minnesota",abbr:"MN"},{name:"Mississippi",abbr:"MS"},{name:"Missouri",abbr:"MO"},{name:"Montana",abbr:"MT"},{name:"Nebraska",abbr:"NE"},{name:"Nevada",abbr:"NV"},{name:"New Hampshire",abbr:"NH"},{name:"New Jersey",abbr:"NJ"},{name:"New Mexico",abbr:"NM"},{name:"New York",abbr:"NY"},{name:"North Carolina",abbr:"NC"},{name:"North Dakota",abbr:"ND"},{name:"Ohio",abbr:"OH"},{name:"Oklahoma",abbr:"OK"},{name:"Oregon",abbr:"OR"},{name:"Pennsylvania",abbr:"PA"},{name:"Rhode Island",abbr:"RI"},{name:"South Carolina",abbr:"SC"},{name:"South Dakota",abbr:"SD"},{name:"Tennessee",abbr:"TN"},{name:"Texas",abbr:"TX"},{name:"Utah",abbr:"UT"},{name:"Vermont",abbr:"VT"},{name:"Virginia",abbr:"VA"},{name:"Washington",abbr:"WA"},{name:"West Virginia",abbr:"WV"},{name:"Wisconsin",abbr:"WI"},{name:"Wyoming",abbr:"WY"},{name:"Virgin Islands",abbr:"VI"},{name:"Puerto Rico",abbr:"PR"},{name:"Alberta",abbr:"AB"},{name:"British Columbia",abbr:"BC"},{name:"Manitoba",abbr:"MB"},{name:"New Brunswick",abbr:"NB"},{name:"Newfoundland and Labrador",abbr:"NL"},{name:"Nova Scotia",abbr:"NS"},{name:"Northwest Territories",abbr:"NT"},{name:"Nunavut",abbr:"NU"},{name:"Ontario",abbr:"ON"},{name:"Prince Edward Island",abbr:"PE"},{name:"Quebec",abbr:"QC"},{name:"Saskatchewan",abbr:"SK"},{name:"Yukon",abbr:"YT"}]},{}],68:[function(t,e,i){"use strict";var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,s,a=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var l in i=Object(arguments[u]))o.call(i,l)&&(a[l]=i[l]);if(n){s=n(i);for(var h=0;h<s.length;h++)r.call(i,s[h])&&(a[s[h]]=i[s[h]])}}return a}},{}],69:[function(t,e,i){var n=t("trim"),o=t("for-each");e.exports=function(t){if(!t)return{};var e={};return o(n(t).split("\n"),function(t){var i,o=t.indexOf(":"),r=n(t.slice(0,o)).toLowerCase(),s=n(t.slice(o+1));void 0===e[r]?e[r]=s:(i=e[r],"[object Array]"===Object.prototype.toString.call(i)?e[r].push(s):e[r]=[e[r],s])}),e}},{"for-each":20,trim:73}],70:[function(t,e,i){var n,o,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(t){n=s}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(t){o=a}}();var l,h=[],c=!1,p=-1;function d(){c&&l&&(c=!1,l.length?h=l.concat(h):p=-1,h.length&&f())}function f(){if(!c){var t=u(d);c=!0;for(var e=h.length;e;){for(l=h,h=[];++p<e;)l&&l[p].run();p=-1,e=h.length}l=null,c=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function _(t,e){this.fun=t,this.array=e}function m(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];h.push(new _(t,e)),1!==h.length||c||u(f)},_.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],71:[function(t,e,i){e.exports=function(t,e){e=e||{};var i,n,o,r=t.ownerDocument||t,s=[],a=[],u=function(t){var e=[];return function(i){if(i===t.documentElement)return!1;var n=t.defaultView.getComputedStyle(i);return!!function i(n,o){if(n===t.documentElement)return!1;for(var r=0,s=e.length;r<s;r++)if(e[r][0]===n)return e[r][1];o=o||t.defaultView.getComputedStyle(n);var a=!1;"none"===o.display?a=!0:n.parentNode&&(a=i(n.parentNode));e.push([n,a]);return a}(i,n)||"hidden"===n.visibility}}(r),l=["input","select","a[href]","textarea","button","[tabindex]"],h=t.querySelectorAll(l.join(","));if(e.includeContainer){var c=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;l.some(function(e){return c.call(t,e)})&&(h=Array.prototype.slice.apply(h)).unshift(t)}for(var p=0,d=h.length;p<d;p++)i=h[p],n=parseInt(i.getAttribute("tabindex"),10),(o=isNaN(n)?i.tabIndex:n)<0||"INPUT"===i.tagName&&"hidden"===i.type||i.disabled||u(i,r)||(0===o?s.push(i):a.push({index:p,tabIndex:o,node:i}));var f=a.sort(function(t,e){return t.tabIndex===e.tabIndex?t.index-e.index:t.tabIndex-e.tabIndex}).map(function(t){return t.node});return Array.prototype.push.apply(f,s),f}},{}],72:[function(t,e,i){(function(e,n){var o=t("process/browser.js").nextTick,r=Function.prototype.apply,s=Array.prototype.slice,a={},u=0;function l(t,e){this._id=t,this._clearFn=e}i.setTimeout=function(){return new l(r.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new l(r.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(t){t.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},i.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},i._unrefActive=i.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},i.setImmediate="function"==typeof e?e:function(t){var e=u++,n=!(arguments.length<2)&&s.call(arguments,1);return a[e]=!0,o(function(){a[e]&&(n?t.apply(null,n):t.call(null),i.clearImmediate(e))}),e},i.clearImmediate="function"==typeof n?n:function(t){delete a[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":70,timers:72}],73:[function(t,e,i){(i=e.exports=function(t){return t.replace(/^\s*|\s*$/g,"")}).left=function(t){return t.replace(/^\s*/,"")},i.right=function(t){return t.replace(/\s*$/,"")}},{}],74:[function(t,e,i){var n=t("./helper/makeString"),o="ąàáäâãåæăćčĉęèéëêĝĥìíïîĵłľńňòóöőôõðøśșşšŝťțţŭùúüűûñÿýçżźž",r="aaaaaaaaaccceeeeeghiiiijllnnoooooooossssstttuuuuuunyyczzz";o+=o.toUpperCase(),r=(r+=r.toUpperCase()).split(""),o+="ß",r.push("ss"),e.exports=function(t){return n(t).replace(/.{1}/g,function(t){var e=o.indexOf(t);return-1===e?t:r[e]})}},{"./helper/makeString":78}],75:[function(t,e,i){var n=t("./trim");e.exports=function(t){return n(t).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()}},{"./trim":80}],76:[function(t,e,i){var n=t("./escapeRegExp");e.exports=function(t){return null==t?"\\s":t.source?t.source:"["+n(t)+"]"}},{"./escapeRegExp":77}],77:[function(t,e,i){var n=t("./makeString");e.exports=function(t){return n(t).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}},{"./makeString":78}],78:[function(t,e,i){e.exports=function(t){return null==t?"":""+t}},{}],79:[function(t,e,i){var n=t("./trim"),o=t("./dasherize"),r=t("./cleanDiacritics");e.exports=function(t){return n(o(r(t).replace(/[^\w\s-]/g,"-").toLowerCase()),"-")}},{"./cleanDiacritics":74,"./dasherize":75,"./trim":80}],80:[function(t,e,i){var n=t("./helper/makeString"),o=t("./helper/defaultToWhiteSpace"),r=String.prototype.trim;e.exports=function(t,e){return t=n(t),!e&&r?r.call(t):(e=o(e),t.replace(new RegExp("^"+e+"+|"+e+"+$","g"),""))}},{"./helper/defaultToWhiteSpace":76,"./helper/makeString":78}],81:[function(t,e,i){"use strict";var n=t("global/window"),o=t("is-function"),r=t("parse-headers"),s=t("xtend");function a(t,e,i){var n=t;return o(e)?(i=e,"string"==typeof t&&(n={uri:t})):n=s(e,{uri:t}),n.callback=i,n}function u(t,e,i){return l(e=a(t,e,i))}function l(t){if(void 0===t.callback)throw new Error("callback argument missing");var e=!1,i=function(i,n,o){e||(e=!0,t.callback(i,n,o))};function n(t){return clearTimeout(h),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,i(t,g)}function o(){if(!a){var e;clearTimeout(h),e=t.useXDR&&void 0===l.status?200:1223===l.status?204:l.status;var n=g,o=null;return 0!==e?(n={body:function(){var t=void 0;if(t=l.response?l.response:l.responseText||function(t){try{if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!e)return t.responseXML}catch(t){}return null}(l),m)try{t=JSON.parse(t)}catch(t){}return t}(),statusCode:e,method:p,headers:{},url:c,rawRequest:l},l.getAllResponseHeaders&&(n.headers=r(l.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),i(o,n,n.body)}}var s,a,l=t.xhr||null;l||(l=t.cors||t.useXDR?new u.XDomainRequest:new u.XMLHttpRequest);var h,c=l.url=t.uri||t.url,p=l.method=t.method||"GET",d=t.body||t.data,f=l.headers=t.headers||{},_=!!t.sync,m=!1,g={body:void 0,headers:{},statusCode:0,method:p,url:c,rawRequest:l};if("json"in t&&!1!==t.json&&(m=!0,f.accept||f.Accept||(f.Accept="application/json"),"GET"!==p&&"HEAD"!==p&&(f["content-type"]||f["Content-Type"]||(f["Content-Type"]="application/json"),d=JSON.stringify(!0===t.json?d:t.json))),l.onreadystatechange=function(){4===l.readyState&&setTimeout(o,0)},l.onload=o,l.onerror=n,l.onprogress=function(){},l.onabort=function(){a=!0},l.ontimeout=n,l.open(p,c,!_,t.username,t.password),_||(l.withCredentials=!!t.withCredentials),!_&&t.timeout>0&&(h=setTimeout(function(){if(!a){a=!0,l.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",n(t)}},t.timeout)),l.setRequestHeader)for(s in f)f.hasOwnProperty(s)&&l.setRequestHeader(s,f[s]);else if(t.headers&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(l.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(l),l.send(d||null),l}e.exports=u,e.exports.default=u,u.XMLHttpRequest=n.XMLHttpRequest||function(){},u.XDomainRequest="withCredentials"in new u.XMLHttpRequest?u.XMLHttpRequest:n.XDomainRequest,function(t,e){for(var i=0;i<t.length;i++)e(t[i])}(["get","put","post","patch","head","delete"],function(t){u["delete"===t?"del":t]=function(e,i,n){return(i=a(e,i,n)).method=t.toUpperCase(),l(i)}})},{"global/window":21,"is-function":25,"parse-headers":69,xtend:82}],82:[function(t,e,i){e.exports=function(){for(var t={},e=0;e<arguments.length;e++){var i=arguments[e];for(var o in i)n.call(i,o)&&(t[o]=i[o])}return t};var n=Object.prototype.hasOwnProperty},{}],83:[function(t,e,i){"use strict";var n=t("./mediator"),o=t("./util"),r=t("./query-string"),s=t("../templates/autocomplete"),a=function(t){this.input=t.input,this.output=t.output,this.offices=t.offices,this.minLength=t.minLength||2,this.displayResults=t.displayResults||!0,this.container=o.create("div","autocomplete-widget",document.body),this.form=o.create("form","autocomplete-form",this.container),this.label=o.create("label","",this.form),this.label.innerHTML="Search:",this.label.setAttribute("for","autocomplete-input"),this.input=o.create("input","autocomplete-input",this.form),this.input.setAttribute("id","autocomplete-input"),this.input.setAttribute("autocomplete","off"),this.clear=o.create("button","autocomplete-clear",this.form),this.clear.innerHTML="Clear",this.output=o.create("ul","autocomplete-results",this.container),this.output.addEventListener("click",function(t){if(t.preventDefault(),"A"===t.target.nodeName){var e=r.parse(t.target.search).q.replace(/-/g," "),i=this.offices.search(e)[0];this.output.innerHTML="",this.input.value=t.target.textContent,n.emit("office:selected",i),this.blurInput()}}.bind(this)),this.form.addEventListener("submit",function(t){t.preventDefault()}),this.input.addEventListener("keyup",this.inputKeyup.bind(this)),this.input.addEventListener("focus",this.focusInput.bind(this)),this.clear.addEventListener("click",this.clearInput.bind(this)),this.container.addEventListener("keyup",function(t){var e=t.code||t.keyCode||t.which||0;38===e&&u(-1);40===e&&u(1);27===e&&(this.input.focus(),this.output.innerHTML="",this.output.classList.remove("active"))}.bind(this)),n.on("marker:click",this.updateInputValue.bind(this)),n.on("blur:input",this.blurInput.bind(this)),n.on("view:changed",this.toggleDisplayResults.bind(this))};function u(t){if(this.container.classList.contains("active")){var e=o.tabbable(this.container),i=e.filter(function(e,i){if(document.activeElement===e)return i+t})[0];-1===i?i=0:i===e.length&&(i-=1),e[i].focus()}}e.exports=a,a.prototype.toggleDisplayResults=function(t){this.displayResults=!this.displayResults},a.prototype.updateInputValue=function(t){this.input.value=t.properties.name},a.prototype.clearInput=function(){this.input.value="",this.input.focus(),this.output.innerHTML="",n.emit("autocomplete:empty",this.offices.getOffices())},a.prototype.focusInput=function(){this.container.classList.add("active"),this.input.setAttribute("placeholder","Search")},a.prototype.blurInput=function(){this.container.classList.remove("active"),this.input.setAttribute("placeholder","")},a.prototype.inputKeyup=function(t){if(n.emit("autocomplete:keyup"),0===this.input.value.length)return n.emit("autocomplete:empty",this.offices.getOffices()),this.output.innerHTML="",void this.output.classList.remove("active");this.input.value.length<this.minLength||this.search(this.input.value)},a.prototype.search=function(t){var e=this.offices.search(t);this.displayResults&&this.render(e),n.emit("autocomplete:results",e)},a.prototype.render=function(t){0===t.length?this.output.classList.remove("active"):this.output.classList.add("active"),this.output.innerHTML=s(t,this.offices.normalizeOfficeName)}},{"../templates/autocomplete":104,"./mediator":91,"./query-string":94,"./util":98}],84:[function(t,e,i){"use strict";var n=t("./mediator"),o=t("./util"),r={init:t("../templates/detail-init"),detail:t("../templates/detail"),nearest:t("../templates/nearest")},s=function(t){this.offices=t.offices,this.initialOffice=t.initialOffice,this.active=t.initialView,this.container=o.create("aside","detail-container",document.body),this.close=o.create("button","detail-toggle",this.container),this.close.innerHTML="&#9650;",this.content=o.create("section","detail-content",this.container),this.content.innerHTML=r.init(),this.container.addEventListener("click",this.blur.bind(this)),this.close.addEventListener("click",this.toggle.bind(this)),n.on("office:selected",this.renderOffice.bind(this)),n.on("marker:click",this.renderOffice.bind(this)),n.on("autocomplete:keyup",this.hide.bind(this)),n.on("view:changed",this.hide.bind(this)),n.on("zoom:fullextent",this.hide.bind(this)),n.on("found:office",this.renderOffice.bind(this)),n.on("offices:random",this.renderOffice.bind(this)),n.on("found:nearest",this.renderNearest.bind(this)),this.active&&this.show()};e.exports=s,s.prototype.blur=function(){n.emit("blur:input")},s.prototype.show=function(){this.active||n.emit("detail:show",-200),this.active=!0,this.close.innerHTML="&#9660;",this.container.classList.add("active")},s.prototype.hide=function(){this.active&&n.emit("detail:hide",200),this.active=!1,this.close.innerHTML="&#9650;",this.container.classList.remove("active")},s.prototype.toggle=function(){var t=this.active?"detail:hide":"detail:show",e=this.active?200:-200;this.close.innerHTML=this.active?"&#9650;":"&#9660;",this.container.classList.toggle("active"),this.active=!this.active,n.emit(t,e)},s.prototype.renderOffice=function(t){this.content.innerHTML=r.detail(t.properties),this.show()},s.prototype.renderNearest=function(t){this.content.innerHTML=r.nearest(t),this.show()}},{"../templates/detail":106,"../templates/detail-init":105,"../templates/nearest":108,"./mediator":91,"./util":98}],85:[function(t,e,i){"use strict";var n=t("leaflet"),o=n.icon({iconUrl:"./svg/blue-goose.svg",iconSize:[70,90],popupAnchor:[5,-17]}),r=n.icon({iconUrl:"./svg/building.svg",iconSize:[70,50],popupAnchor:[0,-20]}),s=n.icon({iconUrl:"./svg/fisheries.svg",iconSize:[70,50],popupAnchor:[7,-25]});e.exports={blueGoose:o,office:r,fisheries:s,getIcon:function(t){switch(t){case"National Wildlife Refuge":return{alt:"Official Logo of the National Wildlife Refuge System",icon:o};case"National Fish Hatchery":return{alt:"Official Logo of America's Fisheries",icon:s};default:return{alt:"A generic office building icon",icon:r}}}}},{leaflet:33}],86:[function(t,e,i){"use strict";t("classlist-polyfill");var n=t("xhr"),o=t("./query-string"),r=t("async/parallel"),s=t("object-assign"),a=t("./util"),u=t("./autocomplete"),l=t("./office-list"),h=t("./offices"),c=t("./states"),p=t("./detail"),d=t("./view-switcher"),f=t("./toolbar"),_=t("./map/"),m=a.getDimensions().width>1100,g=s({},o.parse(location.search)),v=document.querySelector(".landing-screen"),y=document.querySelector(".office-list"),b=document.querySelector("#map"),L=[function(t){n.get("./data/offices.json",function(e,i){return e?t(e):200!==i.statusCode?t(new Error("Could not download offices.")):t(null,JSON.parse(i.body))})}];g.state&&L.push(function(t){n.get("./data/states.json",function(e,i){return e?t(e):200!==i.statusCode?t(new Error("Could not download states.")):t(null,JSON.parse(i.body))})}),r(L,function(t,e){t&&console.log(t);var i=new h(e[0]),n=new c(e[1]),o=g.office?i.search(g.office)[0]:null,r=g.state?n.getBounds(g.state,"NAME"):i.getBounds();new p({offices:i,initialOffice:o,initialView:g.hasOwnProperty("detail")||m}),new u({input:document.querySelector(".autocomplete-input"),output:document.querySelector(".autocomplete-results"),offices:i}),new _({scroll:"false"!==g.scroll,layers:g.layers?function(t){var e=[];"string"==typeof t?e.push(t):e=t;return e.map(function(t){return t.toLowerCase()})}(g.layers):null,offices:i,bounds:r,initialOffice:o}),new l({list:document.querySelector(".office-list"),offices:i}),new d({textViewContainer:y,mapViewContainer:b,view:"text"===g.view?"text":"map"}),new f;a.remove(v)})},{"./autocomplete":83,"./detail":84,"./map/":87,"./office-list":92,"./offices":93,"./query-string":94,"./states":95,"./toolbar":97,"./util":98,"./view-switcher":99,"async/parallel":16,"classlist-polyfill":18,"object-assign":68,xhr:81}],87:[function(t,e,i){"use strict";var n=t("leaflet"),o=t("leaflet-knn"),r=t("../mediator"),s=t("./layers"),a=t("../util");n.Icon.Default.imagePath="./images";var u=function(t){this.zoom=t.zoom||7,this.mapId=t.mapId||"map",this.offices=t.offices,this.bounds=t.bounds,this.initialOffice=t.initialOffice,this.scroll=t.scroll,this.layers=t.layers,this.index=o(n.geoJson(this.offices.getOffices())),this.fullExtent=a.create("button",["tt-w","zoom-to-full-extent","leaflet-control-roy"],document.body),this.fullExtent.setAttribute("data-tt","Zoom to full extent"),this.nearest=a.create("button",["find-nearest","tt-w","leaflet-control-roy"],document.body),this.nearest.setAttribute("data-tt","Find nearest offices"),this.imgLocate=a.create("img","",this.nearest),this.imgLocate.setAttribute("src","./svg/current-location.svg"),this.imgLocate.setAttribute("alt","Icon representing your current location"),this.imgExtent=a.create("img","",this.fullExtent),this.imgExtent.setAttribute("src","./svg/full-extent.svg"),this.imgExtent.setAttribute("alt","Icon representing zoom to full extent"),this.createMap.call(this),r.on("office:selected",s.flyToOffice),r.on("detail:hide",this.panMap.bind(this)),r.on("detail:show",this.panMap.bind(this)),this.fullExtent.addEventListener("click",this.zoomToFullExtent.bind(this)),this.nearest.addEventListener("click",this.getLocation.bind(this)),this.map.on("click",this.blurInput.bind(this)),this.map.on("locationfound",this.findNearest.bind(this))};e.exports=u,u.prototype.getLocation=function(){this.nearest.classList.add("loading"),this.imgLocate.setAttribute("src","./svg/loading.svg"),this.map.locate()},u.prototype.panMap=function(t){this.map.panBy([t,0])},u.prototype.blurInput=function(){r.emit("blur:input")},u.prototype.zoomToFullExtent=function(){this.map.flyToBounds(s.getBounds()),r.emit("zoom:fullextent")},u.prototype.createMap=function(){var t={zoom:this.zoom,scrollWheelZoom:this.scroll,zoomControl:!1,layers:[s.baseLayers["ESRI National Geographic"]]};this.map=n.map(this.mapId,t),this.bounds&&this.map.fitBounds(this.bounds),s.init(this.offices.getOffices(),this.layers,this.map),this.initialOffice&&s.flyToOffice(this.initialOffice),new n.Control.Zoom({position:"bottomright"}).addTo(this.map)},u.prototype.findNearest=function(t){n.popup().setLatLng(t.latlng).setContent("Your Current Location").openOn(this.map);var e=this.index.nearest(t.latlng,10);this.nearest.classList.remove("loading"),this.imgLocate.setAttribute("src","./svg/current-location.svg"),r.emit("found:nearest",e)}},{"../mediator":91,"../util":98,"./layers":88,leaflet:33,"leaflet-knn":26}],88:[function(t,e,i){"use strict";var n=t("leaflet"),o=t("../mediator"),r=t("../util"),s=t("../../templates/popup"),a=t("./wms");t("leaflet.markercluster"),t("leaflet-providers"),t("./marker-cluster-layer-support");var u,l,h,c,p=n.markerClusterGroup.layerSupport({showCoverageOnHover:!1}),d={"ESRI National Geographic":n.tileLayer.provider("Esri.NatGeoWorldMap"),Imagery:n.tileLayer.provider("Esri.WorldImagery")};function f(t){t.layer._wmsVersion||p.addLayer(t)}function _(t){t.layer._wmsVersion||p.removeLayer(t)}function m(t){return n.geoJson(u,{filter:function(e,i){switch(e.properties.type){case t:return!0;default:return!1}},onEachFeature:g,pointToLayer:v}).on("mouseover",function(t){t.layer.openPopup()})}function g(t,e){e.bindPopup(s(t.properties)),e.on({click:y})}function v(e,i){var o=t("../icons"),r=e.properties.type;return"National Wildlife Refuge"===r?n.marker(i,{icon:o.blueGoose,alt:"Official logo of the National Wildlife Refuge System"}):"National Fish Hatchery"===r?n.marker(i,{icon:o.fisheries,alt:"Logo for the U.S. Fish and Wildlife Service Fisheries program"}):n.marker(i,{icon:o.office,alt:"Icon representing a field station"})}function y(t){var e=t.target.feature;b(e),o.emit("marker:click",e)}function b(t){var e=t.geometry.coordinates.slice(0).reverse();e[1]=e[1]-.135,h.flyTo(e,11)}e.exports={init:function(t,e,i){u=t,h=i,c={Refuges:n.layerGroup().addLayer(m("National Wildlife Refuge")),Hatcheries:n.layerGroup().addLayer(m("National Fish Hatchery")),"Ecological Services":n.layerGroup().addLayer(m("Ecological Services Field Office")),"Fish and Wildlife Conservation Offices":n.layerGroup().addLayer(m("Fish And Wildlife Conservation Office")),"Migratory Bird Coordinator Office":n.layerGroup().addLayer(m("Migratory Bird Coordinator Office"))},l=n.control.layers(d,c),e?function(t,e){r.map(t,function(t,i){p.checkIn(t),r.includes(e,i.toLowerCase())&&p.addLayer(t)}),r.map(a,function(t,i){r.includes(e,i.toLowerCase())&&h.addLayer(t)})}(c,e):function(t){r.map(t,function(t){p.checkIn(t),p.addLayer(t)})}(c),r.map(a,function(t,e){l.addOverlay(t,e)}),l.addTo(h),p.addTo(h),h.on("overlayadd",f),h.on("overlayremove",_)},flyToOffice:b,baseLayers:d,getBounds:function(){return p.getBounds()},cluster:p}},{"../../templates/popup":109,"../icons":85,"../mediator":91,"../util":98,"./marker-cluster-layer-support":89,"./wms":90,leaflet:33,"leaflet-providers":31,"leaflet.markercluster":32}],89:[function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o;o=function(t,e){var i=t.MarkerClusterGroup,n=i.prototype,o=t.FeatureGroup.EVENTS,r=i.extend({statics:{version:"1.0.0"},options:{singleAddRemoveBufferDuration:100},initialize:function(t){n.initialize.call(this,t),this._featureGroup=new s,this._featureGroup.addEventParent(this),this._nonPointGroup=new s,this._nonPointGroup.addEventParent(this),this._layers={},this._proxyLayerGroups={},this._proxyLayerGroupsNeedRemoving={},this._singleAddRemoveBuffer=[]},checkIn:function(t){var e=this._toArray(t);return this._checkInGetSeparated(e),this},checkOut:function(e){var i,n,o=this._toArray(e),r=this._separateSingleFromGroupLayers(o,{groups:[],singles:[]}),s=r.groups,a=r.singles;for(i=0;i<a.length;i++)n=a[i],delete this._layers[t.stamp(n)],delete n._mcgLayerSupportGroup;for(this._originalRemoveLayers(a),i=0;i<s.length;i++)n=s[i],this._dismissProxyLayerGroup(n);return this},addLayers:function(e){var i,n,o,r=this._toArray(e),s=this._checkInGetSeparated(r),a=s.groups;for(this._originalAddLayers(s.singles),i=0;i<a.length;i++)n=a[i],o=t.stamp(n),this._proxyLayerGroups[o]=n,delete this._proxyLayerGroupsNeedRemoving[o],this._map&&this._map._originalAddLayer(n)},addLayer:function(t){return this._bufferSingleAddRemove(t,"addLayers"),this},_originalAddLayer:n.addLayer,_originalAddLayers:n.addLayers,removeLayers:function(e){var i,n,o=this._toArray(e),r=this._separateSingleFromGroupLayers(o,{groups:[],singles:[]}),s=r.groups,a=r.singles,u=0;for(this._originalRemoveLayers(a);u<s.length;u++)i=s[u],n=t.stamp(i),delete this._proxyLayerGroups[n],this._map?this._map._originalRemoveLayer(i):this._proxyLayerGroupsNeedRemoving[n]=i;return this},removeLayer:function(t){return this._bufferSingleAddRemove(t,"removeLayers"),this},_originalRemoveLayer:n.removeLayer,_originalRemoveLayers:n.removeLayers,onAdd:function(e){e._originalAddLayer=e._originalAddLayer||e.addLayer,e._originalRemoveLayer=e._originalRemoveLayer||e.removeLayer,t.extend(e,u);var i,o,r,s=this._removePreAddedLayers(e);for(i in n.onAdd.call(this,e),this._proxyLayerGroups)o=this._proxyLayerGroups[i],e._originalAddLayer(o);for(i in this._proxyLayerGroupsNeedRemoving)o=this._proxyLayerGroupsNeedRemoving[i],e._originalRemoveLayer(o),delete this._proxyLayerGroupsNeedRemoving[i];for(r=0;r<s.length;r++)e.addLayer(s[r])},_bufferSingleAddRemove:function(e,i){var n,o=this.options.singleAddRemoveBufferDuration;o>0?(this._singleAddRemoveBuffer.push({type:i,layer:e}),this._singleAddRemoveBufferTimeout||(n=t.bind(this._processSingleAddRemoveBuffer,this),this._singleAddRemoveBufferTimeout=setTimeout(n,o))):this[i](e)},_processSingleAddRemoveBuffer:function(){for(var t,e,i=this._singleAddRemoveBuffer,n=0,o=[];n<i.length;n++)t=i[n],e||(e=t.type),t.type===e?o.push(t.layer):(this[e](o),o=[t.layer]);this[e](o),i.length=0,clearTimeout(this._singleAddRemoveBufferTimeout),this._singleAddRemoveBufferTimeout=null},_checkInGetSeparated:function(e){var i,n,o=this._separateSingleFromGroupLayers(e,{groups:[],singles:[]}),r=o.groups,s=o.singles;for(i=0;i<r.length;i++)n=r[i],this._recruitLayerGroupAsProxy(n);for(i=0;i<s.length;i++)n=s[i],this._removeFromOtherGroupsOrMap(n),this._layers[t.stamp(n)]=n,n._mcgLayerSupportGroup=this;return o},_separateSingleFromGroupLayers:function(e,i){for(var n,o=i.groups,r=i.singles,s=t.Util.isArray,a=0;a<e.length;a++)(n=e[a])instanceof t.LayerGroup?(o.push(n),this._separateSingleFromGroupLayers(n.getLayers(),i)):s(n)?this._separateSingleFromGroupLayers(n,i):r.push(n);return i},_recruitLayerGroupAsProxy:function(e){var i=e._proxyMcgLayerSupportGroup;if(i){if(i===this)return;i.checkOut(e)}else this._removeFromOwnMap(e);e._proxyMcgLayerSupportGroup=this,e._originalAddLayer=e._originalAddLayer||e.addLayer,e._originalRemoveLayer=e._originalRemoveLayer||e.removeLayer,t.extend(e,a)},_dismissProxyLayerGroup:function(i){if(i._proxyMcgLayerSupportGroup!==e&&i._proxyMcgLayerSupportGroup===this){delete i._proxyMcgLayerSupportGroup,i.addLayer=i._originalAddLayer,i.removeLayer=i._originalRemoveLayer;var n=t.stamp(i);delete this._proxyLayerGroups[n],delete this._proxyLayerGroupsNeedRemoving[n],this._removeFromOwnMap(i)}},_removeFromOtherGroupsOrMap:function(t){var e=t._mcgLayerSupportGroup;if(e){if(e===this)return;e.checkOut(t)}else t.__parent?t.__parent._group.removeLayer(t):this._removeFromOwnMap(t)},_removeFromOwnMap:function(t){t._map&&t._map.removeLayer(t)},_removePreAddedLayers:function(t){var e,i=this._layers,n=[];for(var o in i)(e=i[o])._map&&(n.push(e),t._originalRemoveLayer(e));return n},_toArray:function(e){return t.Util.isArray(e)?e:[e]}}),s=t.FeatureGroup.extend({addLayer:function(e){if(this.hasLayer(e))return this;e.addEventParent(this);var i=t.stamp(e);return this._layers[i]=e,this._map&&this._map._originalAddLayer(e),this._popupContent&&e.bindPopup&&e.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:e})},removeLayer:function(e){if(!this.hasLayer(e))return this;e in this._layers&&(e=this._layers[e]),"off"in e&&e.off(o,this._propagateEvent,this);var i=t.stamp(e);return this._map&&this._layers[i]&&this._map._originalRemoveLayer(this._layers[i]),delete this._layers[i],this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:e})},onAdd:function(t){this._map=t,this.eachLayer(t._originalAddLayer,t)},onRemove:function(t){this.eachLayer(t._originalRemoveLayer,t),this._map=null}}),a={addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map?this._proxyMcgLayerSupportGroup.addLayer(t):this._proxyMcgLayerSupportGroup.checkIn(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._proxyMcgLayerSupportGroup.removeLayer(t),delete this._layers[e],this}},u={addLayer:function(t){return t._mcgLayerSupportGroup?t._mcgLayerSupportGroup._originalAddLayer(t):this._originalAddLayer(t)},removeLayer:function(t){return t._mcgLayerSupportGroup?t._mcgLayerSupportGroup._originalRemoveLayer(t):this._originalRemoveLayer(t)}};return t.markerClusterGroup.layerSupport=function(t){return new r(t)},r},"function"==typeof define&&define.amd?define(["leaflet"],function(t){return t.MarkerClusterGroup.LayerSupport=o(t)}):"object"===(void 0===e?"undefined":n(e))&&e.exports?e.exports=o(t("leaflet")):(void 0).L.MarkerClusterGroup.LayerSupport=o((void 0).L)},{leaflet:33}],90:[function(t,e,i){"use strict";var n;n=t("leaflet"),e.exports={"State Boundaries":n.tileLayer.wms("https://maps.bts.dot.gov/services/services/NTAD/States/MapServer/WmsServer?",{format:"image/png",transparent:!0,layers:"0",attribution:'<a href="http://osav.usdot.opendata.arcgis.com/datasets/34f8a046fef944f39d8a65004a431a1f_0">Dept. of Transportation</a>'}),"Refuge Boundaries":n.tileLayer.wms("https://gis.fws.gov/arcgis/services/FWS_Refuge_Boundaries/MapServer/WMSServer?",{format:"image/png",layers:"0",transparent:!0,attribution:'<a href="https://www.fws.gov/gis/data/CadastralDB/index_cadastral.html">U.S. Fish and Wildlife Service</a>'}),"114th Congressional Districts":n.tileLayer.wms("https://www.sciencebase.gov/arcgis/services/Catalog/57a0e84fe4b006cb4554a439/MapServer/WMSServer?",{format:"image/png",layers:"0",transparent:!0,attribution:'<a href="https://www.census.gov/geo/maps-data/data/cbf/cbf_cds.html">Census Bureau</a>'}),"Ducks Unlimited Flyways":n.tileLayer.wms("https://www.sciencebase.gov/arcgis/services/Catalog/57a102c1e4b006cb4554a4d3/MapServer/WMSServer?",{format:"image/png",layers:"0",transparent:!0,opacity:.5,attribution:'<a href="http://www.ducks.org/conservation/gis/gis-spatial-data-download/page4">Ducks Unlimited</a>'})}},{leaflet:33}],91:[function(t,e,i){"use strict";var n;n=t("events").EventEmitter,e.exports=new n},{events:17}],92:[function(t,e,i){"use strict";var n=t("./mediator"),o=t("object-assign"),r=t("../templates/li"),s=function(t){this.list=t.list,this.offices=t.offices,n.on("autocomplete:results",this.render.bind(this)),n.on("autocomplete:empty",this.emptyHandler.bind(this))};e.exports=s,s.prototype.emptyHandler=function(t){this.render(this.offices.getOffices().features)},s.prototype.render=function(t){var e=t.map(function(t){return t.properties}).map(function(t){return o({icon:function(t){switch(t.type){case"National Wildlife Refuge":return{src:"./svg/blue-goose.svg",alt:"Official Logo of the National Wildlife Refuge System"};case"National Fish Hatchery":return{src:"./svg/fisheries.svg",alt:"Logo for the Fisheries program"};default:return{src:"./svg/building.svg",alt:"Icon representing a Field Station"}}}(t)},t)});this.list.innerHTML=r(e)}},{"../templates/li":107,"./mediator":91,"object-assign":68}],93:[function(t,e,i){"use strict";var n=t("leaflet"),o=t("lunr"),r=t("object-assign"),s=t("./mediator"),a=function(t){if(!t)return new Error("You must provide a geojson object.");this.offices=t,this.bounds=n.geoJson(t).getBounds(),this.index=o(function(){this.field("name",{boost:10}),this.field("type"),this.field("program"),this.field("city"),this.field("state"),this.field("zip"),this.field("narrative",{boost:5}),this.ref("href")});var e=this.index;this.offices.features.forEach(function(t,i){var n=r({href:i},t.properties);e.add(n)})};function u(t,e){return t.score>e.score?-1:t.score<e.score?1:0}e.exports=a,a.prototype.getBounds=function(){return this.bounds},a.prototype.getOffices=function(){return this.offices},a.prototype.search=function(t){var e=this;return this.index.search(t).sort(u).map(function(t){return e.offices.features[t.ref]})},a.prototype.getOffice=function(t){return(void 0).features.find(function(e){return normalizeOfficeName(e.properties.name).toLowerCase()===t.toLowerCase()})},a.prototype.normalizeOfficeName=function(t){return t.replace(/[^a-zA-Z ]+/g,"")},a.prototype.getRandomOffice=function(){var t=(void 0).features,e=t[Math.floor(Math.random()*t.length)];s.emit("offices:random",e)}},{"./mediator":91,leaflet:33,lunr:65,"object-assign":68}],94:[function(t,e,i){"use strict";function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){o=!0,r=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw r}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=t("./strict-uri-encode"),s=t("decode-uri-component"),a=t("object-assign");function u(t,e){return e.encode?e.strict?r(t):encodeURIComponent(t):t}function l(t,e){return e.decode?s(t):t}function h(t){var e=t.indexOf("?");return-1===e?"":t.slice(e+1)}function c(t,e){var i=function(t){var e;switch(t.arrayFormat){case"index":return function(t,i,n){e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===n[t]&&(n[t]={}),n[t][e[1]]=i):n[t]=i};case"bracket":return function(t,i,n){e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==n[t]?n[t]=[].concat(n[t],i):n[t]=[i]:n[t]=i};default:return function(t,e,i){void 0!==i[t]?i[t]=[].concat(i[t],e):i[t]=e}}}(e=a({decode:!0,arrayFormat:"none"},e)),r=Object.create(null);if("string"!=typeof t)return r;if(!(t=t.trim().replace(/^[?#&]/,"")))return r;var s=!0,u=!1,h=void 0;try{for(var c,p=t.split("&")[Symbol.iterator]();!(s=(c=p.next()).done);s=!0){var d=n(c.value.replace(/\+/g," ").split("="),2),f=d[0],_=d[1];_=void 0===_?null:l(_,e),i(l(f,e),_,r)}}catch(t){u=!0,h=t}finally{try{s||null==p.return||p.return()}finally{if(u)throw h}}return Object.keys(r).sort().reduce(function(t,e){var i=r[e];return Boolean(i)&&"object"===o(i)&&!Array.isArray(i)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"===o(e)?t(Object.keys(e)).sort(function(t,e){return Number(t)-Number(e)}).map(function(t){return e[t]}):e}(i):t[e]=i,t},Object.create(null))}i.extract=h,i.parse=c,i.stringify=function(t,e){if(!t)return"";var i=function(t){switch(t.arrayFormat){case"index":return function(e,i,n){return null===i?[u(e,t),"[",n,"]"].join(""):[u(e,t),"[",u(n,t),"]=",u(i,t)].join("")};case"bracket":return function(e,i){return null===i?[u(e,t),"[]"].join(""):[u(e,t),"[]=",u(i,t)].join("")};default:return function(e,i){return null===i?u(e,t):[u(e,t),"=",u(i,t)].join("")}}}(e=a({encode:!0,strict:!0,arrayFormat:"none"},e)),n=Object.keys(t);return!1!==e.sort&&n.sort(e.sort),n.map(function(n){var o=t[n];if(void 0===o)return"";if(null===o)return u(n,e);if(Array.isArray(o)){var r=[],s=!0,a=!1,l=void 0;try{for(var h,c=o.slice()[Symbol.iterator]();!(s=(h=c.next()).done);s=!0){var p=h.value;void 0!==p&&r.push(i(n,p,r.length))}}catch(t){a=!0,l=t}finally{try{s||null==c.return||c.return()}finally{if(a)throw l}}return r.join("&")}return u(n,e)+"="+u(o,e)}).filter(function(t){return t.length>0}).join("&")},i.parseUrl=function(t,e){var i=t.indexOf("#");return-1!==i&&(t=t.slice(0,i)),{url:t.split("?")[0]||"",query:c(h(t),e)}}},{"./strict-uri-encode":96,"decode-uri-component":19,"object-assign":68}],95:[function(t,e,i){"use strict";function n(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o=t("madison"),r=t("leaflet"),s=t("./util"),a=function(t){this.states=t};e.exports=a,a.prototype.getBounds=function(t,e){var i=this.normalizeStateList(t);return r.geoJson(this.states,{filter:function(t,n){var r=t.properties[e],a=2===r.length?o.getStateNameSync(r):r;return s.includes(i,a.toLowerCase())}}).getBounds()},a.prototype.getStateName=function(t){return 2===t.length?o.getStateNameSync(t).toLowerCase():t.toLowerCase()},a.prototype.normalizeStateList=function(t){if(!t)return null;var e=[];return"string"==typeof t?e.push(t):e=n(t),e.map(function(t){return this.getStateName(t)})}},{"./util":98,leaflet:33,madison:66}],96:[function(t,e,i){"use strict";e.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%".concat(t.charCodeAt(0).toString(16).toUpperCase())})}},{}],97:[function(t,e,i){"use strict";var n=t("./util"),o=t("./mediator"),r=t("../templates/about"),s=function(t){this.about=n.create("button",["about-map","leaflet-control-roy","tt-w"],document.body),this.about.setAttribute("data-tt","About this map"),this.imgAbout=n.create("img","",this.about),this.imgAbout.setAttribute("src","./svg/help.svg"),this.imgAbout.setAttribute("alt","Icon representing help"),this.modal=n.create("aside","about-modal",document.body),this.close=n.create("button","modal-close",this.modal),this.close.innerHTML="&times;",this.aboutContent=n.create("section","about-content",this.modal),this.aboutContent.innerHTML=r(),this.about.addEventListener("click",this.toggleModal.bind(this)),this.close.addEventListener("click",this.hideModal.bind(this)),document.body.addEventListener("keyup",function(t){27===(t.code||t.keyCode||t.which||0)&&this.modal&&this.hideModal()}.bind(this))};e.exports=s,s.prototype.showModal=function(){this.modal.classList.add("active"),this.close.focus(),o.emit("modal:open")},s.prototype.hideModal=function(){this.modal.classList.remove("active"),o.emit("modal:close")},s.prototype.toggleModal=function(){this.modal.classList.contains("active")?this.hideModal():this.showModal()}},{"../templates/about":103,"./mediator":91,"./util":98}],98:[function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(){t("classlist-polyfill");var i={map:t("lodash.map"),includes:t("lodash.includes"),slugify:t("underscore.string/slugify"),tabbable:t("tabbable"),create:function(t,e,i){var r=document.createElement(t);"string"==typeof e?r.className=e:"object"===n(e)&&o(r,e);i&&i.appendChild(r);return r},remove:function(t){var e=t.parentNode;e&&e.removeChild(t)},addClass:function(t,e){t.classList.add(e)},addClasses:o,hasClass:t("has-class"),removeClass:function(t,e){t.classList.remove(e)},toggleClass:function(t,e){t.classList.toggle(e)},getDimensions:function(){var t=document.createElement("div");t.style.cssText="position: fixed;top: 0;left: 0;bottom: 0;right: 0;",document.documentElement.insertBefore(t,document.documentElement.firstChild);var e={width:t.offsetWidth,height:t.offsetHeight};return document.documentElement.removeChild(t),e}};function o(t,e){e.forEach(function(e){t.classList.add(e)})}e.exports=i}()},{"classlist-polyfill":18,"has-class":22,"lodash.includes":34,"lodash.map":35,tabbable:71,"underscore.string/slugify":79}],99:[function(t,e,i){"use strict";var n=t("./mediator"),o=t("./util"),r=function(t){this.view=t.view,this.textViewContainer=t.textViewContainer,this.mapViewContainer=t.mapViewContainer,"text"===this.view&&this.showText(),this.container=o.create("div","layer-switcher",document.body),this.textButton=o.create("button","layer-switcher-button text-view-button",this.container),this.mapButton=o.create("button","layer-switcher-button map-view-button",this.container),this.textButton.innerHTML="List View",this.mapButton.innerHTML="Map View",this.textButton.addEventListener("click",this.showText.bind(this)),this.mapButton.addEventListener("click",this.showMap.bind(this))};e.exports=r,r.prototype.showText=function(){this.textViewContainer.classList.add("active"),this.view="text",n.emit("view:changed","text")},r.prototype.showMap=function(){this.textViewContainer.classList.remove("active"),this.view="map",n.emit("view:changed","map")},r.prototype.toggleView=function(){"map"===this.view?this.showText():this.showMap()}},{"./mediator":91,"./util":98}],100:[function(t,e,i){"use strict";e.exports=function(){return'\n  <svg version="1.1" id="Your_Icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="-587.9 1416.8 1336.2 2848.2" enable-background="new -587.9 1416.8 1336.2 2848.2" xml:space="preserve">\n<path d="M684.5,1797.3c0,0-329.6-56.6-406.2,36.6c-113.2,56.6-76.6,422.8-76.6,422.8h409.5v369.6H201.7v1638.1h-486.1V2626.4h-303\n\tv-369.6H-281c-26.6,0,16.6-362.9,20-396.2c16.6-179.8,149.8-339.6,323-399.5c236.4-79.9,449.5-36.6,685.9,20\n\tC727.8,1587.6,704.5,1694.1,684.5,1797.3z"/>\n</svg>'}},{}],101:[function(t,e,i){"use strict";e.exports=function(){return'\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 50 50" enable-background="new 0 0 50 50" xml:space="preserve"><g><path fill="#000000" d="M45.88,11.416c0.327-1.106-0.047-2.302-0.953-3.022c-0.514-0.411-1.136-0.618-1.767-0.618   c-0.498,0-0.996,0.13-1.443,0.397c-0.888,0.521-1.817,0.939-2.787,1.234c-1.854-1.418-4.153-2.207-6.516-2.207   c-5.416,0-9.903,4.04-10.61,9.264c-4.318-0.924-8.252-3.303-11.086-6.779c-0.54-0.666-1.35-1.046-2.196-1.046   c-0.071,0-0.146,0.005-0.222,0.01c-0.928,0.073-1.757,0.596-2.226,1.398c-0.952,1.631-1.453,3.491-1.453,5.386   c0,1.28,0.227,2.525,0.647,3.688c-0.452,0.514-0.714,1.18-0.714,1.884c0,2.808,1.06,5.39,2.826,7.33   c-0.109,0.484-0.092,0.996,0.067,1.486c0.611,1.914,1.729,3.561,3.175,4.818c-0.939,0.213-1.911,0.322-2.897,0.322   c-0.511,0-1.028-0.033-1.549-0.092c-0.11-0.014-0.22-0.021-0.332-0.021c-1.186,0-2.26,0.742-2.663,1.885   c-0.447,1.24,0.026,2.627,1.134,3.34c4.071,2.607,8.775,3.986,13.602,3.986c15.655,0,25.063-12.6,25.232-24.899   c1.274-1.085,2.394-2.334,3.344-3.728c0.359-0.474,0.572-1.063,0.572-1.708C47.065,12.775,46.597,11.933,45.88,11.416z    M40.292,17.801c0.018,0.337,0.025,0.677,0.025,1.018c0,10.404-7.919,22.4-22.4,22.4c-4.445,0-8.584-1.303-12.07-3.537   c0.613,0.068,1.243,0.111,1.878,0.111c3.689,0,7.083-1.26,9.779-3.373c-3.449-0.061-6.354-2.34-7.357-5.467   c0.481,0.092,0.975,0.143,1.478,0.143c0.72,0,1.416-0.098,2.075-0.277c-3.602-0.727-6.317-3.905-6.317-7.723   c0-0.034,0-0.065,0-0.098c1.062,0.588,2.277,0.942,3.567,0.982c-2.112-1.412-3.5-3.824-3.5-6.554c0-1.442,0.388-2.793,1.066-3.956   c3.88,4.763,9.683,7.896,16.227,8.224c-0.136-0.574-0.202-1.178-0.202-1.795c0-4.344,3.524-7.869,7.87-7.869   c2.266,0,4.313,0.956,5.749,2.483c1.791-0.351,3.478-1.006,4.999-1.909c-0.589,1.837-1.838,3.38-3.461,4.354   c1.591-0.188,3.106-0.611,4.52-1.24C43.165,15.305,41.832,16.691,40.292,17.801z"></path></g></svg>\n'}},{}],102:[function(t,e,i){"use strict";e.exports=function(){return'\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 65 47.5" style="enable-background:new 0 0 65 47.5;" xml:space="preserve">\n  <style type="text/css">\n    .st0{stroke-miterlimit:10;}\n  </style>\n  <g>\n    <path class="st0" d="M63.5,37.2h-4.1V5.5c0-2.8-2.2-5-5-5H10.6c-2.8,0-5,2.2-5,5v31.8H1.5c-0.6,0-1,0.4-1,1v2.9\n      c0,3.2,2.6,5.8,5.8,5.8h52.4c3.2,0,5.8-2.6,5.8-5.8v-2.9C64.5,37.7,64.1,37.2,63.5,37.2z M7.6,5.5c0-1.7,1.3-3,3-3h43.8\n      c1.7,0,3,1.3,3,3v31.8H7.6V5.5z M62.5,41.1c0,2.1-1.7,3.8-3.8,3.8H6.3c-2.1,0-3.8-1.7-3.8-3.8v-1.9h60V41.1z"/>\n    <path class="st0" d="M27.7,43.1h9.6c0.6,0,1-0.4,1-1s-0.4-1-1-1h-9.6c-0.6,0-1,0.4-1,1S27.1,43.1,27.7,43.1z"/>\n  </g>\n</svg>\n'}},{}],103:[function(t,e,i){"use strict";e.exports=function(){return'\n  <div class="about-content">\n    <h2>About this map</h2>\n\n    <h3>Privacy</h3>\n\n    <p>The \'Find nearest offices\' tool will request access to your current location. If you grant access the coordinates of your current location will be used to find the 10 closest USFWS offices in the Southeast Region.  This location data is only used on the client (in your web browser) and is never transimitted back to the Service, or stored in any way.</p>\n\n    <h3>Map Layers</h3>\n\n    <p>National Geographic and Imagery basemap tiles courtesy of <a href="http://doc.arcgis.com/en/living-atlas/#s=0&subCat=1&type=All&area=All&md=basemap:1000">ESRI</a>.</p>\n\n    <h3>Thank You Creative Commons</h3>\n\n    <p>Much of the iconography used in this map was taken from Creative Commons contributions to the noun project.</p>\n    <ul>\n      <li>Info by Jürgen Bauer from the Noun Project</li>\n      <li>Buildings by Creative Stall from the Noun Project</li>\n      <li>Location by Bonnie Duffley from the Noun Project</li>\n      <li>Crosshair by Jos&#233; Manuel de La&#225; from the Noun Project</li>\n    </ul>\n\n    <h3>Source Code</h3>\n\n    <p>The code used to create this map is in the public domain.  You can download a copy on <a href="https://github.com/usfws/southeast-mega-map">GitHub</a>.</p>\n  </div>\n'}},{}],104:[function(t,e,i){"use strict";var n=t("../js/util");e.exports=function(t,e){return t.map(function(t){var i=e(t.properties.name),o="/?q=".concat(n.slugify(i).toLowerCase());return'\n      <li>\n        <a href="'.concat(o,'" class="autocomplete-link">').concat(t.properties.name,"</a>\n      </li>\n    ")})}},{"../js/util":98}],105:[function(t,e,i){"use strict";e.exports=function(){return'\n  <h1 class="map-title">Southeast Region<br>Office Map</h1>\n  <img class="logo" src="./svg/logo.svg" alt="Official logo of the U.S. Fish and Wildlife Service" />\n\n  <div class="detail-content-wrap">\n    <p>Use the map to find a U.S. Fish and Wildlife Service field office, National Wildlife Refuge, or a National Fish Hatchery near you.  For more information about a specific office click an office marker on the map.</p>\n\n    <h3>Map Icons</h3>\n    <ul class="icon-list">\n      <li><img class="icon" src="./images/layers-2x.png" alt="Image representing layers in 3-D"/> Toggle layers on/off</li>\n      <li><img class="icon" src="./svg/full-extent.svg" alt="Icon with arrows pointing outwards"/> Zoom out to show all offices</li>\n      <li><img class="icon" src="./svg/current-location.svg" alt="Icon representing your current location"/> Find the nearest offices</li>\n      <li><img class="icon" src="./svg/help.svg" alt="Icon representing \'help\'"/> Learn more about the map</li>\n    </ul>\n\n    <h3>Office Types</h3>\n    <ul class="icon-list">\n      <li><img class="marker" src="./svg/blue-goose.svg" alt="Official logo of the National Wildlife Refuge System"/> National Wildlife Refuge</li>\n      <li><img class="marker" src="./svg/fisheries.svg" alt="Official logo of the Fisheries program"/> National Fish Hatchery</li>\n      <li><img class="marker" src="./svg/building.svg" alt="Icon representing a field office"/>Field Station</li>\n    </ul>\n  </div>\n'}},{}],106:[function(t,e,i){"use strict";function n(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("../js/util");var o=t("../svg/webpage"),r=t("../svg/facebook"),s=t("../svg/twitter"),a=function(t,e,i,n){return e?'<li><a href ="'.concat(t.url,'" title="').concat(n,'" target="_blank">').concat(i(),"<p>").concat(n,"</p></a></li>"):""};e.exports=function(t){return"\n    <h2>".concat(t.name,"</h2>\n\n    ").concat(function(t){return t.image?'\n    <a href="'.concat(t.imageurl,'" target=\'_blank\'>\n      <img class="detail-image" src="./images/').concat(t.image,'" alt="').concat(t.alt,'" />\n    </a>\n    <p class="office-photo-caption">').concat(t.caption,"</p>"):""}(t),'\n\n    <ul class="detail-links">\n      ').concat(a(t,t.url,o,"Website"),"\n      ").concat(a(t,t.facebook,r,"Facebook"),"\n      ").concat(a(t,t.twitter,s,"Twitter"),'\n    </ul>\n\n    <div class="detail-content-wrap">\n      <p class="detail-description">').concat(t.narrative,"</p>\n      ").concat(function(t){var e='\n    <ul class="detail-activities">\n      '.concat(t.activities.map(function(t){return"<li>".concat(function(t){switch(t){case"Wildlife Photography":return'<img src="./svg/wildlife-photography.svg" alt="Camera icon"/>';case"Wildlife Observation":return'<img src="./svg/wildlife-observation.svg" alt="Icon"/>';case"Environmental Education":return'<img src="./svg/education.svg" alt="Mortar board icon"/>';case"Interpretation":return'<img src="./svg/interpretation.svg" alt="Interpretive sign icon"/>';case"Hiking":return'<img src="./svg/hiking.svg" alt="Hiking icon"/>';case"Fishing":return'<img src="./svg/fishing.svg" alt="Fish icon"/>';case"Hunting":return'<img src="./svg/hunting.svg" alt="Hunting icon"/>';case"Boat Ramp":return'<img src="./svg/boat-ramp.svg" alt="Boat ramp icon"/>';case"Canoeing":return'<img src="./svg/canoeing.svg" alt="Canoe icon"/>';case"Lighthouse":return'<img src="./svg/lighthouse.svg" alt="Lighthouse icon"/>';case"Picnic":return'<img src="./svg/picnic-shelter.svg" alt="Picnic table icon"/>'}}(t)," ").concat(t,"</li>")}).join(""),"\n    </ul>\n  ");return["<h3>Activities</h3>"].concat(n(e)).join("")}(t),"\n\n      <h3>Address</h3>\n      ").concat(t.phone?"<p>Phone: ".concat(t.phone,"</p>"):"","\n      <address>\n        ").concat(t.address," <br/>\n        ").concat(t.city,", ").concat(t.state," ").concat(t.zip,"\n      </address>\n    </div>\n    ")}},{"../js/util":98,"../svg/facebook":100,"../svg/twitter":101,"../svg/webpage":102}],107:[function(t,e,i){"use strict";e.exports=function(t){return t.map(function(t){return'\n    <li>\n      <div class="office-image">\n        <img src="'.concat(t.icon.src,'" alt ="').concat(t.icon.alt,'" class="office-list-icon"/>\n      </div>\n\n      <div class="office-details">\n        <h2>').concat(t.name,'</h2>\n        <img src="').concat(t.icon.src,'" alt="').concat(t.icon.alt,'" class="nested-office-list-icon"/>\n\n        <address>\n          ').concat(t.address," <br/>\n          ").concat(t.city,", ").concat(t.state," ").concat(t.zip,"\n        </address>\n\n\n        ").concat(t.url?'<p><a href="'.concat(t.url,'" target="_blank">Visit us on the web!</a></p>'):"","\n        ").concat(t.facebook?'<p><a href="'.concat(t.facebook,'" target="_blank">Like us on Facebook!</a></p>'):"","\n        ").concat(t.twitter?'<p><a href="'.concat(t.twitter,'" target="_blank">Follow us on Twitter!</a></p>'):"","\n      </div>\n    </li>\n  ")})}},{}],108:[function(t,e,i){"use strict";var n=t("../js/util"),o=function(t){var e=t.layer.feature.properties.name,i="?office=".concat(n.slugify(e).toLowerCase());return'<li><a href="'.concat(i,'">').concat(e,"</a></li>")};e.exports=function(t){return'\n  <h2>Nearest Offices</h2>\n  <ul class="nearest-offices">\n    '.concat(t.map(o).join(""),"\n  </ul>\n")}},{"../js/util":98}],109:[function(t,e,i){"use strict";e.exports=function(t){return'\n  <div class="popup">\n    <strong class="office-name">'.concat(t.name,"</strong> <br/>\n    <address>").concat(t.city,", ").concat(t.state,"</address>\n  </div>\n")}},{}]},{},[86]);
