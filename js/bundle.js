!function t(e,n,i){function o(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return o(n?n:t)},u,u.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){},{}],2:[function(t,e,n){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(t){return"function"==typeof t}function r(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if(!r(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,n,i,r,l,h;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],a(n))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:r=Array.prototype.slice.call(arguments,1),n.apply(this,r)}else if(s(n))for(r=Array.prototype.slice.call(arguments,1),h=n.slice(),i=h.length,l=0;i>l;l++)h[l].apply(this,r);return!0},i.prototype.addListener=function(t,e){var n;if(!o(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,o(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned&&(n=a(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!o(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},i.prototype.removeListener=function(t,e){var n,i,r,a;if(!o(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],r=n.length,i=-1,n===e||o(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(n)){for(a=r;a-->0;)if(n[a]===e||n[a].listener&&n[a].listener===e){i=a;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],o(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?o(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(o(e))return 1;if(e)return e.length}return 0},i.listenerCount=function(t,e){return t.listenerCount(e)}},{}],3:[function(t,e,n){(function(t){!function(i){function o(t){throw new RangeError(O[t])}function r(t,e){for(var n=t.length,i=[];n--;)i[n]=e(t[n]);return i}function s(t,e){var n=t.split("@"),i="";n.length>1&&(i=n[0]+"@",t=n[1]),t=t.replace(z,".");var o=t.split("."),s=r(o,e).join(".");return i+s}function a(t){for(var e,n,i=[],o=0,r=t.length;r>o;)e=t.charCodeAt(o++),e>=55296&&56319>=e&&r>o?(n=t.charCodeAt(o++),56320==(64512&n)?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),o--)):i.push(e);return i}function l(t){return r(t,function(t){var e="";return t>65535&&(t-=65536,e+=U(t>>>10&1023|55296),t=56320|1023&t),e+=U(t)}).join("")}function h(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:w}function u(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function c(t,e,n){var i=0;for(t=n?B(t/S):t>>1,t+=B(t/e);t>A*P>>1;i+=w)t=B(t/A);return B(i+(A+1)*t/(t+C))}function p(t){var e,n,i,r,s,a,u,p,d,f,m=[],_=t.length,g=0,v=k,y=M;for(n=t.lastIndexOf(T),0>n&&(n=0),i=0;n>i;++i)t.charCodeAt(i)>=128&&o("not-basic"),m.push(t.charCodeAt(i));for(r=n>0?n+1:0;_>r;){for(s=g,a=1,u=w;r>=_&&o("invalid-input"),p=h(t.charCodeAt(r++)),(p>=w||p>B((x-g)/a))&&o("overflow"),g+=p*a,d=y>=u?b:u>=y+P?P:u-y,!(d>p);u+=w)f=w-d,a>B(x/f)&&o("overflow"),a*=f;e=m.length+1,y=c(g-s,e,0==s),B(g/e)>x-v&&o("overflow"),v+=B(g/e),g%=e,m.splice(g++,0,v)}return l(m)}function d(t){var e,n,i,r,s,l,h,p,d,f,m,_,g,v,y,L=[];for(t=a(t),_=t.length,e=k,n=0,s=M,l=0;_>l;++l)m=t[l],128>m&&L.push(U(m));for(i=r=L.length,r&&L.push(T);_>i;){for(h=x,l=0;_>l;++l)m=t[l],m>=e&&h>m&&(h=m);for(g=i+1,h-e>B((x-n)/g)&&o("overflow"),n+=(h-e)*g,e=h,l=0;_>l;++l)if(m=t[l],e>m&&++n>x&&o("overflow"),m==e){for(p=n,d=w;f=s>=d?b:d>=s+P?P:d-s,!(f>p);d+=w)y=p-f,v=w-f,L.push(U(u(f+y%v,0))),p=B(y/v);L.push(U(u(p,0))),s=c(n,g,i==r),n=0,++i}++n,++e}return L.join("")}function f(t){return s(t,function(t){return E.test(t)?p(t.slice(4).toLowerCase()):t})}function m(t){return s(t,function(t){return D.test(t)?"xn--"+d(t):t})}var _="object"==typeof n&&n&&!n.nodeType&&n,g="object"==typeof e&&e&&!e.nodeType&&e,v="object"==typeof t&&t;(v.global===v||v.window===v||v.self===v)&&(i=v);var y,L,x=2147483647,w=36,b=1,P=26,C=38,S=700,M=72,k=128,T="-",E=/^xn--/,D=/[^\x20-\x7E]/,z=/[\x2E\u3002\uFF0E\uFF61]/g,O={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=w-b,B=Math.floor,U=String.fromCharCode;if(y={version:"1.3.2",ucs2:{decode:a,encode:l},decode:p,encode:d,toASCII:m,toUnicode:f},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return y});else if(_&&g)if(e.exports==_)g.exports=y;else for(L in y)y.hasOwnProperty(L)&&(_[L]=y[L]);else i.punycode=y}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(t,e,n){"use strict";function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function o(t,e,n){if(t&&h.isObject(t)&&t instanceof i)return t;var o=new i;return o.parse(t,e,n),o}function r(t){return h.isString(t)&&(t=o(t)),t instanceof i?t.format():i.prototype.format.call(t)}function s(t,e){return o(t,!1,!0).resolve(e)}function a(t,e){return t?o(t,!1,!0).resolveObject(e):e}var l=t("punycode"),h=t("./util");n.parse=o,n.resolve=s,n.resolveObject=a,n.format=r,n.Url=i;var u=/^([a-z0-9.+-]+:)/i,c=/:[0-9]*$/,p=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["<",">",'"',"`"," ","\r","\n","	"],f=["{","}","|","\\","^","`"].concat(d),m=["'"].concat(f),_=["%","/","?",";","#"].concat(m),g=["/","?","#"],v=255,y=/^[+a-z0-9A-Z_-]{0,63}$/,L=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},w={javascript:!0,"javascript:":!0},b={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},P=t("querystring");i.prototype.parse=function(t,e,n){if(!h.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),o=-1!==i&&i<t.indexOf("#")?"?":"#",r=t.split(o),s=/\\/g;r[0]=r[0].replace(s,"/"),t=r.join(o);var a=t;if(a=a.trim(),!n&&1===t.split("#").length){var c=p.exec(a);if(c)return this.path=a,this.href=a,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=P.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var d=u.exec(a);if(d){d=d[0];var f=d.toLowerCase();this.protocol=f,a=a.substr(d.length)}if(n||d||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var C="//"===a.substr(0,2);!C||d&&w[d]||(a=a.substr(2),this.slashes=!0)}if(!w[d]&&(C||d&&!b[d])){for(var S=-1,M=0;M<g.length;M++){var k=a.indexOf(g[M]);-1!==k&&(-1===S||S>k)&&(S=k)}var T,E;E=-1===S?a.lastIndexOf("@"):a.lastIndexOf("@",S),-1!==E&&(T=a.slice(0,E),a=a.slice(E+1),this.auth=decodeURIComponent(T)),S=-1;for(var M=0;M<_.length;M++){var k=a.indexOf(_[M]);-1!==k&&(-1===S||S>k)&&(S=k)}-1===S&&(S=a.length),this.host=a.slice(0,S),a=a.slice(S),this.parseHost(),this.hostname=this.hostname||"";var D="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!D)for(var z=this.hostname.split(/\./),M=0,O=z.length;O>M;M++){var A=z[M];if(A&&!A.match(y)){for(var B="",U=0,I=A.length;I>U;U++)B+=A.charCodeAt(U)>127?"x":A[U];if(!B.match(y)){var j=z.slice(0,M),Z=z.slice(M+1),R=A.match(L);R&&(j.push(R[1]),Z.unshift(R[2])),Z.length&&(a="/"+Z.join(".")+a),this.hostname=j.join(".");break}}}this.hostname.length>v?this.hostname="":this.hostname=this.hostname.toLowerCase(),D||(this.hostname=l.toASCII(this.hostname));var N=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+N,this.href+=this.host,D&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!x[f])for(var M=0,O=m.length;O>M;M++){var G=m[M];if(-1!==a.indexOf(G)){var F=encodeURIComponent(G);F===G&&(F=escape(G)),a=a.split(G).join(F)}}var V=a.indexOf("#");-1!==V&&(this.hash=a.substr(V),a=a.slice(0,V));var W=a.indexOf("?");if(-1!==W?(this.search=a.substr(W),this.query=a.substr(W+1),e&&(this.query=P.parse(this.query)),a=a.slice(0,W)):e&&(this.search="",this.query={}),a&&(this.pathname=a),b[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var N=this.pathname||"",q=this.search||"";this.path=N+q}return this.href=this.format(),this},i.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",i=this.hash||"",o=!1,r="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&h.isObject(this.query)&&Object.keys(this.query).length&&(r=P.stringify(this.query));var s=this.search||r&&"?"+r||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||b[e])&&o!==!1?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),s=s.replace("#","%23"),e+o+n+s+i},i.prototype.resolve=function(t){return this.resolveObject(o(t,!1,!0)).format()},i.prototype.resolveObject=function(t){if(h.isString(t)){var e=new i;e.parse(t,!1,!0),t=e}for(var n=new i,o=Object.keys(this),r=0;r<o.length;r++){var s=o[r];n[s]=this[s]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),l=0;l<a.length;l++){var u=a[l];"protocol"!==u&&(n[u]=t[u])}return b[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!b[t.protocol]){for(var c=Object.keys(t),p=0;p<c.length;p++){var d=c[p];n[d]=t[d]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||w[t.protocol])n.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var m=n.pathname||"",_=n.search||"";n.path=m+_}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var g=n.pathname&&"/"===n.pathname.charAt(0),v=t.host||t.pathname&&"/"===t.pathname.charAt(0),y=v||g||n.host&&t.pathname,L=y,x=n.pathname&&n.pathname.split("/")||[],f=t.pathname&&t.pathname.split("/")||[],P=n.protocol&&!b[n.protocol];if(P&&(n.hostname="",n.port=null,n.host&&(""===x[0]?x[0]=n.host:x.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),y=y&&(""===f[0]||""===x[0])),v)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,x=f;else if(f.length)x||(x=[]),x.pop(),x=x.concat(f),n.search=t.search,n.query=t.query;else if(!h.isNullOrUndefined(t.search)){if(P){n.hostname=n.host=x.shift();var C=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;C&&(n.auth=C.shift(),n.host=n.hostname=C.shift())}return n.search=t.search,n.query=t.query,h.isNull(n.pathname)&&h.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!x.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var S=x.slice(-1)[0],M=(n.host||t.host||x.length>1)&&("."===S||".."===S)||""===S,k=0,T=x.length;T>=0;T--)S=x[T],"."===S?x.splice(T,1):".."===S?(x.splice(T,1),k++):k&&(x.splice(T,1),k--);if(!y&&!L)for(;k--;k)x.unshift("..");!y||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),M&&"/"!==x.join("/").substr(-1)&&x.push("");var E=""===x[0]||x[0]&&"/"===x[0].charAt(0);if(P){n.hostname=n.host=E?"":x.length?x.shift():"";var C=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;C&&(n.auth=C.shift(),n.host=n.hostname=C.shift())}return y=y||n.host&&x.length,y&&!E&&x.unshift(""),x.length?n.pathname=x.join("/"):(n.pathname=null,n.path=null),h.isNull(n.pathname)&&h.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var t=this.host,e=c.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":5,punycode:3,querystring:37}],5:[function(t,e,n){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],6:[function(t,e,n){"document"in window.self&&("classList"in document.createElement("_")?!function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,i=arguments.length;for(n=0;i>n;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}t=null}():!function(t){"use strict";if("Element"in t){var e="classList",n="prototype",i=t.Element[n],o=Object,r=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},s=Array[n].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},l=function(t,e){if(""===e)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return s.call(t,e)},h=function(t){for(var e=r.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],i=0,o=n.length;o>i;i++)this.push(n[i]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=h[n]=[],c=function(){return new h(this)};if(a[n]=Error[n],u.item=function(t){return this[t]||null},u.contains=function(t){return t+="",-1!==l(this,t)},u.add=function(){var t,e=arguments,n=0,i=e.length,o=!1;do t=e[n]+"",-1===l(this,t)&&(this.push(t),o=!0);while(++n<i);o&&this._updateClassName()},u.remove=function(){var t,e,n=arguments,i=0,o=n.length,r=!1;do for(t=n[i]+"",e=l(this,t);-1!==e;)this.splice(e,1),r=!0,e=l(this,t);while(++i<o);r&&this._updateClassName()},u.toggle=function(t,e){t+="";var n=this.contains(t),i=n?e!==!0&&"remove":e!==!1&&"add";return i&&this[i](t),e===!0||e===!1?e:!n},u.toString=function(){return this.join(" ")},o.defineProperty){var p={get:c,enumerable:!0,configurable:!0};try{o.defineProperty(i,e,p)}catch(d){-2146823252===d.number&&(p.enumerable=!1,o.defineProperty(i,e,p))}}else o[n].__defineGetter__&&i.__defineGetter__(e,c)}}(window.self))},{}],7:[function(t,e,n){function i(t,e,n){if(!a(e))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===l.call(t)?o(t,e,n):"string"==typeof t?r(t,e,n):s(t,e,n)}function o(t,e,n){for(var i=0,o=t.length;o>i;i++)h.call(t,i)&&e.call(n,t[i],i,t)}function r(t,e,n){for(var i=0,o=t.length;o>i;i++)e.call(n,t.charAt(i),i,t)}function s(t,e,n){for(var i in t)h.call(t,i)&&e.call(n,t[i],i,t)}var a=t("is-function");e.exports=i;var l=Object.prototype.toString,h=Object.prototype.hasOwnProperty},{"is-function":8}],8:[function(t,e,n){function i(t){var e=o.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}e.exports=i;var o=Object.prototype.toString},{}],9:[function(t,e,n){(function(i){!function(t){if("object"==typeof n&&"undefined"!=typeof e)e.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof i?i:"undefined"!=typeof self?self:this,o.jade=t()}}(function(){return function e(n,i,o){function r(a,l){if(!i[a]){if(!n[a]){var h="function"==typeof t&&t;if(!l&&h)return h(a,!0);if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[a]={exports:{}};n[a][0].call(c.exports,function(t){var e=n[a][1][t];return r(e?e:t)},c,c.exports,e,n,i,o)}return i[a].exports}for(var s="function"==typeof t&&t,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(t,e,n){"use strict";function i(t){return null!=t&&""!==t}function o(t){return(Array.isArray(t)?t.map(o):t&&"object"==typeof t?Object.keys(t).filter(function(e){return t[e]}):[t]).filter(i).join(" ")}function r(t){return a[t]||t}function s(t){var e=String(t).replace(l,r);return e===""+t?t:e}n.merge=function h(t,e){if(1===arguments.length){for(var n=t[0],o=1;o<t.length;o++)n=h(n,t[o]);return n}var r=t["class"],s=e["class"];(r||s)&&(r=r||[],s=s||[],Array.isArray(r)||(r=[r]),Array.isArray(s)||(s=[s]),t["class"]=r.concat(s).filter(i));for(var a in e)"class"!=a&&(t[a]=e[a]);return t},n.joinClasses=o,n.cls=function(t,e){for(var i=[],r=0;r<t.length;r++)e&&e[r]?i.push(n.escape(o([t[r]]))):i.push(o(t[r]));var s=o(i);return s.length?' class="'+s+'"':""},n.style=function(t){return t&&"object"==typeof t?Object.keys(t).map(function(e){return e+":"+t[e]}).join(";"):t},n.attr=function(t,e,i,o){return"style"===t&&(e=n.style(e)),"boolean"==typeof e||null==e?e?" "+(o?t:t+'="'+t+'"'):"":0==t.indexOf("data")&&"string"!=typeof e?(-1!==JSON.stringify(e).indexOf("&")&&console.warn("Since Jade 2.0.0, ampersands (`&`) in data attributes will be escaped to `&amp;`"),e&&"function"==typeof e.toISOString&&console.warn("Jade will eliminate the double quotes around dates in ISO form after 2.0.0")," "+t+"='"+JSON.stringify(e).replace(/'/g,"&apos;")+"'"):i?(e&&"function"==typeof e.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+t+'="'+n.escape(e)+'"'):(e&&"function"==typeof e.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+t+'="'+e+'"')},n.attrs=function(t,e){var i=[],r=Object.keys(t);if(r.length)for(var s=0;s<r.length;++s){var a=r[s],l=t[a];"class"==a?(l=o(l))&&i.push(" "+a+'="'+l+'"'):i.push(n.attr(a,l,!1,e))}return i.join("")};var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},l=/[&<>"]/g;n.escape=s,n.rethrow=function u(e,n,i,o){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&n||o))throw e.message+=" on line "+i,e;try{o=o||t("fs").readFileSync(n,"utf8")}catch(r){u(e,null,i)}var s=3,a=o.split("\n"),l=Math.max(i-s,0),h=Math.min(a.length,i+s),s=a.slice(l,h).map(function(t,e){var n=e+l+1;return(n==i?"  > ":"    ")+n+"| "+t}).join("\n");throw e.path=n,e.message=(n||"Jade")+":"+i+"\n"+s+"\n\n"+e.message,e},n.DebugItem=function(t,e){this.lineno=t,this.filename=e}},{fs:2}],2:[function(t,e,n){},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{fs:1}],10:[function(t,e,n){function i(t){for(var e=[],n={},i=0;i<t.length;i++)void 0==n[L.stamp(t[i].layer)]&&(e.push(t[i]),n[L.stamp(t[i].layer)]=!0);return e}function o(t,e){for(var n=[],i=0;i<t.length;i++)n.push({lon:t[i][0],lat:t[i][1],layer:e});return n}function r(t){var e=0,n=0,i=0,o=[];if("object"==typeof t[0]&&"object"==typeof t[0][0]&&"object"==typeof t[0][0][0]){for(;e<t.length;e++)for(;n<t[e].length;n++)for(;i<t[e][n].length;i++)o.push(t[e][n][i]);return o}if("object"==typeof t[0]&&"object"==typeof t[0][0]){for(;e<t.length;e++)for(;n<t[e].length;n++)o.push(t[e][n]);return o}return"object"==typeof t[0]?t:[t]}var s=t("sphere-knn");e.exports=function(t){"use strict";function e(t){n=n.concat(o(r(t.feature.geometry.coordinates),t))}if(!(t instanceof L.GeoJSON))throw new Error("must be L.GeoJSON");var n=[];t.eachLayer(e);var a=s(n);return a.nearest=function(t,e,n){return t instanceof L.LatLng&&(t=[t.lng,t.lat]),a(t[1],t[0],e,n)},a.nearestLayer=function(t,e,n){return t instanceof L.LatLng&&(t=[t.lng,t.lat]),i(a(t[1],t[0],e,n))},a}},{"sphere-knn":38}],11:[function(t,e,n){!function(t,e,n){L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(t){L.Util.setOptions(this,t),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[];var e=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,e?this._withAnimation:this._noAnimation),this._markerCluster=e?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(t){if(t instanceof L.LayerGroup){var e=[];for(var n in t._layers)e.push(t._layers[n]);return this.addLayers(e)}if(!t.getLatLng)return this._nonPointGroup.addLayer(t),this;if(!this._map)return this._needsClustering.push(t),this;if(this.hasLayer(t))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(t,this._maxZoom),this._topClusterLevel._recalculateBounds();var i=t,o=this._map.getZoom();if(t.__parent)for(;i.__parent._zoom>=o;)i=i.__parent;return this._currentShownBounds.contains(i.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(t,i):this._animationAddLayerNonAnimated(t,i)),this},removeLayer:function(t){if(t instanceof L.LayerGroup){var e=[];for(var n in t._layers)e.push(t._layers[n]);return this.removeLayers(e)}return t.getLatLng?this._map?t.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(t)),this._removeLayer(t,!0),this._topClusterLevel._recalculateBounds(),t.off("move",this._childMarkerMoved,this),this._featureGroup.hasLayer(t)&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,t)&&this.hasLayer(t)&&this._needsRemoving.push(t),this):(this._nonPointGroup.removeLayer(t),this)},addLayers:function(t){var e,n,i,o,r=this._featureGroup,s=this._nonPointGroup,a=this.options.chunkedLoading,l=this.options.chunkInterval,h=this.options.chunkProgress;if(this._map){var u=0,c=(new Date).getTime(),p=L.bind(function(){for(var e=(new Date).getTime();u<t.length;u++){if(a&&0===u%200){var n=(new Date).getTime()-e;if(n>l)break}if(o=t[u],o.getLatLng){if(!this.hasLayer(o)&&(this._addLayer(o,this._maxZoom),o.__parent&&2===o.__parent.getChildCount())){var i=o.__parent.getAllChildMarkers(),d=i[0]===o?i[1]:i[0];r.removeLayer(d)}}else s.addLayer(o)}h&&h(u,t.length,(new Date).getTime()-c),u===t.length?(this._topClusterLevel._recalculateBounds(),this._featureGroup.eachLayer(function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()}),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(p,this.options.chunkDelay)},this);p()}else{for(e=[],n=0,i=t.length;i>n;n++)o=t[n],o.getLatLng?this.hasLayer(o)||e.push(o):s.addLayer(o);this._needsClustering=this._needsClustering.concat(e)}return this},removeLayers:function(t){var e,n,i,o=this._featureGroup,r=this._nonPointGroup;if(!this._map){for(e=0,n=t.length;n>e;e++)i=t[e],this._arraySplice(this._needsClustering,i),r.removeLayer(i),this.hasLayer(i)&&this._needsRemoving.push(i);return this}if(this._unspiderfy)for(this._unspiderfy(),e=0,n=t.length;n>e;e++)i=t[e],this._unspiderfyLayer(i);for(e=0,n=t.length;n>e;e++)i=t[e],i.__parent?(this._removeLayer(i,!0,!0),o.hasLayer(i)&&(o.removeLayer(i),i.clusterShow&&i.clusterShow())):r.removeLayer(i);return this._topClusterLevel._recalculateBounds(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),o.eachLayer(function(t){t instanceof L.MarkerCluster&&t._updateIcon()}),this},clearLayers:function(){return this._map||(this._needsClustering=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(t){t.off("move",this._childMarkerMoved,this),delete t.__parent}),this._map&&this._generateInitialClusters(),this},getBounds:function(){var t=new L.LatLngBounds;this._topClusterLevel&&t.extend(this._topClusterLevel._bounds);for(var e=this._needsClustering.length-1;e>=0;e--)t.extend(this._needsClustering[e].getLatLng());return t.extend(this._nonPointGroup.getBounds()),t},eachLayer:function(t,e){var n,i=this._needsClustering.slice(),o=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(i),n=i.length-1;n>=0;n--)-1===o.indexOf(i[n])&&t.call(e,i[n]);this._nonPointGroup.eachLayer(t,e)},getLayers:function(){var t=[];return this.eachLayer(function(e){t.push(e)}),t},getLayer:function(t){var e=null;return t=parseInt(t,10),this.eachLayer(function(n){L.stamp(n)===t&&(e=n)}),e},hasLayer:function(t){if(!t)return!1;var e,n=this._needsClustering;for(e=n.length-1;e>=0;e--)if(n[e]===t)return!0;for(n=this._needsRemoving,e=n.length-1;e>=0;e--)if(n[e]===t)return!1;return!(!t.__parent||t.__parent._group!==this)||this._nonPointGroup.hasLayer(t)},zoomToShowLayer:function(t,e){"function"!=typeof e&&(e=function(){});var n=function(){!t._icon&&!t.__parent._icon||this._inZoomAnimation||(this._map.off("moveend",n,this),this.off("animationend",n,this),t._icon?e():t.__parent._icon&&(this.once("spiderfied",e,this),t.__parent.spiderfy()))};if(t._icon&&this._map.getBounds().contains(t.getLatLng()))e();else if(t.__parent._zoom<this._map.getZoom())this._map.on("moveend",n,this),this._map.panTo(t.getLatLng());else{var i=function(){this._map.off("movestart",i,this),i=null};this._map.on("movestart",i,this),this._map.on("moveend",n,this),this.on("animationend",n,this),t.__parent.zoomToBounds(),i&&n.call(this)}},onAdd:function(t){this._map=t;var e,n,i;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(t),this._nonPointGroup.addTo(t),this._gridClusters||this._generateInitialClusters(),this._maxLat=t.options.crs.projection.MAX_LATITUDE,e=0,n=this._needsRemoving.length;n>e;e++)i=this._needsRemoving[e],this._removeLayer(i,!0);this._needsRemoving=[],this._zoom=this._map.getZoom(),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),n=this._needsClustering,this._needsClustering=[],this.addLayers(n)},onRemove:function(t){t.off("zoomend",this._zoomEnd,this),t.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(t){for(var e=t;e&&!e._icon;)e=e.__parent;return e||null},_arraySplice:function(t,e){for(var n=t.length-1;n>=0;n--)if(t[n]===e)return t.splice(n,1),!0},_removeFromGridUnclustered:function(t,e){for(var n=this._map,i=this._gridUnclustered;e>=0&&i[e].removeObject(t,n.project(t.getLatLng(),e));e--);},_childMarkerMoved:function(t){this._ignoreMove||(t.target._latlng=t.oldLatLng,this.removeLayer(t.target),t.target._latlng=t.latlng,this.addLayer(t.target))},_removeLayer:function(t,e,n){var i=this._gridClusters,o=this._gridUnclustered,r=this._featureGroup,s=this._map;e&&this._removeFromGridUnclustered(t,this._maxZoom);var a,l=t.__parent,h=l._markers;for(this._arraySplice(h,t);l&&(l._childCount--,l._boundsNeedUpdate=!0,!(l._zoom<0));)e&&l._childCount<=1?(a=l._markers[0]===t?l._markers[1]:l._markers[0],i[l._zoom].removeObject(l,s.project(l._cLatLng,l._zoom)),o[l._zoom].addObject(a,s.project(a.getLatLng(),l._zoom)),this._arraySplice(l.__parent._childClusters,l),l.__parent._markers.push(a),a.__parent=l.__parent,l._icon&&(r.removeLayer(l),n||r.addLayer(a))):n&&l._icon||l._updateIcon(),l=l.__parent;delete t.__parent},_isOrIsParent:function(t,e){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},fire:function(t,e,n){if(e&&e.layer instanceof L.MarkerCluster){if(e.originalEvent&&this._isOrIsParent(e.layer._icon,e.originalEvent.relatedTarget))return;t="cluster"+t}L.FeatureGroup.prototype.fire.call(this,t,e,n)},listens:function(t,e){return L.FeatureGroup.prototype.listens.call(this,t,e)||L.FeatureGroup.prototype.listens.call(this,"cluster"+t,e)},_defaultIconCreateFunction:function(t){var e=t.getChildCount(),n=" marker-cluster-";return n+=10>e?"small":100>e?"medium":"large",new L.DivIcon({html:"<div><span>"+e+"</span></div>",className:"marker-cluster"+n,iconSize:new L.Point(40,40)})},_bindEvents:function(){var t=this._map,e=this.options.spiderfyOnMaxZoom,n=this.options.showCoverageOnHover,i=this.options.zoomToBoundsOnClick;(e||i)&&this.on("clusterclick",this._zoomOrSpiderfy,this),n&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),t.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){for(var e=t.layer,n=e;1===n._childClusters.length;)n=n._childClusters[0];n._zoom===this._maxZoom&&n._childCount===e._childCount?this.options.spiderfyOnMaxZoom&&e.spiderfy():this.options.zoomToBoundsOnClick&&e.zoomToBounds(),t.originalEvent&&13===t.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(t){var e=this._map;this._inZoomAnimation||(this._shownPolygon&&e.removeLayer(this._shownPolygon),t.layer.getChildCount()>2&&t.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(t.layer.getConvexHull(),this.options.polygonOptions),
e.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.spiderfyOnMaxZoom,e=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick,i=this._map;(t||n)&&this.off("clusterclick",this._zoomOrSpiderfy,this),e&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),i.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var t=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),t),this._currentShownBounds=t}},_generateInitialClusters:function(){var t=this._map.getMaxZoom(),e=this.options.maxClusterRadius,n=e;"function"!=typeof e&&(n=function(){return e}),this.options.disableClusteringAtZoom&&(t=this.options.disableClusteringAtZoom-1),this._maxZoom=t,this._gridClusters={},this._gridUnclustered={};for(var i=t;i>=0;i--)this._gridClusters[i]=new L.DistanceGrid(n(i)),this._gridUnclustered[i]=new L.DistanceGrid(n(i));this._topClusterLevel=new this._markerCluster(this,-1)},_addLayer:function(t,e){var n,i,o=this._gridClusters,r=this._gridUnclustered;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(t),t.on("move",this._childMarkerMoved,this);e>=0;e--){n=this._map.project(t.getLatLng(),e);var s=o[e].getNearObject(n);if(s)return s._addChild(t),void(t.__parent=s);if(s=r[e].getNearObject(n)){var a=s.__parent;a&&this._removeLayer(s,!1);var l=new this._markerCluster(this,e,s,t);o[e].addObject(l,this._map.project(l._cLatLng,e)),s.__parent=l,t.__parent=l;var h=l;for(i=e-1;i>a._zoom;i--)h=new this._markerCluster(this,i,h),o[i].addObject(h,this._map.project(s.getLatLng(),i));return a._addChild(h),void this._removeFromGridUnclustered(s,e)}r[e].addObject(t,n)}this._topClusterLevel._addChild(t),t.__parent=this._topClusterLevel},_enqueue:function(t){this._queue.push(t),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var t=Math.round(this._map._zoom);this._processQueue(),this._zoom<t&&this._currentShownBounds.contains(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,t)):this._zoom>t?(this._animationStart(),this._animationZoomOut(this._zoom,t)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(t){var e=this._maxLat;return e!==n&&(t.getNorth()>=e&&(t._northEast.lat=1/0),t.getSouth()<=-e&&(t._southWest.lat=-1/0)),t},_animationAddLayerNonAnimated:function(t,e){if(e===t)this._featureGroup.addLayer(t);else if(2===e._childCount){e._addToMap();var n=e.getAllChildMarkers();this._featureGroup.removeLayer(n[0]),this._featureGroup.removeLayer(n[1])}else e._updateIcon()},_overrideMarkerIcon:function(t){var e=t.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[t]}});return e}}),L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(t,e){this._animationAddLayerNonAnimated(t,e)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(t,e){var n,i=this._getExpandedVisibleBounds(),o=this._featureGroup;this._ignoreMove=!0,this._topClusterLevel._recursively(i,t,0,function(r){var s,a=r._latlng,l=r._markers;for(i.contains(a)||(a=null),r._isSingleParent()&&t+1===e?(o.removeLayer(r),r._recursivelyAddChildrenToMap(null,e,i)):(r.clusterHide(),r._recursivelyAddChildrenToMap(a,e,i)),n=l.length-1;n>=0;n--)s=l[n],i.contains(s._latlng)||o.removeLayer(s)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(i,e),o.eachLayer(function(t){t instanceof L.MarkerCluster||!t._icon||t.clusterShow()}),this._topClusterLevel._recursively(i,t,e,function(t){t._recursivelyRestoreChildPositions(e)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(i,t,0,function(t){o.removeLayer(t),t.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(t,e){this._animationZoomOutSingle(this._topClusterLevel,t-1,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t,this._getExpandedVisibleBounds())},_animationAddLayer:function(t,e){var n=this,i=this._featureGroup;i.addLayer(t),e!==t&&(e._childCount>2?(e._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(e.getLatLng())),t.clusterHide(),this._enqueue(function(){i.removeLayer(t),t.clusterShow(),n._animationEnd()})):(this._forceLayout(),n._animationStart(),n._animationZoomOutSingle(e,this._map.getMaxZoom(),this._map.getZoom())))}},_animationZoomOutSingle:function(t,e,n){var i=this._getExpandedVisibleBounds();t._recursivelyAnimateChildrenInAndAddSelfToMap(i,e+1,n);var o=this;this._forceLayout(),t._recursivelyBecomeVisible(i,n),this._enqueue(function(){if(1===t._childCount){var r=t._markers[0];this._ignoreMove=!0,r.setLatLng(r.getLatLng()),this._ignoreMove=!1,r.clusterShow&&r.clusterShow()}else t._recursively(i,n,0,function(t){t._recursivelyRemoveChildrenFromMap(i,e+1)});o._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(e.body.offsetWidth)}}),L.markerClusterGroup=function(t){return new L.MarkerClusterGroup(t)},L.MarkerCluster=L.Marker.extend({initialize:function(t,e,n,i){L.Marker.prototype.initialize.call(this,n?n._cLatLng||n.getLatLng():new L.LatLng(0,0),{icon:this}),this._group=t,this._zoom=e,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,n&&this._addChild(n),i&&this._addChild(i)},getAllChildMarkers:function(t){t=t||[];for(var e=this._childClusters.length-1;e>=0;e--)this._childClusters[e].getAllChildMarkers(t);for(var n=this._markers.length-1;n>=0;n--)t.push(this._markers[n]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(){for(var t,e=this._childClusters.slice(),n=this._group._map,i=n.getBoundsZoom(this._bounds),o=this._zoom+1,r=n.getZoom();e.length>0&&i>o;){o++;var s=[];for(t=0;t<e.length;t++)s=s.concat(e[t]._childClusters);e=s}i>o?this._group._map.setView(this._latlng,o):r>=i?this._group._map.setView(this._latlng,r+1):this._group._map.fitBounds(this._bounds)},getBounds:function(){var t=new L.LatLngBounds;return t.extend(this._bounds),t},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(t,e){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(t),t instanceof L.MarkerCluster?(e||(this._childClusters.push(t),t.__parent=this),this._childCount+=t._childCount):(e||this._markers.push(t),this._childCount++),this.__parent&&this.__parent._addChild(t,!0)},_setClusterCenter:function(t){this._cLatLng||(this._cLatLng=t._cLatLng||t._latlng)},_resetBounds:function(){var t=this._bounds;t._southWest&&(t._southWest.lat=1/0,t._southWest.lng=1/0),t._northEast&&(t._northEast.lat=-1/0,t._northEast.lng=-1/0)},_recalculateBounds:function(){var t,e,n,i,o=this._markers,r=this._childClusters,s=0,a=0,l=this._childCount;if(0!==l){for(this._resetBounds(),t=0;t<o.length;t++)n=o[t]._latlng,this._bounds.extend(n),s+=n.lat,a+=n.lng;for(t=0;t<r.length;t++)e=r[t],e._boundsNeedUpdate&&e._recalculateBounds(),this._bounds.extend(e._bounds),n=e._wLatLng,i=e._childCount,s+=n.lat*i,a+=n.lng*i;this._latlng=this._wLatLng=new L.LatLng(s/l,a/l),this._boundsNeedUpdate=!1}},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(t,e,n){this._recursively(t,0,n-1,function(t){var n,i,o=t._markers;for(n=o.length-1;n>=0;n--)i=o[n],i._icon&&(i._setPos(e),i.clusterHide())},function(t){var n,i,o=t._childClusters;for(n=o.length-1;n>=0;n--)i=o[n],i._icon&&(i._setPos(e),i.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(t,e,n){this._recursively(t,n,0,function(i){i._recursivelyAnimateChildrenIn(t,i._group._map.latLngToLayerPoint(i.getLatLng()).round(),e),i._isSingleParent()&&e-1===n?(i.clusterShow(),i._recursivelyRemoveChildrenFromMap(t,e)):i.clusterHide(),i._addToMap()})},_recursivelyBecomeVisible:function(t,e){this._recursively(t,0,e,null,function(t){t.clusterShow()})},_recursivelyAddChildrenToMap:function(t,e,n){this._recursively(n,-1,e,function(i){if(e!==i._zoom)for(var o=i._markers.length-1;o>=0;o--){var r=i._markers[o];n.contains(r._latlng)&&(t&&(r._backupLatlng=r.getLatLng(),r.setLatLng(t),r.clusterHide&&r.clusterHide()),i._group._featureGroup.addLayer(r))}},function(e){e._addToMap(t)})},_recursivelyRestoreChildPositions:function(t){for(var e=this._markers.length-1;e>=0;e--){var n=this._markers[e];n._backupLatlng&&(n.setLatLng(n._backupLatlng),delete n._backupLatlng)}if(t-1===this._zoom)for(var i=this._childClusters.length-1;i>=0;i--)this._childClusters[i]._restorePosition();else for(var o=this._childClusters.length-1;o>=0;o--)this._childClusters[o]._recursivelyRestoreChildPositions(t)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(t,e,n){var i,o;this._recursively(t,-1,e-1,function(t){for(o=t._markers.length-1;o>=0;o--)i=t._markers[o],n&&n.contains(i._latlng)||(t._group._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow())},function(t){for(o=t._childClusters.length-1;o>=0;o--)i=t._childClusters[o],n&&n.contains(i._latlng)||(t._group._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow())})},_recursively:function(t,e,n,i,o){var r,s,a=this._childClusters,l=this._zoom;if(e>l)for(r=a.length-1;r>=0;r--)s=a[r],t.intersects(s._bounds)&&s._recursively(t,e,n,i,o);else if(i&&i(this),o&&this._zoom===n&&o(this),n>l)for(r=a.length-1;r>=0;r--)s=a[r],t.intersects(s._bounds)&&s._recursively(t,e,n,i,o)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}}),L.Marker.include({clusterHide:function(){return this.options.opacityWhenUnclustered=this.options.opacity||1,this.setOpacity(0)},clusterShow:function(){var t=this.setOpacity(this.options.opacity||this.options.opacityWhenUnclustered);return delete this.options.opacityWhenUnclustered,t}}),L.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(t,e){var n=this._getCoord(e.x),i=this._getCoord(e.y),o=this._grid,r=o[i]=o[i]||{},s=r[n]=r[n]||[],a=L.Util.stamp(t);this._objectPoint[a]=e,s.push(t)},updateObject:function(t,e){this.removeObject(t),this.addObject(t,e)},removeObject:function(t,e){var n,i,o=this._getCoord(e.x),r=this._getCoord(e.y),s=this._grid,a=s[r]=s[r]||{},l=a[o]=a[o]||[];for(delete this._objectPoint[L.Util.stamp(t)],n=0,i=l.length;i>n;n++)if(l[n]===t)return l.splice(n,1),1===i&&delete a[o],!0},eachObject:function(t,e){var n,i,o,r,s,a,l,h=this._grid;for(n in h){s=h[n];for(i in s)for(a=s[i],o=0,r=a.length;r>o;o++)l=t.call(e,a[o]),l&&(o--,r--)}},getNearObject:function(t){var e,n,i,o,r,s,a,l,h=this._getCoord(t.x),u=this._getCoord(t.y),c=this._objectPoint,p=this._sqCellSize,d=null;for(e=u-1;u+1>=e;e++)if(o=this._grid[e])for(n=h-1;h+1>=n;n++)if(r=o[n])for(i=0,s=r.length;s>i;i++)a=r[i],l=this._sqDist(c[L.Util.stamp(a)],t),p>l&&(p=l,d=a);return d},_getCoord:function(t){return Math.floor(t/this._cellSize)},_sqDist:function(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}},function(){L.QuickHull={getDistant:function(t,e){var n=e[1].lat-e[0].lat,i=e[0].lng-e[1].lng;return i*(t.lat-e[0].lat)+n*(t.lng-e[0].lng)},findMostDistantPointFromBaseLine:function(t,e){var n,i,o,r=0,s=null,a=[];for(n=e.length-1;n>=0;n--)i=e[n],o=this.getDistant(i,t),o>0&&(a.push(i),o>r&&(r=o,s=i));return{maxPoint:s,newPoints:a}},buildConvexHull:function(t,e){var n=[],i=this.findMostDistantPointFromBaseLine(t,e);return i.maxPoint?(n=n.concat(this.buildConvexHull([t[0],i.maxPoint],i.newPoints)),n=n.concat(this.buildConvexHull([i.maxPoint,t[1]],i.newPoints))):[t[0]]},getConvexHull:function(t){var e,n=!1,i=!1,o=!1,r=!1,s=null,a=null,l=null,h=null,u=null,c=null;for(e=t.length-1;e>=0;e--){var p=t[e];(n===!1||p.lat>n)&&(s=p,n=p.lat),(i===!1||p.lat<i)&&(a=p,i=p.lat),(o===!1||p.lng>o)&&(l=p,o=p.lng),(r===!1||p.lng<r)&&(h=p,r=p.lng)}i!==n?(c=a,u=s):(c=h,u=l);var d=[].concat(this.buildConvexHull([c,u],t),this.buildConvexHull([u,c],t));return d}}}(),L.MarkerCluster.include({getConvexHull:function(){var t,e,n=this.getAllChildMarkers(),i=[];for(e=n.length-1;e>=0;e--)t=n[e].getLatLng(),i.push(t);return L.QuickHull.getConvexHull(i)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:Math.PI/6,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var t,e=this.getAllChildMarkers(),n=this._group,i=n._map,o=i.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,e.length>=this._circleSpiralSwitchover?t=this._generatePointsSpiral(e.length,o):(o.y+=10,t=this._generatePointsCircle(e.length,o)),this._animationSpiderfy(e,t)}},unspiderfy:function(t){this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(t,e){var n,i,o=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+t),r=o/this._2PI,s=this._2PI/t,a=[];for(a.length=t,n=t-1;n>=0;n--)i=this._circleStartAngle+n*s,a[n]=new L.Point(e.x+r*Math.cos(i),e.y+r*Math.sin(i))._round();return a},_generatePointsSpiral:function(t,e){var n,i=this._group.options.spiderfyDistanceMultiplier,o=i*this._spiralLengthStart,r=i*this._spiralFootSeparation,s=i*this._spiralLengthFactor*this._2PI,a=0,l=[];for(l.length=t,n=t-1;n>=0;n--)a+=r/o+5e-4*n,l[n]=new L.Point(e.x+o*Math.cos(a),e.y+o*Math.sin(a))._round(),o+=s/a;return l},_noanimationUnspiderfy:function(){var t,e,n=this._group,i=n._map,o=n._featureGroup,r=this.getAllChildMarkers();for(n._ignoreMove=!0,this.setOpacity(1),e=r.length-1;e>=0;e--)t=r[e],o.removeLayer(t),t._preSpiderfyLatlng&&(t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng),t.setZIndexOffset&&t.setZIndexOffset(0),t._spiderLeg&&(i.removeLayer(t._spiderLeg),delete t._spiderLeg);n.fire("unspiderfied",{cluster:this,markers:r}),n._ignoreMove=!1,n._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(t,e){var n,i,o,r,s=this._group,a=s._map,l=s._featureGroup,h=this._group.options.spiderLegPolylineOptions;for(s._ignoreMove=!0,n=0;n<t.length;n++)r=a.layerPointToLatLng(e[n]),i=t[n],o=new L.Polyline([this._latlng,r],h),a.addLayer(o),i._spiderLeg=o,i._preSpiderfyLatlng=i._latlng,i.setLatLng(r),i.setZIndexOffset&&i.setZIndexOffset(1e6),l.addLayer(i);this.setOpacity(.3),s._ignoreMove=!1,s.fire("spiderfied",{cluster:this,markers:t})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(t,e){var i,o,r,s,a,l,h=this,u=this._group,c=u._map,p=u._featureGroup,d=this._latlng,f=c.latLngToLayerPoint(d),m=L.Path.SVG,_=L.extend({},this._group.options.spiderLegPolylineOptions),g=_.opacity;for(g===n&&(g=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),m?(_.opacity=0,_.className=(_.className||"")+" leaflet-cluster-spider-leg"):_.opacity=g,u._ignoreMove=!0,i=0;i<t.length;i++)o=t[i],l=c.layerPointToLatLng(e[i]),r=new L.Polyline([d,l],_),c.addLayer(r),o._spiderLeg=r,m&&(s=r._path,a=s.getTotalLength()+.1,s.style.strokeDasharray=a,s.style.strokeDashoffset=a),o.setZIndexOffset&&o.setZIndexOffset(1e6),o.clusterHide&&o.clusterHide(),p.addLayer(o),o._setPos&&o._setPos(f);for(u._forceLayout(),u._animationStart(),i=t.length-1;i>=0;i--)l=c.layerPointToLatLng(e[i]),o=t[i],o._preSpiderfyLatlng=o._latlng,o.setLatLng(l),o.clusterShow&&o.clusterShow(),m&&(r=o._spiderLeg,s=r._path,s.style.strokeDashoffset=0,r.setStyle({opacity:g}));this.setOpacity(.3),u._ignoreMove=!1,setTimeout(function(){u._animationEnd(),u.fire("spiderfied",{cluster:h,markers:t})},200)},_animationUnspiderfy:function(t){var e,n,i,o,r,s,a=this,l=this._group,h=l._map,u=l._featureGroup,c=t?h._latLngToNewLayerPoint(this._latlng,t.zoom,t.center):h.latLngToLayerPoint(this._latlng),p=this.getAllChildMarkers(),d=L.Path.SVG;for(l._ignoreMove=!0,l._animationStart(),this.setOpacity(1),n=p.length-1;n>=0;n--)e=p[n],e._preSpiderfyLatlng&&(e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng,s=!0,e._setPos&&(e._setPos(c),s=!1),e.clusterHide&&(e.clusterHide(),s=!1),s&&u.removeLayer(e),d&&(i=e._spiderLeg,o=i._path,r=o.getTotalLength()+.1,o.style.strokeDashoffset=r,i.setStyle({opacity:0})));l._ignoreMove=!1,setTimeout(function(){var t=0;for(n=p.length-1;n>=0;n--)e=p[n],e._spiderLeg&&t++;for(n=p.length-1;n>=0;n--)e=p[n],e._spiderLeg&&(e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),t>1&&u.removeLayer(e),h.removeLayer(e._spiderLeg),delete e._spiderLeg);l._animationEnd(),l.fire("unspiderfied",{cluster:a,markers:p})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(t){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(t))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(t){return t?t instanceof L.MarkerClusterGroup?t=t._topClusterLevel.getAllChildMarkers():t instanceof L.LayerGroup?t=t._layers:t instanceof L.MarkerCluster?t=t.getAllChildMarkers():t instanceof L.Marker&&(t=[t]):t=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(t),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(t),this},_flagParentsIconsNeedUpdate:function(t){var e,n;for(e in t)for(n=t[e].__parent;n;)n._iconNeedsUpdate=!0,n=n.__parent},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()})},_refreshSingleMarkerModeMarkers:function(t){var e,n;for(e in t)n=t[e],this.hasLayer(n)&&n.setIcon(this._overrideMarkerIcon(n))}}),L.Marker.include({refreshIconOptions:function(t,e){var n=this.options.icon;return L.setOptions(n,t),this.setIcon(n),e&&this.__parent&&this.__parent._group.refreshClusters(this),this}})}(window,document)},{}],12:[function(t,e,n){!function(t,n,i){function o(){var e=t.L;r.noConflict=function(){return t.L=e,this},t.L=r}var r={version:"1.0.0-beta.2"};"object"==typeof e&&"object"==typeof e.exports?e.exports=r:"function"==typeof define&&define.amd&&define(r),"undefined"!=typeof t&&o(),r.Util={extend:function(t){var e,n,i,o;for(n=1,i=arguments.length;i>n;n++){o=arguments[n];for(e in o)t[e]=o[e]}return t},create:Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}(),bind:function(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}},stamp:function(t){return t._leaflet_id=t._leaflet_id||++r.Util.lastId,t._leaflet_id},lastId:0,throttle:function(t,e,n){var i,o,r,s;return s=function(){i=!1,o&&(r.apply(n,o),o=!1)},r=function(){i?o=arguments:(t.apply(n,arguments),setTimeout(s,e),i=!0)}},wrapNum:function(t,e,n){var i=e[1],o=e[0],r=i-o;return t===i&&n?t:((t-o)%r+r)%r+o},falseFn:function(){return!1},formatNum:function(t,e){var n=Math.pow(10,e||5);return Math.round(t*n)/n},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},splitWords:function(t){return r.Util.trim(t).split(/\s+/)},setOptions:function(t,e){t.hasOwnProperty("options")||(t.options=t.options?r.Util.create(t.options):{});for(var n in e)t.options[n]=e[n];return t.options},getParamString:function(t,e,n){var i=[];for(var o in t)i.push(encodeURIComponent(n?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")},template:function(t,e){return t.replace(r.Util.templateRe,function(t,n){var o=e[n];if(o===i)throw new Error("No value provided for variable "+t);return"function"==typeof o&&(o=o(e)),o})},templateRe:/\{ *([\w_]+) *\}/g,isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},indexOf:function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function e(e){return t["webkit"+e]||t["moz"+e]||t["ms"+e]}function n(e){var n=+new Date,o=Math.max(0,16-(n-i));return i=n+o,t.setTimeout(e,o)}var i=0,o=t.requestAnimationFrame||e("RequestAnimationFrame")||n,s=t.cancelAnimationFrame||e("CancelAnimationFrame")||e("CancelRequestAnimationFrame")||function(e){t.clearTimeout(e)};r.Util.requestAnimFrame=function(e,i,s){return s&&o===n?void e.call(i):o.call(t,r.bind(e,i))},r.Util.cancelAnimFrame=function(e){e&&s.call(t,e)}}(),r.extend=r.Util.extend,r.bind=r.Util.bind,r.stamp=r.Util.stamp,r.setOptions=r.Util.setOptions,r.Class=function(){},r.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=e.__super__=this.prototype,i=r.Util.create(n);i.constructor=e,e.prototype=i;for(var o in this)this.hasOwnProperty(o)&&"prototype"!==o&&(e[o]=this[o]);return t.statics&&(r.extend(e,t.statics),delete t.statics),t.includes&&(r.Util.extend.apply(null,[i].concat(t.includes)),delete t.includes),i.options&&(t.options=r.Util.extend(r.Util.create(i.options),t.options)),r.extend(i,t),i._initHooks=[],i.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=i._initHooks.length;e>t;t++)i._initHooks[t].call(this)}},e},r.Class.include=function(t){r.extend(this.prototype,t)},r.Class.mergeOptions=function(t){r.extend(this.prototype.options,t)},r.Class.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n)},r.Evented=r.Class.extend({on:function(t,e,n){if("object"==typeof t)for(var i in t)this._on(i,t[i],e);else{t=r.Util.splitWords(t);for(var o=0,s=t.length;s>o;o++)this._on(t[o],e,n)}return this},off:function(t,e,n){if(t)if("object"==typeof t)for(var i in t)this._off(i,t[i],e);else{t=r.Util.splitWords(t);for(var o=0,s=t.length;s>o;o++)this._off(t[o],e,n)}else delete this._events;return this},_on:function(t,e,n){var i=this._events=this._events||{},o=n&&n!==this&&r.stamp(n);if(o){var s=t+"_idx",a=t+"_len",l=i[s]=i[s]||{},h=r.stamp(e)+"_"+o;l[h]||(l[h]={fn:e,ctx:n},i[a]=(i[a]||0)+1)}else i[t]=i[t]||[],i[t].push({fn:e})},_off:function(t,e,n){var i=this._events,o=t+"_idx",s=t+"_len";if(i){if(!e)return delete i[t],delete i[o],void delete i[s];var a,l,h,u,c,p=n&&n!==this&&r.stamp(n);if(p)c=r.stamp(e)+"_"+p,a=i[o],a&&a[c]&&(u=a[c],delete a[c],i[s]--);else if(a=i[t])for(l=0,h=a.length;h>l;l++)if(a[l].fn===e){u=a[l],a.splice(l,1);break}u&&(u.fn=r.Util.falseFn)}},fire:function(t,e,n){if(!this.listens(t,n))return this;var i=r.Util.extend({},e,{type:t,target:this}),o=this._events;if(o){var s,a,l,h,u=o[t+"_idx"];if(o[t])for(l=o[t].slice(),s=0,a=l.length;a>s;s++)l[s].fn.call(this,i);for(h in u)u[h].fn.call(u[h].ctx,i)}return n&&this._propagateEvent(i),this},listens:function(t,e){var n=this._events;if(n&&(n[t]||n[t+"_len"]))return!0;if(e)for(var i in this._eventParents)if(this._eventParents[i].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"==typeof t){for(var i in t)this.once(i,t[i],e);return this}var o=r.bind(function(){this.off(t,e,n).off(t,o,n)},this);return this.on(t,e,n).on(t,o,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[r.stamp(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[r.stamp(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,r.extend({layer:t.target},t),!0)}});var s=r.Evented.prototype;s.addEventListener=s.on,s.removeEventListener=s.clearAllEventListeners=s.off,s.addOneTimeEventListener=s.once,s.fireEvent=s.fire,s.hasEventListeners=s.listens,r.Mixin={Events:s},function(){var e=navigator.userAgent.toLowerCase(),i=n.documentElement,o="ActiveXObject"in t,s=-1!==e.indexOf("webkit"),a=-1!==e.indexOf("phantom"),l=-1!==e.search("android [23]"),h=-1!==e.indexOf("chrome"),u=-1!==e.indexOf("gecko")&&!s&&!t.opera&&!o,c="undefined"!=typeof orientation||-1!==e.indexOf("mobile"),p=!t.PointerEvent&&t.MSPointerEvent,d=t.PointerEvent&&navigator.pointerEnabled||p,f=o&&"transition"in i.style,m="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix&&!l,_="MozPerspective"in i.style,g="OTransition"in i.style,v=!t.L_NO_TOUCH&&!a&&(d||"ontouchstart"in t||t.DocumentTouch&&n instanceof t.DocumentTouch);r.Browser={ie:o,ielt9:o&&!n.addEventListener,webkit:s,gecko:u,android:-1!==e.indexOf("android"),android23:l,chrome:h,safari:!h&&-1!==e.indexOf("safari"),ie3d:f,webkit3d:m,gecko3d:_,opera12:g,any3d:!t.L_DISABLE_3D&&(f||m||_)&&!g&&!a,mobile:c,mobileWebkit:c&&s,mobileWebkit3d:c&&m,mobileOpera:c&&t.opera,mobileGecko:c&&u,touch:!!v,msPointer:!!p,pointer:!!d,retina:(t.devicePixelRatio||t.screen.deviceXDPI/t.screen.logicalXDPI)>1}}(),r.Point=function(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e},r.Point.prototype={clone:function(){return new r.Point(this.x,this.y)},add:function(t){return this.clone()._add(r.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(r.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new r.Point(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new r.Point(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(t){t=r.point(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return t=r.point(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=r.point(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+r.Util.formatNum(this.x)+", "+r.Util.formatNum(this.y)+")"}},r.point=function(t,e,n){return t instanceof r.Point?t:r.Util.isArray(t)?new r.Point(t[0],t[1]):t===i||null===t?t:new r.Point(t,e,n)},r.Bounds=function(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;o>i;i++)this.extend(n[i])},r.Bounds.prototype={extend:function(t){return t=r.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new r.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new r.Point(this.min.x,this.max.y)},getTopRight:function(){return new r.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return t="number"==typeof t[0]||t instanceof r.Point?r.point(t):r.bounds(t),t instanceof r.Bounds?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=r.bounds(t);var e=this.min,n=this.max,i=t.min,o=t.max,s=o.x>=e.x&&i.x<=n.x,a=o.y>=e.y&&i.y<=n.y;return s&&a},overlaps:function(t){t=r.bounds(t);var e=this.min,n=this.max,i=t.min,o=t.max,s=o.x>e.x&&i.x<n.x,a=o.y>e.y&&i.y<n.y;return s&&a},isValid:function(){return!(!this.min||!this.max)}},r.bounds=function(t,e){return!t||t instanceof r.Bounds?t:new r.Bounds(t,e)},r.Transformation=function(t,e,n,i){this._a=t,this._b=e,this._c=n,this._d=i},r.Transformation.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new r.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}},r.DomUtil={get:function(t){return"string"==typeof t?n.getElementById(t):t},getStyle:function(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!i||"auto"===i)&&n.defaultView){var o=n.defaultView.getComputedStyle(t,null);i=o?o[e]:null}return"auto"===i?null:i},create:function(t,e,i){var o=n.createElement(t);return o.className=e,i&&i.appendChild(o),o},remove:function(t){var e=t.parentNode;e&&e.removeChild(t)},empty:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},toFront:function(t){t.parentNode.appendChild(t);
},toBack:function(t){var e=t.parentNode;e.insertBefore(t,e.firstChild)},hasClass:function(t,e){if(t.classList!==i)return t.classList.contains(e);var n=r.DomUtil.getClass(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)},addClass:function(t,e){if(t.classList!==i)for(var n=r.Util.splitWords(e),o=0,s=n.length;s>o;o++)t.classList.add(n[o]);else if(!r.DomUtil.hasClass(t,e)){var a=r.DomUtil.getClass(t);r.DomUtil.setClass(t,(a?a+" ":"")+e)}},removeClass:function(t,e){t.classList!==i?t.classList.remove(e):r.DomUtil.setClass(t,r.Util.trim((" "+r.DomUtil.getClass(t)+" ").replace(" "+e+" "," ")))},setClass:function(t,e){t.className.baseVal===i?t.className=e:t.className.baseVal=e},getClass:function(t){return t.className.baseVal===i?t.className:t.className.baseVal},setOpacity:function(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&r.DomUtil._setOpacityIE(t,e)},_setOpacityIE:function(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(o){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"},testProp:function(t){for(var e=n.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1},setTransform:function(t,e,n){var i=e||new r.Point(0,0);t.style[r.DomUtil.TRANSFORM]=(r.Browser.ie3d?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")},setPosition:function(t,e){t._leaflet_pos=e,r.Browser.any3d?r.DomUtil.setTransform(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._leaflet_pos}},function(){r.DomUtil.TRANSFORM=r.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]);var e=r.DomUtil.TRANSITION=r.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);if(r.DomUtil.TRANSITION_END="webkitTransition"===e||"OTransition"===e?e+"End":"transitionend","onselectstart"in n)r.DomUtil.disableTextSelection=function(){r.DomEvent.on(t,"selectstart",r.DomEvent.preventDefault)},r.DomUtil.enableTextSelection=function(){r.DomEvent.off(t,"selectstart",r.DomEvent.preventDefault)};else{var i=r.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);r.DomUtil.disableTextSelection=function(){if(i){var t=n.documentElement.style;this._userSelect=t[i],t[i]="none"}},r.DomUtil.enableTextSelection=function(){i&&(n.documentElement.style[i]=this._userSelect,delete this._userSelect)}}r.DomUtil.disableImageDrag=function(){r.DomEvent.on(t,"dragstart",r.DomEvent.preventDefault)},r.DomUtil.enableImageDrag=function(){r.DomEvent.off(t,"dragstart",r.DomEvent.preventDefault)},r.DomUtil.preventOutline=function(e){for(;-1===e.tabIndex;)e=e.parentNode;e&&e.style&&(r.DomUtil.restoreOutline(),this._outlineElement=e,this._outlineStyle=e.style.outline,e.style.outline="none",r.DomEvent.on(t,"keydown",r.DomUtil.restoreOutline,this))},r.DomUtil.restoreOutline=function(){this._outlineElement&&(this._outlineElement.style.outline=this._outlineStyle,delete this._outlineElement,delete this._outlineStyle,r.DomEvent.off(t,"keydown",r.DomUtil.restoreOutline,this))}}(),r.LatLng=function(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,n!==i&&(this.alt=+n)},r.LatLng.prototype={equals:function(t,e){if(!t)return!1;t=r.latLng(t);var n=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return(e===i?1e-9:e)>=n},toString:function(t){return"LatLng("+r.Util.formatNum(this.lat,t)+", "+r.Util.formatNum(this.lng,t)+")"},distanceTo:function(t){return r.CRS.Earth.distance(this,r.latLng(t))},wrap:function(){return r.CRS.Earth.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return r.latLngBounds([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new r.LatLng(this.lat,this.lng,this.alt)}},r.latLng=function(t,e,n){return t instanceof r.LatLng?t:r.Util.isArray(t)&&"object"!=typeof t[0]?3===t.length?new r.LatLng(t[0],t[1],t[2]):2===t.length?new r.LatLng(t[0],t[1]):null:t===i||null===t?t:"object"==typeof t&&"lat"in t?new r.LatLng(t.lat,"lng"in t?t.lng:t.lon,t.alt):e===i?null:new r.LatLng(t,e,n)},r.LatLngBounds=function(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;o>i;i++)this.extend(n[i])},r.LatLngBounds.prototype={extend:function(t){var e,n,i=this._southWest,o=this._northEast;if(t instanceof r.LatLng)e=t,n=t;else{if(!(t instanceof r.LatLngBounds))return t?this.extend(r.latLng(t)||r.latLngBounds(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||o?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),o.lat=Math.max(n.lat,o.lat),o.lng=Math.max(n.lng,o.lng)):(this._southWest=new r.LatLng(e.lat,e.lng),this._northEast=new r.LatLng(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,o=Math.abs(e.lng-n.lng)*t;return new r.LatLngBounds(new r.LatLng(e.lat-i,e.lng-o),new r.LatLng(n.lat+i,n.lng+o))},getCenter:function(){return new r.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new r.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new r.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof r.LatLng?r.latLng(t):r.latLngBounds(t);var e,n,i=this._southWest,o=this._northEast;return t instanceof r.LatLngBounds?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=o.lat&&e.lng>=i.lng&&n.lng<=o.lng},intersects:function(t){t=r.latLngBounds(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),s=o.lat>=e.lat&&i.lat<=n.lat,a=o.lng>=e.lng&&i.lng<=n.lng;return s&&a},overlaps:function(t){t=r.latLngBounds(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),s=o.lat>e.lat&&i.lat<n.lat,a=o.lng>e.lng&&i.lng<n.lng;return s&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t){return t?(t=r.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast())):!1},isValid:function(){return!(!this._southWest||!this._northEast)}},r.latLngBounds=function(t,e){return!t||t instanceof r.LatLngBounds?t:new r.LatLngBounds(t,e)},r.Projection={},r.Projection.LonLat={project:function(t){return new r.Point(t.lng,t.lat)},unproject:function(t){return new r.LatLng(t.y,t.x)},bounds:r.bounds([-180,-90],[180,90])},r.Projection.SphericalMercator={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),o=Math.sin(i*e);return new r.Point(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new r.LatLng((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=6378137*Math.PI;return r.bounds([-t,-t],[t,t])}()},r.CRS={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t),i=this.transformation.transform(e.min,n),o=this.transformation.transform(e.max,n);return r.bounds(i,o)},wrapLatLng:function(t){var e=this.wrapLng?r.Util.wrapNum(t.lng,this.wrapLng,!0):t.lng,n=this.wrapLat?r.Util.wrapNum(t.lat,this.wrapLat,!0):t.lat,i=t.alt;return r.latLng(n,e,i)}},r.CRS.Simple=r.extend({},r.CRS,{projection:r.Projection.LonLat,transformation:new r.Transformation(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0}),r.CRS.Earth=r.extend({},r.CRS,{wrapLng:[-180,180],R:6378137,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,o=e.lat*n,r=Math.sin(i)*Math.sin(o)+Math.cos(i)*Math.cos(o)*Math.cos((e.lng-t.lng)*n);return this.R*Math.acos(Math.min(r,1))}}),r.CRS.EPSG3857=r.extend({},r.CRS.Earth,{code:"EPSG:3857",projection:r.Projection.SphericalMercator,transformation:function(){var t=.5/(Math.PI*r.Projection.SphericalMercator.R);return new r.Transformation(t,.5,-t,.5)}()}),r.CRS.EPSG900913=r.extend({},r.CRS.EPSG3857,{code:"EPSG:900913"}),r.CRS.EPSG4326=r.extend({},r.CRS.Earth,{code:"EPSG:4326",projection:r.Projection.LonLat,transformation:new r.Transformation(1/180,1,-1/180,.5)}),r.Map=r.Evented.extend({options:{crs:r.CRS.EPSG3857,fadeAnimation:!0,trackResize:!0,markerZoomAnimation:!0,maxBoundsViscosity:0,transform3DLimit:8388608},initialize:function(t,e){e=r.setOptions(this,e),this._initContainer(t),this._initLayout(),this._onResize=r.bind(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==i&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==i&&this.setView(r.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._addLayers(this.options.layers)},setView:function(t,e){return e=e===i?this.getZoom():e,this._resetView(r.latLng(t),e),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return this.setZoom(this._zoom+(t||1),e)},zoomOut:function(t,e){return this.setZoom(this._zoom-(t||1),e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),o=this.getSize().divideBy(2),s=t instanceof r.Point?t:this.latLngToContainerPoint(t),a=s.subtract(o).multiplyBy(1-1/i),l=this.containerPointToLatLng(o.add(a));return this.setView(l,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():r.latLngBounds(t);var n=r.point(e.paddingTopLeft||e.padding||[0,0]),i=r.point(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,n.add(i));o=e.maxZoom?Math.min(e.maxZoom,o):o;var s=i.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),o),l=this.project(t.getNorthEast(),o),h=this.unproject(a.add(l).divideBy(2).add(s),o);return{center:h,zoom:o}},fitBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t){return this.fire("movestart"),this._rawPanBy(r.point(t)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(t){return(t=r.latLngBounds(t))?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):this.off("moveend",this._panInsideMaxBounds)},setMinZoom:function(t){return this.options.minZoom=t,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(t):this},setMaxZoom:function(t){return this.options.maxZoom=t,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,r.latLngBounds(t));return n.equals(i)?this:(this.panTo(i,e),this._enforcingBounds=!1,this)},invalidateSize:function(t){if(!this._loaded)return this;t=r.extend({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),i=e.divideBy(2).round(),o=n.divideBy(2).round(),s=i.subtract(o);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n})):this},stop:function(){return r.Util.cancelAnimFrame(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){this._initEvents(!0);try{delete this._container._leaflet}catch(t){this._container._leaflet=i}r.DomUtil.remove(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload");for(var e in this._layers)this._layers[e].remove();return this},createPane:function(t,e){var n="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),i=r.DomUtil.create("div",n,e||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new r.LatLngBounds(e,n)},getMinZoom:function(){return this.options.minZoom===i?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===i?this._layersMaxZoom===i?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=r.latLngBounds(t);var i,o=this.getMinZoom()-(e?1:0),s=this.getMaxZoom(),a=this.getSize(),l=t.getNorthWest(),h=t.getSouthEast(),u=!0;n=r.point(n||[0,0]);do o++,i=this.project(h,o).subtract(this.project(l,o)).add(n).floor(),u=e?i.x<a.x||i.y<a.y:a.contains(i);while(u&&s>=o);return u&&e?null:e?o:o-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new r.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new r.Bounds(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===i?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=e===i?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;return e=e===i?this._zoom:e,n.zoom(t*n.scale(e))},project:function(t,e){return e=e===i?this._zoom:e,this.options.crs.latLngToPoint(r.latLng(t),e)},unproject:function(t,e){return e=e===i?this._zoom:e,this.options.crs.pointToLatLng(r.point(t),e)},layerPointToLatLng:function(t){var e=r.point(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(r.latLng(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(r.latLng(t))},distance:function(t,e){return this.options.crs.distance(r.latLng(t),r.latLng(e))},containerPointToLayerPoint:function(t){return r.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return r.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(r.point(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(r.latLng(t)))},mouseEventToContainerPoint:function(t){return r.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=r.DomUtil.get(t);if(!e)throw new Error("Map container not found.");if(e._leaflet)throw new Error("Map container is already initialized.");r.DomEvent.addListener(e,"scroll",this._onScroll,this),e._leaflet=!0},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&r.Browser.any3d,r.DomUtil.addClass(t,"leaflet-container"+(r.Browser.touch?" leaflet-touch":"")+(r.Browser.retina?" leaflet-retina":"")+(r.Browser.ielt9?" leaflet-oldie":"")+(r.Browser.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=r.DomUtil.getStyle(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),r.DomUtil.setPosition(this._mapPane,new r.Point(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(r.DomUtil.addClass(t.markerPane,"leaflet-zoom-hide"),r.DomUtil.addClass(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){r.DomUtil.setPosition(this._mapPane,new r.Point(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e);var i=this._zoom!==e;this._moveStart(i)._move(t,e)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t){return t&&this.fire("zoomstart"),this.fire("movestart")},_move:function(t,e,n){e===i&&(e=this._zoom);var o=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),o&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_rawPanBy:function(t){r.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){if(r.DomEvent){this._targets={},this._targets[r.stamp(this._container)]=this;var n=e?"off":"on";r.DomEvent[n](this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&r.DomEvent[n](t,"resize",this._onResize,this),r.Browser.any3d&&this.options.transform3DLimit&&this[n]("moveend",this._onMoveEnd)}},_onResize:function(){r.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=r.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,i=[],o="mouseout"===e||"mouseover"===e,s=t.target||t.srcElement;s;){if(n=this._targets[r.stamp(s)],n&&n.listens(e,!0)){if(o&&!r.DomEvent._isExternalTarget(s,t))break;if(i.push(n),o)break}if(s===this._container)break;s=s.parentNode}return i.length||o||!r.DomEvent._isExternalTarget(s,t)||(i=[this]),i},_handleDOMEvent:function(t){if(this._loaded&&!r.DomEvent._skipped(t)){var e="keypress"===t.type&&13===t.keyCode?"click":t.type;if("click"===t.type){var n=r.Util.extend({},t);n.type="preclick",this._handleDOMEvent(n)}"mousedown"===e&&r.DomUtil.preventOutline(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_fireDOMEvent:function(t,e,n){if(!t._stopped&&(n=(n||[]).concat(this._findEventTargets(t,e)),n.length)){var i=n[0];if("contextmenu"===e&&i.listens(e,!0)&&r.DomEvent.preventDefault(t),"click"!==t.type&&"preclick"!==t.type||t._simulated||!this._draggableMoved(i)){var o={originalEvent:t};if("keypress"!==t.type){var s=i instanceof r.Marker;o.containerPoint=s?this.latLngToContainerPoint(i.getLatLng()):this.mouseEventToContainerPoint(t),o.layerPoint=this.containerPointToLayerPoint(o.containerPoint),o.latlng=s?i.getLatLng():this.layerPointToLatLng(o.layerPoint)}for(var a=0;a<n.length;a++)if(n[a].fire(e,o,!0),o.originalEvent._stopped||n[a].options.nonBubblingEvents&&-1!==r.Util.indexOf(n[a].options.nonBubblingEvents,e))return}}},_draggableMoved:function(t){return t=t.options.draggable?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;e>t;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return r.DomUtil.getPosition(this._mapPane)||new r.Point(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var n=t&&e!==i?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return n.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),o=this.getSize().divideBy(2),s=new r.Bounds(i.subtract(o),i.add(o)),a=this._getBoundsOffset(s,n,e);return this.unproject(i.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new r.Bounds(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=this.project(e.getNorthWest(),n).subtract(t.min),o=this.project(e.getSouthEast(),n).subtract(t.max),s=this._rebound(i.x,-o.x),a=this._rebound(i.y,-o.y);return new r.Point(s,a)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom();return r.Browser.any3d||(t=Math.round(t)),Math.max(e,Math.min(n,t))}}),r.map=function(t,e){return new r.Map(t,e)},r.Layer=r.Evented.extend({options:{pane:"overlayPane",nonBubblingEvents:[]},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[r.stamp(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[r.stamp(t)],this},_layerAdd:function(t){var e=t.target;e.hasLayer(this)&&(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents&&e.on(this.getEvents(),this),this.onAdd(e),this.getAttribution&&this._map.attributionControl&&this._map.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this}))}}),r.Map.include({addLayer:function(t){var e=r.stamp(t);return this._layers[e]?t:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=r.stamp(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),t.getEvents&&this.off(t.getEvents(),t),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&r.stamp(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){t=t?r.Util.isArray(t)?t:[t]:[];for(var e=0,n=t.length;n>e;e++)this.addLayer(t[e])},_addZoomLimit:function(t){(isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[r.stamp(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=r.stamp(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-(1/0),n=this._getZoomSpan();for(var o in this._zoomBoundLayers){var r=this._zoomBoundLayers[o].options;t=r.minZoom===i?t:Math.min(t,r.minZoom),e=r.maxZoom===i?e:Math.max(e,r.maxZoom)}this._layersMaxZoom=e===-(1/0)?i:e,this._layersMinZoom=t===1/0?i:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange")}}),r.Projection.Mercator={R:6378137,R_MINOR:6356752.314245179,bounds:r.bounds([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,o=this.R_MINOR/n,s=Math.sqrt(1-o*o),a=s*Math.sin(i),l=Math.tan(Math.PI/4-i/2)/Math.pow((1-a)/(1+a),s/2);return i=-n*Math.log(Math.max(l,1e-10)),new r.Point(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,o=this.R_MINOR/i,s=Math.sqrt(1-o*o),a=Math.exp(-t.y/i),l=Math.PI/2-2*Math.atan(a),h=0,u=.1;15>h&&Math.abs(u)>1e-7;h++)e=s*Math.sin(l),e=Math.pow((1-e)/(1+e),s/2),u=Math.PI/2-2*Math.atan(a*e)-l,l+=u;return new r.LatLng(l*n,t.x*n/i)}},r.CRS.EPSG3395=r.extend({},r.CRS.Earth,{code:"EPSG:3395",projection:r.Projection.Mercator,transformation:function(){var t=.5/(Math.PI*r.Projection.Mercator.R);return new r.Transformation(t,.5,-t,.5)}()}),r.GridLayer=r.Layer.extend({options:{pane:"tilePane",tileSize:256,opacity:1,zIndex:1,updateWhenIdle:r.Browser.mobile,updateInterval:200,attribution:null,bounds:null,minZoom:0},initialize:function(t){t=r.setOptions(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){r.DomUtil.remove(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=null},bringToFront:function(){return this._map&&(r.DomUtil.toFront(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(r.DomUtil.toBack(this._container),this._setAutoZIndex(Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewreset:this._resetAll,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=r.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return n.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof r.Point?t:new r.Point(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==i&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-(1/0),1/0),o=0,r=n.length;r>o;o++)e=n[o].style.zIndex,n[o]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!r.Browser.ielt9&&this._map._fadeAnimated){r.DomUtil.setOpacity(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var o=this._tiles[i];if(o.current&&o.loaded){var s=Math.min(1,(t-o.loaded)/200);r.DomUtil.setOpacity(o.el,s),1>s?e=!0:(o.active&&(n=!0),o.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(r.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=r.Util.requestAnimFrame(this._updateOpacity,this))}},_initContainer:function(){this._container||(this._container=r.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;for(var n in this._levels)this._levels[n].el.children.length||n===t?this._levels[n].el.style.zIndex=e-Math.abs(t-n):(r.DomUtil.remove(this._levels[n].el),delete this._levels[n]);var i=this._levels[t],o=this._map;return i||(i=this._levels[t]={},i.el=r.DomUtil.create("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,o.getCenter(),o.getZoom()),r.Util.falseFn(i.el.offsetWidth)),this._level=i,i},_pruneTiles:function(){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)return this._removeAllTiles();for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_resetAll:function(){for(var t in this._levels)r.DomUtil.remove(this._levels[t].el),delete this._levels[t];this._removeAllTiles(),this._tileZoom=null,this._resetView()},_retainParent:function(t,e,n,i){var o=Math.floor(t/2),r=Math.floor(e/2),s=n-1,a=o+":"+r+":"+s,l=this._tiles[a];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),s>i?this._retainParent(o,r,s,i):!1)},_retainChildren:function(t,e,n,i){for(var o=2*t;2*t+2>o;o++)for(var r=2*e;2*e+2>r;r++){var s=o+":"+r+":"+(n+1),a=this._tiles[s];a&&a.active?a.retain=!0:(a&&a.loaded&&(a.retain=!0),i>n+1&&this._retainChildren(o,r,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_setView:function(t,e,n,o){var r=Math.round(e);(this.options.maxZoom!==i&&r>this.options.maxZoom||this.options.minZoom!==i&&r<this.options.minZoom)&&(r=i);var s=r!==this._tileZoom;(!o||s)&&(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),r!==i&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),o=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();r.Browser.any3d?r.DomUtil.setTransform(t.el,o,i):r.DomUtil.setPosition(t.el,o)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._resetView()},_getTiledPixelBounds:function(t,e,n){var i=this._map,o=i.getZoomScale(e,n),s=i.project(t,n).floor(),a=i.getSize().divideBy(2*o);return new r.Bounds(s.subtract(a),s.add(a))},_update:function(t){var e=this._map;if(e){var o=e.getZoom();if(t===i&&(t=e.getCenter()),this._tileZoom!==i){var s=this._getTiledPixelBounds(t,o,this._tileZoom),a=this._pxBoundsToTileRange(s),l=a.getCenter(),h=[];for(var u in this._tiles)this._tiles[u].current=!1;if(Math.abs(o-this._tileZoom)>1)return void this._setView(t,o);for(var c=a.min.y;c<=a.max.y;c++)for(var p=a.min.x;p<=a.max.x;p++){var d=new r.Point(p,c);if(d.z=this._tileZoom,this._isValidTile(d)){var f=this._tiles[this._tileCoordsToKey(d)];
f?f.current=!0:h.push(d)}}if(h.sort(function(t,e){return t.distanceTo(l)-e.distanceTo(l)}),0!==h.length){this._loading||(this._loading=!0,this.fire("loading"));var m=n.createDocumentFragment();for(p=0;p<h.length;p++)this._addTile(h[p],m);this._level.el.appendChild(m)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return r.latLngBounds(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToBounds:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),o=i.add(n),s=e.wrapLatLng(e.unproject(i,t.z)),a=e.wrapLatLng(e.unproject(o,t.z));return new r.LatLngBounds(s,a)},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new r.Point(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(r.DomUtil.remove(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){r.DomUtil.addClass(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=r.Util.falseFn,t.onmousemove=r.Util.falseFn,r.Browser.ielt9&&this.options.opacity<1&&r.DomUtil.setOpacity(t,this.options.opacity),r.Browser.android&&!r.Browser.android23&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),r.bind(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&r.Util.requestAnimFrame(r.bind(this._tileReady,this,t,null,o)),r.DomUtil.setPosition(o,n),this._tiles[i]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,n){if(this._map){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var i=this._tileCoordsToKey(t);n=this._tiles[i],n&&(n.loaded=+new Date,this._map._fadeAnimated?(r.DomUtil.setOpacity(n.el,0),r.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=r.Util.requestAnimFrame(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),r.DomUtil.addClass(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t}),this._noTilesToLoad()&&(this._loading=!1,this.fire("load")))}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new r.Point(this._wrapX?r.Util.wrapNum(t.x,this._wrapX):t.x,this._wrapY?r.Util.wrapNum(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new r.Bounds(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),r.gridLayer=function(t){return new r.GridLayer(t)},r.TileLayer=r.GridLayer.extend({options:{maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,maxNativeZoom:null,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,e=r.setOptions(this,e),e.detectRetina&&r.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomOffset++,e.minZoom=Math.max(0,e.minZoom),e.maxZoom--),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),r.Browser.android||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=n.createElement("img");return r.DomEvent.on(i,"load",r.bind(this._tileOnLoad,this,e,i)),r.DomEvent.on(i,"error",r.bind(this._tileOnError,this,e,i)),this.options.crossOrigin&&(i.crossOrigin=""),i.alt="",i.src=this.getTileUrl(t),i},getTileUrl:function(t){return r.Util.template(this._url,r.extend({r:this.options.detectRetina&&r.Browser.retina&&this.options.maxZoom>0?"@2x":"",s:this._getSubdomain(t),x:t.x,y:this.options.tms?this._globalTileRange.max.y-t.y:t.y,z:this._getZoomForUrl()},this.options))},_tileOnLoad:function(t,e){r.Browser.ielt9?setTimeout(r.bind(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&(e.src=i),t(n,e)},getTileSize:function(){var t=this._map,e=r.GridLayer.prototype.getTileSize.call(this),n=this._tileZoom+this.options.zoomOffset,i=this.options.maxNativeZoom;return null!==i&&n>i?e.divideBy(t.getZoomScale(i,n)).round():e},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this.options,e=this._tileZoom;return t.zoomReverse&&(e=t.maxZoom-e),e+=t.zoomOffset,null!==t.maxNativeZoom?Math.min(e,t.maxNativeZoom):e},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=r.Util.falseFn,e.onerror=r.Util.falseFn,e.complete||(e.src=r.Util.emptyImageUrl,r.DomUtil.remove(e)))}}),r.tileLayer=function(t,e){return new r.TileLayer(t,e)},r.TileLayer.WMS=r.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var n=r.extend({},this.defaultWmsParams);for(var i in e)i in this.options||(n[i]=e[i]);e=r.setOptions(this,e),n.width=n.height=e.tileSize*(e.detectRetina&&r.Browser.retina?2:1),this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,r.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToBounds(t),n=this._crs.project(e.getNorthWest()),i=this._crs.project(e.getSouthEast()),o=(this._wmsVersion>=1.3&&this._crs===r.CRS.EPSG4326?[i.y,n.x,n.y,i.x]:[n.x,i.y,i.x,n.y]).join(","),s=r.TileLayer.prototype.getTileUrl.call(this,t);return s+r.Util.getParamString(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+o},setParams:function(t,e){return r.extend(this.wmsParams,t),e||this.redraw(),this}}),r.tileLayer.wms=function(t,e){return new r.TileLayer.WMS(t,e)},r.ImageOverlay=r.Layer.extend({options:{opacity:1,alt:"",interactive:!1},initialize:function(t,e,n){this._url=t,this._bounds=r.latLngBounds(e),r.setOptions(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(r.DomUtil.addClass(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){r.DomUtil.remove(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&r.DomUtil.toFront(this._image),this},bringToBack:function(){return this._map&&r.DomUtil.toBack(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=t,this._map&&this._reset(),this},getAttribution:function(){return this.options.attribution},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._image=r.DomUtil.create("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""));t.onselectstart=r.Util.falseFn,t.onmousemove=r.Util.falseFn,t.onload=r.bind(this.fire,this,"load"),this.options.crossOrigin&&(t.crossOrigin=""),t.src=this._url,t.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngToNewLayerPoint(this._bounds.getNorthWest(),t.zoom,t.center);r.DomUtil.setTransform(this._image,n,e)},_reset:function(){var t=this._image,e=new r.Bounds(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();r.DomUtil.setPosition(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){r.DomUtil.setOpacity(this._image,this.options.opacity)}}),r.imageOverlay=function(t,e,n){return new r.ImageOverlay(t,e,n)},r.Icon=r.Class.extend({initialize:function(t){r.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n=this.options,i=r.point(n[e+"Size"]),o=r.point("shadow"===e&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),i&&(t.style.width=i.x+"px",t.style.height=i.y+"px")},_createImg:function(t,e){return e=e||n.createElement("img"),e.src=t,e},_getIconUrl:function(t){return r.Browser.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),r.icon=function(t){return new r.Icon(t)},r.Icon.Default=r.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(t){var e=t+"Url";if(this.options[e])return this.options[e];var n=r.Icon.Default.imagePath;if(!n)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return n+"/marker-"+t+(r.Browser.retina&&"icon"===t?"-2x":"")+".png"}}),r.Icon.Default.imagePath=function(){var t,e,i,o,r=n.getElementsByTagName("script"),s=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(t=0,e=r.length;e>t;t++)if(i=r[t].src||"",i.match(s))return o=i.split(s)[0],(o?o+"/":"")+"images"}(),r.Marker=r.Layer.extend({options:{pane:"markerPane",nonBubblingEvents:["click","dblclick","mouseover","mouseout","contextmenu"],icon:new r.Icon.Default,interactive:!0,keyboard:!0,zIndexOffset:0,opacity:1,riseOffset:250},initialize:function(t,e){r.setOptions(this,e),this._latlng=r.latLng(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._initIcon(),this.update()},onRemove:function(){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),this._removeIcon(),this._removeShadow()},getEvents:function(){var t={zoom:this.update,viewreset:this.update};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=r.latLng(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),t.alt&&(n.alt=t.alt)),r.DomUtil.addClass(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=t.icon.createShadow(this._shadow),s=!1;o!==this._shadow&&(this._removeShadow(),s=!0),o&&r.DomUtil.addClass(o,e),this._shadow=o,t.opacity<1&&this._updateOpacity(),i&&(this.getPane().appendChild(this._icon),this._initInteraction()),o&&s&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),r.DomUtil.remove(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&r.DomUtil.remove(this._shadow),this._shadow=null},_setPos:function(t){r.DomUtil.setPosition(this._icon,t),this._shadow&&r.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(r.DomUtil.addClass(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),r.Handler.MarkerDrag)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new r.Handler.MarkerDrag(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;r.DomUtil.setOpacity(this._icon,t),this._shadow&&r.DomUtil.setOpacity(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),r.marker=function(t,e){return new r.Marker(t,e)},r.DivIcon=r.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:n.createElement("div"),i=this.options;return e.innerHTML=i.html!==!1?i.html:"",i.bgPos&&(e.style.backgroundPosition=-i.bgPos.x+"px "+-i.bgPos.y+"px"),this._setIconStyles(e,"icon"),e},createShadow:function(){return null}}),r.divIcon=function(t){return new r.DivIcon(t)},r.Map.mergeOptions({closePopupOnClick:!0}),r.Popup=r.Layer.extend({options:{pane:"popupPane",minWidth:50,maxWidth:300,offset:[0,7],autoPan:!0,autoPanPadding:[5,5],closeButton:!0,autoClose:!0,zoomAnimation:!0},initialize:function(t,e){r.setOptions(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&this.options.zoomAnimation,this._container||this._initLayout(),t._fadeAnimated&&r.DomUtil.setOpacity(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&r.DomUtil.setOpacity(this._container,1),t.fire("popupopen",{popup:this}),this._source&&this._source.fire("popupopen",{popup:this},!0)},openOn:function(t){return t.openPopup(this),this},onRemove:function(t){t._fadeAnimated?(r.DomUtil.setOpacity(this._container,0),this._removeTimeout=setTimeout(r.bind(r.DomUtil.remove,r.DomUtil,this._container),200)):r.DomUtil.remove(this._container),t.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this},!0)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=r.latLng(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&r.DomUtil.toFront(this._container),this},bringToBack:function(){return this._map&&r.DomUtil.toBack(this._container),this},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=r.DomUtil.create("div",t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"));if(this.options.closeButton){var n=this._closeButton=r.DomUtil.create("a",t+"-close-button",e);n.href="#close",n.innerHTML="&#215;",r.DomEvent.on(n,"click",this._onCloseButtonClick,this)}var i=this._wrapper=r.DomUtil.create("div",t+"-content-wrapper",e);this._contentNode=r.DomUtil.create("div",t+"-content",i),r.DomEvent.disableClickPropagation(i).disableScrollPropagation(this._contentNode).on(i,"contextmenu",r.DomEvent.stopPropagation),this._tipContainer=r.DomUtil.create("div",t+"-tip-container",e),this._tip=r.DomUtil.create("div",t+"-tip",this._tipContainer)},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,o=this.options.maxHeight,s="leaflet-popup-scrolled";o&&i>o?(e.height=o+"px",r.DomUtil.addClass(t,s)):r.DomUtil.removeClass(t,s),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=r.point(this.options.offset);this._zoomAnimated?r.DomUtil.setPosition(this._container,t):e=e.add(t);var n=this._containerBottom=-e.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=n+"px",this._container.style.left=i+"px"}},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);r.DomUtil.setPosition(this._container,e)},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var t=this._map,e=this._container.offsetHeight,n=this._containerWidth,i=new r.Point(this._containerLeft,-e-this._containerBottom);this._zoomAnimated&&i._add(r.DomUtil.getPosition(this._container));var o=t.layerPointToContainerPoint(i),s=r.point(this.options.autoPanPadding),a=r.point(this.options.autoPanPaddingTopLeft||s),l=r.point(this.options.autoPanPaddingBottomRight||s),h=t.getSize(),u=0,c=0;o.x+n+l.x>h.x&&(u=o.x+n-h.x+l.x),o.x-u-a.x<0&&(u=o.x-a.x),o.y+e+l.y>h.y&&(c=o.y+e-h.y+l.y),o.y-c-a.y<0&&(c=o.y-a.y),(u||c)&&t.fire("autopanstart").panBy([u,c])}},_onCloseButtonClick:function(t){this._close(),r.DomEvent.stop(t)}}),r.popup=function(t,e){return new r.Popup(t,e)},r.Map.include({openPopup:function(t,e,n){return t instanceof r.Popup||(t=new r.Popup(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),r.Layer.include({bindPopup:function(t,e){return t instanceof r.Popup?(r.setOptions(t,e),this._popup=t,t._source=this):((!this._popup||e)&&(this._popup=new r.Popup(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this._originalPopupOffset=this._popup.options.offset,this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof r.Layer||(e=t,t=this),t instanceof r.FeatureGroup)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup.options.offset=this._popupAnchor(t),this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;if(this._popup&&this._map)return e instanceof r.Path?void this.openPopup(t.layer||t.target,t.latlng):void(this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_popupAnchor:function(t){var e=t._getPopupAnchor?t._getPopupAnchor():[0,0],n=this._originalPopupOffset||r.Popup.prototype.options.offset;return r.point(e).add(n)},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),r.Marker.include({_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]}}),r.LayerGroup=r.Layer.extend({initialize:function(t){this._layers={};var e,n;if(t)for(e=0,n=t.length;n>e;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){for(var t in this._layers)this.removeLayer(this._layers[t]);return this},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)n=this._layers[e],n[t]&&n[t].apply(n,i);return this},onAdd:function(t){for(var e in this._layers)t.addLayer(this._layers[e])},onRemove:function(t){for(var e in this._layers)t.removeLayer(this._layers[e])},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return r.stamp(t)}}),r.layerGroup=function(t){return new r.LayerGroup(t)},r.FeatureGroup=r.LayerGroup.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),r.LayerGroup.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),r.LayerGroup.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new r.LatLngBounds;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),r.featureGroup=function(t){return new r.FeatureGroup(t)},r.Renderer=r.Layer.extend({options:{padding:.1},initialize:function(t){r.setOptions(this,t),r.stamp(this)},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&r.DomUtil.addClass(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update()},onRemove:function(){r.DomUtil.remove(this._container)},getEvents:function(){var t={viewreset:this._reset,zoomstart:this._onZoomStart,zoom:this._onZoom,moveend:this._update};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_onZoomStart:function(){this._update()},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=r.DomUtil.getPosition(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),s=this._map.project(this._center,e),a=this._map.project(t,e),l=a.subtract(s),h=o.multiplyBy(-n).add(i).add(o).subtract(l);r.DomUtil.setTransform(this._container,h,n)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom)},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new r.Bounds(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),r.Map.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this.options.preferCanvas&&r.canvas()||r.svg()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||t===i)return!1;var e=this._paneRenderers[t];return e===i&&(e=r.SVG&&r.svg({pane:t})||r.Canvas&&r.canvas({pane:t}),this._paneRenderers[t]=e),e}}),r.Path=r.Layer.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",fillOpacity:.2,fillRule:"evenodd",interactive:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},getEvents:function(){return{zoomend:this._project,moveend:this._update,viewreset:this._reset}},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return r.setOptions(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(r.Browser.touch?10:0)}}),r.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=this._reducePoints(t,n),t=this._simplifyDP(t,n)},pointToSegmentDistance:function(t,e,n){return Math.sqrt(this._sqClosestPointOnSegment(t,e,n,!0))},closestPointOnSegment:function(t,e,n){return this._sqClosestPointOnSegment(t,e,n)},_simplifyDP:function(t,e){var n=t.length,o=typeof Uint8Array!=i+""?Uint8Array:Array,r=new o(n);r[0]=r[n-1]=1,this._simplifyDPStep(t,r,e,0,n-1);var s,a=[];for(s=0;n>s;s++)r[s]&&a.push(t[s]);return a},_simplifyDPStep:function(t,e,n,i,o){var r,s,a,l=0;for(s=i+1;o-1>=s;s++)a=this._sqClosestPointOnSegment(t[s],t[i],t[o],!0),a>l&&(r=s,l=a);l>n&&(e[r]=1,this._simplifyDPStep(t,e,n,i,r),this._simplifyDPStep(t,e,n,r,o))},_reducePoints:function(t,e){for(var n=[t[0]],i=1,o=0,r=t.length;r>i;i++)this._sqDist(t[i],t[o])>e&&(n.push(t[i]),o=i);return r-1>o&&n.push(t[r-1]),n},clipSegment:function(t,e,n,i,o){var r,s,a,l=i?this._lastCode:this._getBitCode(t,n),h=this._getBitCode(e,n);for(this._lastCode=h;;){if(!(l|h))return[t,e];if(l&h)return!1;r=l||h,s=this._getEdgeIntersection(t,e,r,n,o),a=this._getBitCode(s,n),r===l?(t=s,l=a):(e=s,h=a)}},_getEdgeIntersection:function(t,e,n,i,o){var s,a,l=e.x-t.x,h=e.y-t.y,u=i.min,c=i.max;return 8&n?(s=t.x+l*(c.y-t.y)/h,a=c.y):4&n?(s=t.x+l*(u.y-t.y)/h,a=u.y):2&n?(s=c.x,a=t.y+h*(c.x-t.x)/l):1&n&&(s=u.x,a=t.y+h*(u.x-t.x)/l),new r.Point(s,a,o)},_getBitCode:function(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n},_sqDist:function(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i},_sqClosestPointOnSegment:function(t,e,n,i){var o,s=e.x,a=e.y,l=n.x-s,h=n.y-a,u=l*l+h*h;return u>0&&(o=((t.x-s)*l+(t.y-a)*h)/u,o>1?(s=n.x,a=n.y):o>0&&(s+=l*o,a+=h*o)),l=t.x-s,h=t.y-a,i?l*l+h*h:new r.Point(s,a)}},r.Polyline=r.Path.extend({options:{smoothFactor:1},initialize:function(t,e){r.setOptions(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,o=null,s=r.LineUtil._sqClosestPointOnSegment,a=0,l=this._parts.length;l>a;a++)for(var h=this._parts[a],u=1,c=h.length;c>u;u++){e=h[u-1],n=h[u];var p=s(t,e,n,!0);i>p&&(i=p,o=s(t,e,n))}return o&&(o.distance=Math.sqrt(i)),o},getCenter:function(){var t,e,n,i,o,r,s,a=this._rings[0],l=a.length;if(!l)return null;for(t=0,e=0;l-1>t;t++)e+=a[t].distanceTo(a[t+1])/2;if(0===e)return this._map.layerPointToLatLng(a[0]);for(t=0,i=0;l-1>t;t++)if(o=a[t],r=a[t+1],n=o.distanceTo(r),i+=n,i>e)return s=(i-e)/n,this._map.layerPointToLatLng([r.x-s*(r.x-o.x),r.y-s*(r.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=r.latLng(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new r.LatLngBounds,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return r.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=r.Polyline._flat(t),i=0,o=t.length;o>i;i++)n?(e[i]=r.latLng(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){this._rings=[],this._projectLatlngs(this._latlngs,this._rings);var t=this._clickTolerance(),e=new r.Point(t,-t);this._bounds.isValid()&&(this._pxBounds=new r.Bounds(this._map.latLngToLayerPoint(this._bounds.getSouthWest())._subtract(e),this._map.latLngToLayerPoint(this._bounds.getNorthEast())._add(e)))},_projectLatlngs:function(t,e){var n,i,o=t[0]instanceof r.LatLng,s=t.length;if(o){for(i=[],n=0;s>n;n++)i[n]=this._map.latLngToLayerPoint(t[n]);e.push(i)}else for(n=0;s>n;n++)this._projectLatlngs(t[n],e)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);var e,n,i,o,s,a,l,h=this._parts;for(e=0,i=0,o=this._rings.length;o>e;e++)for(l=this._rings[e],n=0,s=l.length;s-1>n;n++)a=r.LineUtil.clipSegment(l[n],l[n+1],t,n,!0),a&&(h[i]=h[i]||[],h[i].push(a[0]),(a[1]!==l[n+1]||n===s-2)&&(h[i].push(a[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;i>n;n++)t[n]=r.LineUtil.simplify(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)}}),r.polyline=function(t,e){return new r.Polyline(t,e)},r.Polyline._flat=function(t){return!r.Util.isArray(t[0])||"object"!=typeof t[0][0]&&"undefined"!=typeof t[0][0]},r.PolyUtil={},r.PolyUtil.clipPolygon=function(t,e,n){var i,o,s,a,l,h,u,c,p,d=[1,4,2,8],f=r.LineUtil;for(o=0,u=t.length;u>o;o++)t[o]._code=f._getBitCode(t[o],e);for(a=0;4>a;a++){for(c=d[a],i=[],o=0,u=t.length,s=u-1;u>o;s=o++)l=t[o],h=t[s],l._code&c?h._code&c||(p=f._getEdgeIntersection(h,l,c,e,n),p._code=f._getBitCode(p,e),i.push(p)):(h._code&c&&(p=f._getEdgeIntersection(h,l,c,e,n),p._code=f._getBitCode(p,e),i.push(p)),i.push(l));t=i}return t},r.Polygon=r.Polyline.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){var t,e,n,i,o,r,s,a,l,h=this._rings[0],u=h.length;if(!u)return null;for(r=s=a=0,t=0,e=u-1;u>t;e=t++)n=h[t],i=h[e],o=n.y*i.x-i.y*n.x,s+=(n.x+i.x)*o,a+=(n.y+i.y)*o,r+=3*o;return l=0===r?h[0]:[s/r,a/r],this._map.layerPointToLatLng(l)},_convertLatLngs:function(t){var e=r.Polyline.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof r.LatLng&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){r.Polyline.prototype._setLatLngs.call(this,t),r.Polyline._flat(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return r.Polyline._flat(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new r.Point(e,e);if(t=new r.Bounds(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);for(var i,o=0,s=this._rings.length;s>o;o++)i=r.PolyUtil.clipPolygon(this._rings[o],t,!0),
i.length&&this._parts.push(i)}},_updatePath:function(){this._renderer._updatePoly(this,!0)}}),r.polygon=function(t,e){return new r.Polygon(t,e)},r.Rectangle=r.Polygon.extend({initialize:function(t,e){r.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=r.latLngBounds(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}}),r.rectangle=function(t,e){return new r.Rectangle(t,e)},r.CircleMarker=r.Path.extend({options:{fill:!0,radius:10},initialize:function(t,e){r.setOptions(this,e),this._latlng=r.latLng(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=r.latLng(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return r.Path.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new r.Bounds(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)}}),r.circleMarker=function(t,e){return new r.CircleMarker(t,e)},r.Circle=r.CircleMarker.extend({initialize:function(t,e){r.setOptions(this,e),this._latlng=r.latLng(t),this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new r.LatLngBounds(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:r.Path.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===r.CRS.Earth.distance){var o=Math.PI/180,s=this._mRadius/r.CRS.Earth.R/o,a=n.project([e+s,t]),l=n.project([e-s,t]),h=a.add(l).divideBy(2),u=n.unproject(h).lat,c=Math.acos((Math.cos(s*o)-Math.sin(e*o)*Math.sin(u*o))/(Math.cos(e*o)*Math.cos(u*o)))/o;this._point=h.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:Math.max(Math.round(h.x-n.project([u,t-c]).x),1),this._radiusY=Math.max(Math.round(h.y-a.y),1)}else{var p=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(p).x}this._updateBounds()}}),r.circle=function(t,e,n){return"number"==typeof e&&(e=r.extend({},n,{radius:e})),new r.Circle(t,e)},r.SVG=r.Renderer.extend({_initContainer:function(){this._container=r.SVG.create("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=r.SVG.create("g"),this._container.appendChild(this._rootGroup)},_update:function(){if(!this._map._animatingZoom||!this._bounds){r.Renderer.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),r.DomUtil.setPosition(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" "))}},_initPath:function(t){var e=t._path=r.SVG.create("path");t.options.className&&r.DomUtil.addClass(e,t.options.className),t.options.interactive&&r.DomUtil.addClass(e,"leaflet-interactive"),this._updateStyle(t)},_addPath:function(t){this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){r.DomUtil.remove(t._path),t.removeInteractiveTarget(t._path)},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"),e.setAttribute("pointer-events",n.pointerEvents||(n.interactive?"visiblePainted":"none")))},_updatePoly:function(t,e){this._setPath(t,r.SVG.pointsToPath(t._parts,e))},_updateCircle:function(t){var e=t._point,n=t._radius,i=t._radiusY||n,o="a"+n+","+i+" 0 1,0 ",r=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+o+2*n+",0 "+o+2*-n+",0 ";this._setPath(t,r)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){r.DomUtil.toFront(t._path)},_bringToBack:function(t){r.DomUtil.toBack(t._path)}}),r.extend(r.SVG,{create:function(t){return n.createElementNS("http://www.w3.org/2000/svg",t)},pointsToPath:function(t,e){var n,i,o,s,a,l,h="";for(n=0,o=t.length;o>n;n++){for(a=t[n],i=0,s=a.length;s>i;i++)l=a[i],h+=(i?"L":"M")+l.x+" "+l.y;h+=e?r.Browser.svg?"z":"x":""}return h||"M0 0"}}),r.Browser.svg=!(!n.createElementNS||!r.SVG.create("svg").createSVGRect),r.svg=function(t){return r.Browser.svg||r.Browser.vml?new r.SVG(t):null},r.Browser.vml=!r.Browser.svg&&function(){try{var t=n.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(i){return!1}}(),r.SVG.include(r.Browser.vml?{_initContainer:function(){this._container=r.DomUtil.create("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||r.Renderer.prototype._update.call(this)},_initPath:function(t){var e=t._container=r.SVG.create("shape");r.DomUtil.addClass(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=r.SVG.create("path"),e.appendChild(t._path),this._updateStyle(t)},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;r.DomUtil.remove(e),t.removeInteractiveTarget(e)},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,o=t._container;o.stroked=!!i.stroke,o.filled=!!i.fill,i.stroke?(e||(e=t._stroke=r.SVG.create("stroke")),o.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=r.Util.isArray(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(o.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=r.SVG.create("fill")),o.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(o.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){r.DomUtil.toFront(t._container)},_bringToBack:function(t){r.DomUtil.toBack(t._container)}}:{}),r.Browser.vml&&(r.SVG.create=function(){try{return n.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return n.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return n.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}()),r.Canvas=r.Renderer.extend({onAdd:function(){r.Renderer.prototype.onAdd.call(this),this._layers=this._layers||{},this._draw()},_initContainer:function(){var t=this._container=n.createElement("canvas");r.DomEvent.on(t,"mousemove",r.Util.throttle(this._onMouseMove,32,this),this).on(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this).on(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},r.Renderer.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=r.Browser.retina?2:1;r.DomUtil.setPosition(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",r.Browser.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y)}},_initPath:function(t){this._layers[r.stamp(t)]=t},_addPath:r.Util.falseFn,_removePath:function(t){t._removed=!0,this._requestRedraw(t)},_updatePath:function(t){this._redrawBounds=t._pxBounds,this._draw(!0),t._project(),t._update(),this._draw(),this._redrawBounds=null},_updateStyle:function(t){this._requestRedraw(t)},_requestRedraw:function(t){if(this._map){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new r.Bounds,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e])),this._redrawRequest=this._redrawRequest||r.Util.requestAnimFrame(this._redraw,this)}},_redraw:function(){this._redrawRequest=null,this._draw(!0),this._draw(),this._redrawBounds=null},_draw:function(t){this._clear=t;var e,n=this._redrawBounds;this._ctx.save(),n&&(this._ctx.beginPath(),this._ctx.rect(n.min.x,n.min.y,n.max.x-n.min.x,n.max.y-n.min.y),this._ctx.clip());for(var i in this._layers)e=this._layers[i],(!n||e._pxBounds.intersects(n))&&e._updatePath(),t&&e._removed&&(delete e._removed,delete this._layers[i]);this._ctx.restore()},_updatePoly:function(t,e){var n,i,o,r,s=t._parts,a=s.length,l=this._ctx;if(a){for(this._drawnLayers[t._leaflet_id]=t,l.beginPath(),n=0;a>n;n++){for(i=0,o=s[n].length;o>i;i++)r=s[n][i],l[i?"lineTo":"moveTo"](r.x,r.y);e&&l.closePath()}this._fillStroke(l,t)}},_updateCircle:function(t){if(!t._empty()){var e=t._point,n=this._ctx,i=t._radius,o=(t._radiusY||i)/i;1!==o&&(n.save(),n.scale(1,o)),n.beginPath(),n.arc(e.x,e.y/o,i,0,2*Math.PI,!1),1!==o&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=this._clear,i=e.options;t.globalCompositeOperation=n?"destination-out":"source-over",i.fill&&(t.globalAlpha=n?1:i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&0!==i.weight&&(t.globalAlpha=n?1:i.opacity,e._prevWeight=t.lineWidth=n?e._prevWeight+1:i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){var e=this._map.mouseEventToLayerPoint(t),n=[];for(var i in this._layers)this._layers[i]._containsPoint(e)&&(r.DomEvent._fakeStop(t),n.push(this._layers[i]));n.length&&this._fireEvent(n,t)},_onMouseMove:function(t){if(this._map&&!this._map.dragging._draggable._moving&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseOut(t,e),this._handleMouseHover(t,e)}},_handleMouseOut:function(t,e){var n=this._hoveredLayer;!n||"mouseout"!==t.type&&n._containsPoint(e)||(r.DomUtil.removeClass(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){var n,i;if(!this._hoveredLayer)for(n in this._drawnLayers)if(i=this._drawnLayers[n],i.options.interactive&&i._containsPoint(e)){r.DomUtil.addClass(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i;break}this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:r.Util.falseFn,_bringToBack:r.Util.falseFn}),r.Browser.canvas=function(){return!!n.createElement("canvas").getContext}(),r.canvas=function(t){return r.Browser.canvas?new r.Canvas(t):null},r.Polyline.prototype._containsPoint=function(t,e){var n,i,o,s,a,l,h=this._clickTolerance();if(!this._pxBounds.contains(t))return!1;for(n=0,s=this._parts.length;s>n;n++)for(l=this._parts[n],i=0,a=l.length,o=a-1;a>i;o=i++)if((e||0!==i)&&r.LineUtil.pointToSegmentDistance(t,l[o],l[i])<=h)return!0;return!1},r.Polygon.prototype._containsPoint=function(t){var e,n,i,o,s,a,l,h,u=!1;if(!this._pxBounds.contains(t))return!1;for(o=0,l=this._parts.length;l>o;o++)for(e=this._parts[o],s=0,h=e.length,a=h-1;h>s;a=s++)n=e[s],i=e[a],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(u=!u);return u||r.Polyline.prototype._containsPoint.call(this,t,!0)},r.CircleMarker.prototype._containsPoint=function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()},r.GeoJSON=r.FeatureGroup.extend({initialize:function(t,e){r.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,o=r.Util.isArray(t)?t:t.features;if(o){for(e=0,n=o.length;n>e;e++)i=o[e],(i.geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var s=this.options;if(s.filter&&!s.filter(t))return this;var a=r.GeoJSON.geometryToLayer(t,s);return a?(a.feature=r.GeoJSON.asFeature(t),a.defaultOptions=a.options,this.resetStyle(a),s.onEachFeature&&s.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return t.options=t.defaultOptions,this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),r.extend(r.GeoJSON,{geometryToLayer:function(t,e){var n,i,o,s,a="Feature"===t.type?t.geometry:t,l=a?a.coordinates:null,h=[],u=e&&e.pointToLayer,c=e&&e.coordsToLatLng||this.coordsToLatLng;if(!l&&!a)return null;switch(a.type){case"Point":return n=c(l),u?u(t,n):new r.Marker(n);case"MultiPoint":for(o=0,s=l.length;s>o;o++)n=c(l[o]),h.push(u?u(t,n):new r.Marker(n));return new r.FeatureGroup(h);case"LineString":case"MultiLineString":return i=this.coordsToLatLngs(l,"LineString"===a.type?0:1,c),new r.Polyline(i,e);case"Polygon":case"MultiPolygon":return i=this.coordsToLatLngs(l,"Polygon"===a.type?1:2,c),new r.Polygon(i,e);case"GeometryCollection":for(o=0,s=a.geometries.length;s>o;o++){var p=this.geometryToLayer({geometry:a.geometries[o],type:"Feature",properties:t.properties},e);p&&h.push(p)}return new r.FeatureGroup(h);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t){return new r.LatLng(t[1],t[0],t[2])},coordsToLatLngs:function(t,e,n){for(var i,o=[],r=0,s=t.length;s>r;r++)i=e?this.coordsToLatLngs(t[r],e-1,n):(n||this.coordsToLatLng)(t[r]),o.push(i);return o},latLngToCoords:function(t){return t.alt!==i?[t.lng,t.lat,t.alt]:[t.lng,t.lat]},latLngsToCoords:function(t,e,n){for(var i=[],o=0,s=t.length;s>o;o++)i.push(e?r.GeoJSON.latLngsToCoords(t[o],e-1,n):r.GeoJSON.latLngToCoords(t[o]));return!e&&n&&i.push(i[0]),i},getFeature:function(t,e){return t.feature?r.extend({},t.feature,{geometry:e}):r.GeoJSON.asFeature(e)},asFeature:function(t){return"Feature"===t.type?t:{type:"Feature",properties:{},geometry:t}}});var a={toGeoJSON:function(){return r.GeoJSON.getFeature(this,{type:"Point",coordinates:r.GeoJSON.latLngToCoords(this.getLatLng())})}};r.Marker.include(a),r.Circle.include(a),r.CircleMarker.include(a),r.Polyline.prototype.toGeoJSON=function(){var t=!r.Polyline._flat(this._latlngs),e=r.GeoJSON.latLngsToCoords(this._latlngs,t?1:0);return r.GeoJSON.getFeature(this,{type:(t?"Multi":"")+"LineString",coordinates:e})},r.Polygon.prototype.toGeoJSON=function(){var t=!r.Polyline._flat(this._latlngs),e=t&&!r.Polyline._flat(this._latlngs[0]),n=r.GeoJSON.latLngsToCoords(this._latlngs,e?2:t?1:0,!0);return t||(n=[n]),r.GeoJSON.getFeature(this,{type:(e?"Multi":"")+"Polygon",coordinates:n})},r.LayerGroup.include({toMultiPoint:function(){var t=[];return this.eachLayer(function(e){t.push(e.toGeoJSON().geometry.coordinates)}),r.GeoJSON.getFeature(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint();var e="GeometryCollection"===t,n=[];return this.eachLayer(function(t){if(t.toGeoJSON){var i=t.toGeoJSON();n.push(e?i.geometry:r.GeoJSON.asFeature(i))}}),e?r.GeoJSON.getFeature(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}}),r.geoJson=function(t,e){return new r.GeoJSON(t,e)};var l="_leaflet_events";r.DomEvent={on:function(t,e,n,i){if("object"==typeof e)for(var o in e)this._on(t,o,e[o],n);else{e=r.Util.splitWords(e);for(var s=0,a=e.length;a>s;s++)this._on(t,e[s],n,i)}return this},off:function(t,e,n,i){if("object"==typeof e)for(var o in e)this._off(t,o,e[o],n);else{e=r.Util.splitWords(e);for(var s=0,a=e.length;a>s;s++)this._off(t,e[s],n,i)}return this},_on:function(e,n,i,o){var s=n+r.stamp(i)+(o?"_"+r.stamp(o):"");if(e[l]&&e[l][s])return this;var a=function(n){return i.call(o||e,n||t.event)},h=a;return r.Browser.pointer&&0===n.indexOf("touch")?this.addPointerListener(e,n,a,s):r.Browser.touch&&"dblclick"===n&&this.addDoubleTapListener?this.addDoubleTapListener(e,a,s):"addEventListener"in e?"mousewheel"===n?(e.addEventListener("DOMMouseScroll",a,!1),e.addEventListener(n,a,!1)):"mouseenter"===n||"mouseleave"===n?(a=function(n){n=n||t.event,r.DomEvent._isExternalTarget(e,n)&&h(n)},e.addEventListener("mouseenter"===n?"mouseover":"mouseout",a,!1)):("click"===n&&r.Browser.android&&(a=function(t){return r.DomEvent._filterClick(t,h)}),e.addEventListener(n,a,!1)):"attachEvent"in e&&e.attachEvent("on"+n,a),e[l]=e[l]||{},e[l][s]=a,this},_off:function(t,e,n,i){var o=e+r.stamp(n)+(i?"_"+r.stamp(i):""),s=t[l]&&t[l][o];return s?(r.Browser.pointer&&0===e.indexOf("touch")?this.removePointerListener(t,e,o):r.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,o):"removeEventListener"in t?"mousewheel"===e?(t.removeEventListener("DOMMouseScroll",s,!1),t.removeEventListener(e,s,!1)):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,s,!1):"detachEvent"in t&&t.detachEvent("on"+e,s),t[l][o]=null,this):this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,r.DomEvent._skipped(t),this},disableScrollPropagation:function(t){return r.DomEvent.on(t,"mousewheel MozMousePixelScroll",r.DomEvent.stopPropagation)},disableClickPropagation:function(t){var e=r.DomEvent.stopPropagation;return r.DomEvent.on(t,r.Draggable.START.join(" "),e),r.DomEvent.on(t,{click:r.DomEvent._fakeStop,dblclick:e})},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return r.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){if(!e)return new r.Point(t.clientX,t.clientY);var n=e.getBoundingClientRect();return new r.Point(t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop)},getWheelDelta:function(t){var e=0;return t.wheelDelta&&(e=t.wheelDelta/120),t.detail&&(e=-t.detail/3),e},_skipEvents:{},_fakeStop:function(t){r.DomEvent._skipEvents[t.type]=!0},_skipped:function(t){var e=this._skipEvents[t.type];return this._skipEvents[t.type]=!1,e},_isExternalTarget:function(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(i){return!1}return n!==t},_filterClick:function(t,e){var n=t.timeStamp||t.originalEvent.timeStamp,i=r.DomEvent._lastClick&&n-r.DomEvent._lastClick;return i&&i>100&&500>i||t.target._simulatedClick&&!t._simulated?void r.DomEvent.stop(t):(r.DomEvent._lastClick=n,void e(t))}},r.DomEvent.addListener=r.DomEvent.on,r.DomEvent.removeListener=r.DomEvent.off,r.Draggable=r.Evented.extend({statics:{START:r.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,e,n){this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(r.DomEvent.on(this._dragStartTarget,r.Draggable.START.join(" "),this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(r.DomEvent.off(this._dragStartTarget,r.Draggable.START.join(" "),this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._moved=!1,!r.DomUtil.hasClass(this._element,"leaflet-zoom-anim")&&!(r.Draggable._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches)&&this._enabled&&(r.Draggable._dragging=!0,this._preventOutline&&r.DomUtil.preventOutline(this._element),r.DomUtil.disableImageDrag(),r.DomUtil.disableTextSelection(),!this._moving)){this.fire("down");var e=t.touches?t.touches[0]:t;this._startPoint=new r.Point(e.clientX,e.clientY),this._startPos=this._newPos=r.DomUtil.getPosition(this._element),r.DomEvent.on(n,r.Draggable.MOVE[t.type],this._onMove,this).on(n,r.Draggable.END[t.type],this._onUp,this)}},_onMove:function(t){if(t.touches&&t.touches.length>1)return void(this._moved=!0);var e=t.touches&&1===t.touches.length?t.touches[0]:t,i=new r.Point(e.clientX,e.clientY),o=i.subtract(this._startPoint);(o.x||o.y)&&(r.Browser.touch&&Math.abs(o.x)+Math.abs(o.y)<3||(r.DomEvent.preventDefault(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=r.DomUtil.getPosition(this._element).subtract(o),r.DomUtil.addClass(n.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,r.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(o),this._moving=!0,r.Util.cancelAnimFrame(this._animRequest),this._lastEvent=t,this._animRequest=r.Util.requestAnimFrame(this._updatePosition,this,!0)))},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),r.DomUtil.setPosition(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){r.DomUtil.removeClass(n.body,"leaflet-dragging"),this._lastTarget&&(r.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var t in r.Draggable.MOVE)r.DomEvent.off(n,r.Draggable.MOVE[t],this._onMove,this).off(n,r.Draggable.END[t],this._onUp,this);r.DomUtil.enableImageDrag(),r.DomUtil.enableTextSelection(),this._moved&&this._moving&&(r.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,r.Draggable._dragging=!1}}),r.Handler=r.Class.extend({initialize:function(t){this._map=t},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),r.Map.mergeOptions({dragging:!0,inertia:!r.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1}),r.Map.Drag=r.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new r.Draggable(t._mapPane,t._container),this._draggable.on({down:this._onDown,dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}r.DomUtil.addClass(this._map._container,"leaflet-grab"),this._draggable.enable()},removeHooks:function(){r.DomUtil.removeClass(this._map._container,"leaflet-grab"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDown:function(){this._map.stop()},_onDragStart:function(){var t=this._map;if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=r.latLngBounds(this._map.options.maxBounds);this._offsetLimit=r.bounds(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),e-this._times[0]>50&&(this._positions.shift(),this._times.shift())}this._map.fire("move",t).fire("drag",t)},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,o=(i-e+n)%t+e-n,r=(i+e+n)%t-e-n,s=Math.abs(o+n)<Math.abs(r+n)?o:r;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{var o=this._lastPos.subtract(this._positions[0]),s=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,l=o.multiplyBy(a/s),h=l.distanceTo([0,0]),u=Math.min(n.inertiaMaxSpeed,h),c=l.multiplyBy(u/h),p=u/(n.inertiaDeceleration*a),d=c.multiplyBy(-p/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),r.Util.requestAnimFrame(function(){e.panBy(d,{duration:p,easeLinearity:a,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}}),r.Map.addInitHook("addHandler","dragging",r.Map.Drag),r.Map.mergeOptions({doubleClickZoom:!0}),r.Map.DoubleClickZoom=r.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=t.originalEvent.shiftKey?Math.ceil(n)-1:Math.floor(n)+1;"center"===e.options.doubleClickZoom?e.setZoom(i):e.setZoomAround(t.containerPoint,i)}}),r.Map.addInitHook("addHandler","doubleClickZoom",r.Map.DoubleClickZoom),r.Map.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40}),r.Map.ScrollWheelZoom=r.Handler.extend({addHooks:function(){r.DomEvent.on(this._map._container,{mousewheel:this._onWheelScroll,MozMousePixelScroll:r.DomEvent.preventDefault},this),this._delta=0},removeHooks:function(){r.DomEvent.off(this._map._container,{mousewheel:this._onWheelScroll,MozMousePixelScroll:r.DomEvent.preventDefault},this)},_onWheelScroll:function(t){var e=r.DomEvent.getWheelDelta(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r.bind(this._performZoom,this),i),r.DomEvent.stop(t)},_performZoom:function(){var t=this._map,e=this._delta,n=t.getZoom();t.stop(),e=e>0?Math.ceil(e):Math.floor(e),e=Math.max(Math.min(e,4),-4),e=t._limitZoom(n+e)-n,this._delta=0,this._startTime=null,e&&("center"===t.options.scrollWheelZoom?t.setZoom(n+e):t.setZoomAround(this._lastMousePos,n+e))}}),r.Map.addInitHook("addHandler","scrollWheelZoom",r.Map.ScrollWheelZoom),r.extend(r.DomEvent,{_touchstart:r.Browser.msPointer?"MSPointerDown":r.Browser.pointer?"pointerdown":"touchstart",_touchend:r.Browser.msPointer?"MSPointerUp":r.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(t,e,n){function i(t){var e;if(e=r.Browser.pointer?r.DomEvent._pointersCount:t.touches.length,!(e>1)){var n=Date.now(),i=n-(s||n);a=t.touches?t.touches[0]:t,l=i>0&&h>=i,s=n}}function o(){if(l&&!a.cancelBubble){if(r.Browser.pointer){var t,n,i={};for(n in a)t=a[n],i[n]=t&&t.bind?t.bind(a):t;a=i}a.type="dblclick",e(a),s=null}}var s,a,l=!1,h=250,u="_leaflet_",c=this._touchstart,p=this._touchend;return t[u+c+n]=i,t[u+p+n]=o,t.addEventListener(c,i,!1),t.addEventListener(p,o,!1),this},removeDoubleTapListener:function(t,e){var n="_leaflet_",i=t[n+this._touchend+e];return t.removeEventListener(this._touchstart,t[n+this._touchstart+e],!1),t.removeEventListener(this._touchend,i,!1),this}}),r.extend(r.DomEvent,{POINTER_DOWN:r.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:r.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:r.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:r.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:{},_pointersCount:0,addPointerListener:function(t,e,n,i){return"touchstart"===e?this._addPointerStart(t,n,i):"touchmove"===e?this._addPointerMove(t,n,i):"touchend"===e&&this._addPointerEnd(t,n,i),this},removePointerListener:function(t,e,n){var i=t["_leaflet_"+e+n];return"touchstart"===e?t.removeEventListener(this.POINTER_DOWN,i,!1):"touchmove"===e?t.removeEventListener(this.POINTER_MOVE,i,!1):"touchend"===e&&(t.removeEventListener(this.POINTER_UP,i,!1),t.removeEventListener(this.POINTER_CANCEL,i,!1)),this},_addPointerStart:function(t,e,i){var o=r.bind(function(t){"mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&r.DomEvent.preventDefault(t),this._handlePointer(t,e)},this);if(t["_leaflet_touchstart"+i]=o,t.addEventListener(this.POINTER_DOWN,o,!1),!this._pointerDocListener){var s=r.bind(this._globalPointerUp,this);n.documentElement.addEventListener(this.POINTER_DOWN,r.bind(this._globalPointerDown,this),!0),n.documentElement.addEventListener(this.POINTER_MOVE,r.bind(this._globalPointerMove,this),!0),n.documentElement.addEventListener(this.POINTER_UP,s,!0),n.documentElement.addEventListener(this.POINTER_CANCEL,s,!0),this._pointerDocListener=!0}},_globalPointerDown:function(t){this._pointers[t.pointerId]=t,this._pointersCount++},_globalPointerMove:function(t){this._pointers[t.pointerId]&&(this._pointers[t.pointerId]=t)},_globalPointerUp:function(t){delete this._pointers[t.pointerId],this._pointersCount--},_handlePointer:function(t,e){t.touches=[];for(var n in this._pointers)t.touches.push(this._pointers[n]);t.changedTouches=[t],e(t)},_addPointerMove:function(t,e,n){var i=r.bind(function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&this._handlePointer(t,e)},this);t["_leaflet_touchmove"+n]=i,t.addEventListener(this.POINTER_MOVE,i,!1)},_addPointerEnd:function(t,e,n){var i=r.bind(function(t){this._handlePointer(t,e)},this);t["_leaflet_touchend"+n]=i,t.addEventListener(this.POINTER_UP,i,!1),t.addEventListener(this.POINTER_CANCEL,i,!1)}}),r.Map.mergeOptions({touchZoom:r.Browser.touch&&!r.Browser.android23,bounceAtZoomLimits:!0}),r.Map.TouchZoom=r.Handler.extend({addHooks:function(){r.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){r.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var i=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(i.add(o)._divideBy(2))),this._startDist=i.distanceTo(o),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e.stop(),r.DomEvent.on(n,"touchmove",this._onTouchMove,this).on(n,"touchend",this._onTouchEnd,this),r.DomEvent.preventDefault(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),o=n.distanceTo(i)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var s=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===s.x&&0===s.y)return;
this._center=e.unproject(e.project(this._pinchStartLatLng).subtract(s))}if(e.options.bounceAtZoomLimits||!(this._zoom<=e.getMinZoom()&&1>o||this._zoom>=e.getMaxZoom()&&o>1)){this._moved||(e._moveStart(!0),this._moved=!0),r.Util.cancelAnimFrame(this._animRequest);var a=r.bind(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=r.Util.requestAnimFrame(a,this,!0),r.DomEvent.preventDefault(t)}}},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);this._zooming=!1,r.Util.cancelAnimFrame(this._animRequest),r.DomEvent.off(n,"touchmove",this._onTouchMove).off(n,"touchend",this._onTouchEnd);var t=this._zoom;t=this._map._limitZoom(t-this._startZoom>0?Math.ceil(t):Math.floor(t)),this._map._animateZoom(this._center,t,!0,!0)}}),r.Map.addInitHook("addHandler","touchZoom",r.Map.TouchZoom),r.Map.mergeOptions({tap:!0,tapTolerance:15}),r.Map.Tap=r.Handler.extend({addHooks:function(){r.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){r.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(r.DomEvent.preventDefault(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],i=e.target;this._startPos=this._newPos=new r.Point(e.clientX,e.clientY),i.tagName&&"a"===i.tagName.toLowerCase()&&r.DomUtil.addClass(i,"leaflet-active"),this._holdTimeout=setTimeout(r.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),r.DomEvent.on(n,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),r.DomEvent.off(n,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],i=e.target;i&&i.tagName&&"a"===i.tagName.toLowerCase()&&r.DomUtil.removeClass(i,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new r.Point(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(e,i){var o=n.createEvent("MouseEvents");o._simulated=!0,i.target._simulatedClick=!0,o.initMouseEvent(e,!0,!0,t,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(o)}}),r.Browser.touch&&!r.Browser.pointer&&r.Map.addInitHook("addHandler","tap",r.Map.Tap),r.Map.mergeOptions({boxZoom:!0}),r.Map.BoxZoom=r.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane},addHooks:function(){r.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){r.DomEvent.off(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_resetState:function(){this._moved=!1},_onMouseDown:function(t){return!t.shiftKey||1!==t.which&&1!==t.button?!1:(this._resetState(),r.DomUtil.disableTextSelection(),r.DomUtil.disableImageDrag(),this._startPoint=this._map.mouseEventToContainerPoint(t),void r.DomEvent.on(n,{contextmenu:r.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this))},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=r.DomUtil.create("div","leaflet-zoom-box",this._container),r.DomUtil.addClass(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new r.Bounds(this._point,this._startPoint),n=e.getSize();r.DomUtil.setPosition(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(r.DomUtil.remove(this._box),r.DomUtil.removeClass(this._container,"leaflet-crosshair")),r.DomUtil.enableTextSelection(),r.DomUtil.enableImageDrag(),r.DomEvent.off(n,{contextmenu:r.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){setTimeout(r.bind(this._resetState,this),0);var e=new r.LatLngBounds(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),r.Map.addInitHook("addHandler","boxZoom",r.Map.BoxZoom),r.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),r.Map.Keyboard=r.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanOffset(t.options.keyboardPanOffset),this._setZoomOffset(t.options.keyboardZoomOffset)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),r.DomEvent.on(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),r.DomEvent.off(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=n.body,i=n.documentElement,o=e.scrollTop||i.scrollTop,r=e.scrollLeft||i.scrollLeft;this._map._container.focus(),t.scrollTo(r,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(t){var e,n,i=this._panKeys={},o=this.keyCodes;for(e=0,n=o.left.length;n>e;e++)i[o.left[e]]=[-1*t,0];for(e=0,n=o.right.length;n>e;e++)i[o.right[e]]=[t,0];for(e=0,n=o.down.length;n>e;e++)i[o.down[e]]=[0,t];for(e=0,n=o.up.length;n>e;e++)i[o.up[e]]=[0,-1*t]},_setZoomOffset:function(t){var e,n,i=this._zoomKeys={},o=this.keyCodes;for(e=0,n=o.zoomIn.length;n>e;e++)i[o.zoomIn[e]]=t;for(e=0,n=o.zoomOut.length;n>e;e++)i[o.zoomOut[e]]=-t},_addHooks:function(){r.DomEvent.on(n,"keydown",this._onKeyDown,this)},_removeHooks:function(){r.DomEvent.off(n,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys){if(i._panAnim&&i._panAnim._inProgress)return;e=this._panKeys[n],t.shiftKey&&(e=r.point(e).multiplyBy(3)),i.panBy(e),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds)}else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n)return;i.closePopup()}r.DomEvent.stop(t)}}}),r.Map.addInitHook("addHandler","keyboard",r.Map.Keyboard),r.Handler.MarkerDrag=r.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new r.Draggable(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),r.DomUtil.addClass(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&r.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(t){var e=this._marker,n=e._shadow,i=r.DomUtil.getPosition(e._icon),o=e._map.layerPointToLatLng(i);n&&r.DomUtil.setPosition(n,i),e._latlng=o,t.latlng=o,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){this._marker.fire("moveend").fire("dragend",t)}}),r.Control=r.Class.extend({options:{position:"topright"},initialize:function(t){r.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return r.DomUtil.addClass(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this},remove:function(){return this._map?(r.DomUtil.remove(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),r.control=function(t){return new r.Control(t)},r.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,o){var s=n+t+" "+n+o;e[t+o]=r.DomUtil.create("div",s,i)}var e=this._controlCorners={},n="leaflet-",i=this._controlContainer=r.DomUtil.create("div",n+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){r.DomUtil.remove(this._controlContainer)}}),r.Control.Zoom=r.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=r.DomUtil.create("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){this._disabled||this._map.zoomIn(t.shiftKey?3:1)},_zoomOut:function(t){this._disabled||this._map.zoomOut(t.shiftKey?3:1)},_createButton:function(t,e,n,i,o){var s=r.DomUtil.create("a",n,i);return s.innerHTML=t,s.href="#",s.title=e,r.DomEvent.on(s,"mousedown dblclick",r.DomEvent.stopPropagation).on(s,"click",r.DomEvent.stop).on(s,"click",o,this).on(s,"click",this._refocusOnMap,this),s},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";r.DomUtil.removeClass(this._zoomInButton,e),r.DomUtil.removeClass(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&r.DomUtil.addClass(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&r.DomUtil.addClass(this._zoomInButton,e)}}),r.Map.mergeOptions({zoomControl:!0}),r.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new r.Control.Zoom,this.addControl(this.zoomControl))}),r.control.zoom=function(t){return new r.Control.Zoom(t)},r.Control.Attribution=r.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){r.setOptions(this,t),this._attributions={}},onAdd:function(t){this._container=r.DomUtil.create("div","leaflet-control-attribution"),r.DomEvent&&r.DomEvent.disableClickPropagation(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}}),r.Map.mergeOptions({attributionControl:!0}),r.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new r.Control.Attribution).addTo(this))}),r.control.attribution=function(t){return new r.Control.Attribution(t)},r.Control.Scale=r.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=r.DomUtil.create("div",e),i=this.options;return this._addScales(i,e+"-line",n),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=r.DomUtil.create("div",e,n)),t.imperial&&(this._iScale=r.DomUtil.create("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=1e3>e?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,o=3.2808399*t;o>5280?(e=o/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(o),this._updateScale(this._iScale,i+" ft",i/o))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}}),r.control.scale=function(t){return new r.Control.Scale(t)},r.Control.Layers=r.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1},initialize:function(t,e,n){r.setOptions(this,n),this._layers={},this._lastZIndex=0,this._handlingClick=!1;for(var i in t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){return this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this),this._container},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._update()},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._update()},removeLayer:function(t){return t.off("add remove",this._onLayerChange,this),delete this._layers[r.stamp(t)],this._update()},_initLayout:function(){var t="leaflet-control-layers",e=this._container=r.DomUtil.create("div",t);e.setAttribute("aria-haspopup",!0),r.DomEvent.disableClickPropagation(e),r.Browser.touch||r.DomEvent.disableScrollPropagation(e);var n=this._form=r.DomUtil.create("form",t+"-list");if(this.options.collapsed){r.Browser.android||r.DomEvent.on(e,{mouseenter:this._expand,mouseleave:this._collapse},this);var i=this._layersLink=r.DomUtil.create("a",t+"-toggle",e);i.href="#",i.title="Layers",r.Browser.touch?r.DomEvent.on(i,"click",r.DomEvent.stop).on(i,"click",this._expand,this):r.DomEvent.on(i,"focus",this._expand,this),r.DomEvent.on(n,"click",function(){setTimeout(r.bind(this._onInputClick,this),0)},this),this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=r.DomUtil.create("div",t+"-base",n),this._separator=r.DomUtil.create("div",t+"-separator",n),this._overlaysList=r.DomUtil.create("div",t+"-overlays",n),e.appendChild(n)},_addLayer:function(t,e,n){t.on("add remove",this._onLayerChange,this);var i=r.stamp(t);this._layers[i]={layer:t,name:e,overlay:n},this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(!this._container)return this;r.DomUtil.empty(this._baseLayersList),r.DomUtil.empty(this._overlaysList);var t,e,n,i,o=0;for(n in this._layers)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,o+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&o>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._layers[r.stamp(t.target)],n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",o=n.createElement("div");return o.innerHTML=i,o.firstChild},_addItem:function(t){var e,i=n.createElement("label"),o=this._map.hasLayer(t.layer);t.overlay?(e=n.createElement("input"),e.type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=o):e=this._createRadioElement("leaflet-base-layers",o),e.layerId=r.stamp(t.layer),r.DomEvent.on(e,"click",this._onInputClick,this);var s=n.createElement("span");s.innerHTML=" "+t.name;var a=n.createElement("div");i.appendChild(a),a.appendChild(e),a.appendChild(s);var l=t.overlay?this._overlaysList:this._baseLayersList;return l.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){var t,e,n,i=this._form.getElementsByTagName("input"),o=[],r=[];this._handlingClick=!0;for(var s=i.length-1;s>=0;s--)t=i[s],e=this._layers[t.layerId].layer,n=this._map.hasLayer(e),t.checked&&!n?o.push(e):!t.checked&&n&&r.push(e);for(s=0;s<r.length;s++)this._map.removeLayer(r[s]);for(s=0;s<o.length;s++)this._map.addLayer(o[s]);this._handlingClick=!1,this._refocusOnMap()},_expand:function(){r.DomUtil.addClass(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var t=this._map._size.y-(this._container.offsetTop+50);t<this._form.clientHeight?(r.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px"):r.DomUtil.removeClass(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers()},_collapse:function(){r.DomUtil.removeClass(this._container,"leaflet-control-layers-expanded")},_checkDisabledLayers:function(){for(var t,e,n=this._form.getElementsByTagName("input"),o=this._map.getZoom(),r=n.length-1;r>=0;r--)t=n[r],e=this._layers[t.layerId].layer,t.disabled=e.options.minZoom!==i&&o<e.options.minZoom||e.options.maxZoom!==i&&o>e.options.maxZoom}}),r.control.layers=function(t,e,n){return new r.Control.Layers(t,e,n)},r.PosAnimation=r.Evented.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=r.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=r.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;n>e?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),r.DomUtil.setPosition(this._el,n),this.fire("step")},_complete:function(){r.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),r.Map.include({setView:function(t,e,n){if(e=e===i?this._zoom:this._limitZoom(e),t=this._limitCenter(r.latLng(t),e,this.options.maxBounds),n=n||{},this.stop(),this._loaded&&!n.reset&&n!==!0){n.animate!==i&&(n.zoom=r.extend({animate:n.animate},n.zoom),n.pan=r.extend({animate:n.animate,duration:n.duration},n.pan));var o=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan);if(o)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},panBy:function(t,e){if(t=r.point(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(e.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new r.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){r.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t);this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){r.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._floor();return(e&&e.animate)===!0||this.getSize().contains(n)?(this.panBy(n,e),!0):!1}}),r.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4});var h=r.DomUtil.TRANSITION&&r.Browser.any3d&&!r.Browser.mobileOpera;h&&r.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),r.DomEvent.on(this._proxy,r.DomUtil.TRANSITION_END,this._catchTransitionEnd,this))}),r.Map.include(h?{_createAnimProxy:function(){var t=this._proxy=r.DomUtil.create("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var n=r.DomUtil.TRANSFORM,i=t.style[n];r.DomUtil.setTransform(t,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),i===t.style[n]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var e=this.getCenter(),n=this.getZoom();r.DomUtil.setTransform(t,this.project(e,n),this.getZoomScale(n,1))},this)},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||n.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/i);return n.animate===!0||this.getSize().contains(o)?(r.Util.requestAnimFrame(function(){this._moveStart(!0)._animateZoom(t,e,!0)},this),!0):!1},_animateZoom:function(t,e,n,i){n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,r.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:i}),setTimeout(r.bind(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(r.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),r.Util.requestAnimFrame(function(){this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom)._moveEnd(!0)},this))}}:{}),r.Map.include({flyTo:function(t,e,n){function o(t){var e=(v*v-g*g+(t?-1:1)*x*x*y*y)/(2*(t?v:g)*x*y);return Math.log(Math.sqrt(e*e+1)-e)}function s(t){return(Math.exp(t)-Math.exp(-t))/2}function a(t){return(Math.exp(t)+Math.exp(-t))/2}function l(t){return s(t)/a(t)}function h(t){return g*(a(w)/a(w+L*t))}function u(t){return g*(a(w)*l(w+L*t)-s(w))/x}function c(t){return 1-Math.pow(1-t,1.5)}function p(){var n=(Date.now()-b)/C,i=c(n)*P;1>=n?(this._flyToFrame=r.Util.requestAnimFrame(p,this),this._move(this.unproject(d.add(f.subtract(d).multiplyBy(u(i)/y)),_),this.getScaleZoom(g/h(i),_),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}if(n=n||{},n.animate===!1||!r.Browser.any3d)return this.setView(t,e,n);this.stop();var d=this.project(this.getCenter()),f=this.project(t),m=this.getSize(),_=this._zoom;t=r.latLng(t),e=e===i?_:e;var g=Math.max(m.x,m.y),v=g*this.getZoomScale(_,e),y=f.distanceTo(d)||1,L=1.42,x=L*L,w=o(0),b=Date.now(),P=(o(1)-w)/L,C=n.duration?1e3*n.duration:1e3*P*.8;return this._moveStart(!0),p.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)}}),r.Map.include({_defaultLocateOptions:{timeout:1e4,watch:!1},locate:function(t){if(t=this._locateOptions=r.extend({},this._defaultLocateOptions,t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=r.bind(this._handleGeolocationResponse,this),n=r.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,n=t.coords.longitude,i=new r.LatLng(e,n),o=i.toBounds(t.coords.accuracy),s=this._locateOptions;if(s.setView){var a=this.getBoundsZoom(o);this.setView(i,s.maxZoom?Math.min(a,s.maxZoom):a)}var l={latlng:i,bounds:o,timestamp:t.timestamp};for(var h in t.coords)"number"==typeof t.coords[h]&&(l[h]=t.coords[h]);this.fire("locationfound",l)}})}(window,document)},{}],13:[function(t,e,n){function i(t,e){return null==e?t:o(e,r(e),t)}var o=t("lodash._basecopy"),r=t("lodash.keys");e.exports=i},{"lodash._basecopy":15,"lodash.keys":30}],14:[function(t,e,n){function i(t){return null==t?"":t+""}function o(t,e,n){var i=typeof t;return"function"==i?void 0===e?t:w(t,e,n):null==t?y:"object"==i?a(t):void 0===e?L(t):l(t,e)}function r(t,e,n){if(null!=t){void 0!==n&&n in m(t)&&(e=[n]);for(var i=0,o=e.length;null!=t&&o>i;)t=t[e[i++]];return i&&i==o?t:void 0}}function s(t,e,n){var i=e.length,o=i,r=!n;if(null==t)return!o;for(t=m(t);i--;){var s=e[i];if(r&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=e[i];var a=s[0],l=t[a],h=s[1];if(r&&s[2]){if(void 0===l&&!(a in t))return!1}else{var u=n?n(l,h,a):void 0;if(!(void 0===u?x(h,l,n,!0):u))return!1}}return!0}function a(t){var e=p(t);if(1==e.length&&e[0][2]){var n=e[0][0],i=e[0][1];return function(t){return null==t?!1:t[n]===i&&(void 0!==i||n in m(t))}}return function(t){return s(t,e)}}function l(t,e){var n=b(t),i=d(t)&&f(e),o=t+"";return t=_(t),function(s){if(null==s)return!1;var a=o;if(s=m(s),(n||!i)&&!(a in s)){if(s=1==t.length?s:r(s,c(t,0,-1)),null==s)return!1;a=g(t),s=m(s)}return s[a]===e?void 0!==e||a in s:x(e,s[a],void 0,!0)}}function h(t){return function(e){return null==e?void 0:e[t]}}function u(t){var e=t+"";return t=_(t),function(n){return r(n,t,e)}}function c(t,e,n){var i=-1,o=t.length;e=null==e?0:+e||0,0>e&&(e=-e>o?0:o+e),n=void 0===n||n>o?o:+n||0,0>n&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var r=Array(o);++i<o;)r[i]=t[i+e];return r}function p(t){for(var e=P(t),n=e.length;n--;)e[n][2]=f(e[n][1]);return e}function d(t,e){var n=typeof t;if("string"==n&&S.test(t)||"number"==n)return!0;if(b(t))return!1;var i=!C.test(t);return i||null!=e&&t in m(e)}function f(t){return t===t&&!v(t)}function m(t){return v(t)?t:Object(t)}function _(t){if(b(t))return t;var e=[];return i(t).replace(M,function(t,n,i,o){e.push(i?o.replace(k,"$1"):n||t)}),e}function g(t){var e=t?t.length:0;return e?t[e-1]:void 0}function v(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function y(t){return t}function L(t){return d(t)?h(t):u(t)}var x=t("lodash._baseisequal"),w=t("lodash._bindcallback"),b=t("lodash.isarray"),P=t("lodash.pairs"),C=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,S=/^\w*$/,M=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,k=/\\(\\)?/g;e.exports=o},{"lodash._baseisequal":19,"lodash._bindcallback":20,"lodash.isarray":28,"lodash.pairs":31}],15:[function(t,e,n){function i(t,e,n){n||(n={});for(var i=-1,o=e.length;++i<o;){var r=e[i];n[r]=t[r]}return n}e.exports=i},{}],16:[function(t,e,n){function i(t,e){return d(t,e,u)}function o(t){return function(e){return null==e?void 0:e[t]}}function r(t,e){return function(n,i){var o=n?f(n):0;if(!a(o))return t(n,i);for(var r=e?o:-1,s=l(n);(e?r--:++r<o)&&i(s[r],r,s)!==!1;);return n}}function s(t){return function(e,n,i){for(var o=l(e),r=i(e),s=r.length,a=t?s:-1;t?a--:++a<s;){var h=r[a];if(n(o[h],h,o)===!1)break}return e}}function a(t){return"number"==typeof t&&t>-1&&t%1==0&&c>=t}function l(t){return h(t)?t:Object(t)}function h(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var u=t("lodash.keys"),c=9007199254740991,p=r(i),d=s(),f=o("length");e.exports=p},{"lodash.keys":30}],17:[function(t,e,n){function i(t,e,n,i){var o;return n(t,function(t,n,r){return e(t,n,r)?(o=i?n:t,!1):void 0}),o}e.exports=i},{}],18:[function(t,e,n){function i(t,e,n){for(var i=t.length,o=n?i:-1;n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}e.exports=i},{}],19:[function(t,e,n){function i(t){return!!t&&"object"==typeof t}function o(t,e){for(var n=-1,i=t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function r(t,e,n,o,a,l){return t===e?!0:null==t||null==e||!u(t)&&!i(e)?t!==t&&e!==e:s(t,e,r,n,o,a,l)}function s(t,e,n,i,o,r,s){var u=c(t),d=c(e),_=m,g=m;u||(_=C.call(t),_==f?_=L:_!=L&&(u=p(t))),d||(g=C.call(e),g==f?g=L:g!=L&&(d=p(e)));var v=_==L,y=g==L,x=_==g;if(x&&!u&&!v)return l(t,e,_);if(!o){var w=v&&P.call(t,"__wrapped__"),b=y&&P.call(e,"__wrapped__");if(w||b)return n(w?t.value():t,b?e.value():e,i,o,r,s)}if(!x)return!1;r||(r=[]),s||(s=[]);for(var S=r.length;S--;)if(r[S]==t)return s[S]==e;r.push(t),s.push(e);var M=(u?a:h)(t,e,n,i,o,r,s);return r.pop(),s.pop(),M}function a(t,e,n,i,r,s,a){var l=-1,h=t.length,u=e.length;if(h!=u&&!(r&&u>h))return!1;for(;++l<h;){var c=t[l],p=e[l],d=i?i(r?p:c,r?c:p,l):void 0;if(void 0!==d){if(d)continue;return!1}if(r){if(!o(e,function(t){return c===t||n(c,t,i,r,s,a)}))return!1}else if(c!==p&&!n(c,p,i,r,s,a))return!1}return!0}function l(t,e,n){switch(n){case _:case g:return+t==+e;case v:return t.name==e.name&&t.message==e.message;case y:return t!=+t?e!=+e:t==+e;case x:case w:return t==e+""}return!1}function h(t,e,n,i,o,r,s){var a=d(t),l=a.length,h=d(e),u=h.length;if(l!=u&&!o)return!1;for(var c=l;c--;){var p=a[c];if(!(o?p in e:P.call(e,p)))return!1}for(var f=o;++c<l;){p=a[c];var m=t[p],_=e[p],g=i?i(o?_:m,o?m:_,p):void 0;if(!(void 0===g?n(m,_,i,o,r,s):g))return!1;f||(f="constructor"==p)}if(!f){var v=t.constructor,y=e.constructor;if(v!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y))return!1}return!0}function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var c=t("lodash.isarray"),p=t("lodash.istypedarray"),d=t("lodash.keys"),f="[object Arguments]",m="[object Array]",_="[object Boolean]",g="[object Date]",v="[object Error]",y="[object Number]",L="[object Object]",x="[object RegExp]",w="[object String]",b=Object.prototype,P=b.hasOwnProperty,C=b.toString;e.exports=r},{"lodash.isarray":28,"lodash.istypedarray":29,"lodash.keys":30}],20:[function(t,e,n){function i(t,e,n){if("function"!=typeof t)return o;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,o){return t.call(e,n,i,o)};case 4:return function(n,i,o,r){return t.call(e,n,i,o,r)};case 5:return function(n,i,o,r,s){return t.call(e,n,i,o,r,s)}}return function(){return t.apply(e,arguments)}}function o(t){return t}e.exports=i},{}],21:[function(t,e,n){function i(t){return s(function(e,n){var i=-1,s=null==e?0:n.length,a=s>2?n[s-2]:void 0,l=s>2?n[2]:void 0,h=s>1?n[s-1]:void 0;for("function"==typeof a?(a=o(a,h,5),s-=2):(a="function"==typeof h?h:void 0,s-=a?1:0),l&&r(n[0],n[1],l)&&(a=3>s?void 0:a,s=1);++i<s;){var u=n[i];u&&t(e,u,a)}return e})}var o=t("lodash._bindcallback"),r=t("lodash._isiterateecall"),s=t("lodash.restparam");e.exports=i},{"lodash._bindcallback":20,"lodash._isiterateecall":23,"lodash.restparam":32}],22:[function(t,e,n){function i(t){return!!t&&"object"==typeof t}function o(t,e){var n=null==t?void 0:t[e];return a(n)?n:void 0}function r(t){return s(t)&&d.call(t)==l}function s(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function a(t){return null==t?!1:r(t)?f.test(c.call(t)):i(t)&&h.test(t)}var l="[object Function]",h=/^\[object .+?Constructor\]$/,u=Object.prototype,c=Function.prototype.toString,p=u.hasOwnProperty,d=u.toString,f=RegExp("^"+c.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");
e.exports=o},{}],23:[function(t,e,n){function i(t){return function(e){return null==e?void 0:e[t]}}function o(t){return null!=t&&a(c(t))}function r(t,e){return t="number"==typeof t||h.test(t)?+t:-1,e=null==e?u:e,t>-1&&t%1==0&&e>t}function s(t,e,n){if(!l(n))return!1;var i=typeof e;if("number"==i?o(n)&&r(e,n.length):"string"==i&&e in n){var s=n[e];return t===t?t===s:s!==s}return!1}function a(t){return"number"==typeof t&&t>-1&&t%1==0&&u>=t}function l(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var h=/^\d+$/,u=9007199254740991,c=i("length");e.exports=s},{}],24:[function(t,e,n){function i(t,e,n){for(var i=-1,o=s(e),r=o.length;++i<r;){var a=o[i],l=t[a],h=n(l,e[a],a,t,e);(h===h?h===l:l!==l)&&(void 0!==l||a in t)||(t[a]=h)}return t}var o=t("lodash._baseassign"),r=t("lodash._createassigner"),s=t("lodash.keys"),a=r(function(t,e,n){return n?i(t,e,n):o(t,e)});e.exports=a},{"lodash._baseassign":13,"lodash._createassigner":21,"lodash.keys":30}],25:[function(t,e,n){function i(t,e){return void 0===t?e:t}function o(t,e){return s(function(n){var i=n[0];return null==i?i:(n.push(e),t.apply(void 0,n))})}var r=t("lodash.assign"),s=t("lodash.restparam"),a=o(r,i);e.exports=a},{"lodash.assign":24,"lodash.restparam":32}],26:[function(t,e,n){function i(t,e){return function(n,i,r){if(i=o(i,r,3),l(n)){var h=a(n,i,e);return h>-1?n[h]:void 0}return s(n,i,t)}}var o=t("lodash._basecallback"),r=t("lodash._baseeach"),s=t("lodash._basefind"),a=t("lodash._basefindindex"),l=t("lodash.isarray"),h=i(r);e.exports=h},{"lodash._basecallback":14,"lodash._baseeach":16,"lodash._basefind":17,"lodash._basefindindex":18,"lodash.isarray":28}],27:[function(t,e,n){function i(t){return!!t&&"object"==typeof t}function o(t){return function(e){return null==e?void 0:e[t]}}function r(t){return null!=t&&s(p(t))}function s(t){return"number"==typeof t&&t>-1&&t%1==0&&c>=t}function a(t){return i(t)&&r(t)&&h.call(t,"callee")&&!u.call(t,"callee")}var l=Object.prototype,h=l.hasOwnProperty,u=l.propertyIsEnumerable,c=9007199254740991,p=o("length");e.exports=a},{}],28:[function(t,e,n){function i(t){return!!t&&"object"==typeof t}function o(t,e){var n=null==t?void 0:t[e];return l(n)?n:void 0}function r(t){return"number"==typeof t&&t>-1&&t%1==0&&v>=t}function s(t){return a(t)&&m.call(t)==u}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function l(t){return null==t?!1:s(t)?_.test(d.call(t)):i(t)&&c.test(t)}var h="[object Array]",u="[object Function]",c=/^\[object .+?Constructor\]$/,p=Object.prototype,d=Function.prototype.toString,f=p.hasOwnProperty,m=p.toString,_=RegExp("^"+d.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),g=o(Array,"isArray"),v=9007199254740991,y=g||function(t){return i(t)&&r(t.length)&&m.call(t)==h};e.exports=y},{}],29:[function(t,e,n){function i(t){return!!t&&"object"==typeof t}function o(t){return"number"==typeof t&&t>-1&&t%1==0&&z>=t}function r(t){return i(t)&&o(t.length)&&!!T[D.call(t)]}var s="[object Arguments]",a="[object Array]",l="[object Boolean]",h="[object Date]",u="[object Error]",c="[object Function]",p="[object Map]",d="[object Number]",f="[object Object]",m="[object RegExp]",_="[object Set]",g="[object String]",v="[object WeakMap]",y="[object ArrayBuffer]",L="[object Float32Array]",x="[object Float64Array]",w="[object Int8Array]",b="[object Int16Array]",P="[object Int32Array]",C="[object Uint8Array]",S="[object Uint8ClampedArray]",M="[object Uint16Array]",k="[object Uint32Array]",T={};T[L]=T[x]=T[w]=T[b]=T[P]=T[C]=T[S]=T[M]=T[k]=!0,T[s]=T[a]=T[y]=T[l]=T[h]=T[u]=T[c]=T[p]=T[d]=T[f]=T[m]=T[_]=T[g]=T[v]=!1;var E=Object.prototype,D=E.toString,z=9007199254740991;e.exports=r},{}],30:[function(t,e,n){function i(t){return function(e){return null==e?void 0:e[t]}}function o(t){return null!=t&&s(v(t))}function r(t,e){return t="number"==typeof t||d.test(t)?+t:-1,e=null==e?g:e,t>-1&&t%1==0&&e>t}function s(t){return"number"==typeof t&&t>-1&&t%1==0&&g>=t}function a(t){for(var e=h(t),n=e.length,i=n&&t.length,o=!!i&&s(i)&&(p(t)||c(t)),a=-1,l=[];++a<n;){var u=e[a];(o&&r(u,i)||m.call(t,u))&&l.push(u)}return l}function l(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function h(t){if(null==t)return[];l(t)||(t=Object(t));var e=t.length;e=e&&s(e)&&(p(t)||c(t))&&e||0;for(var n=t.constructor,i=-1,o="function"==typeof n&&n.prototype===t,a=Array(e),h=e>0;++i<e;)a[i]=i+"";for(var u in t)h&&r(u,e)||"constructor"==u&&(o||!m.call(t,u))||a.push(u);return a}var u=t("lodash._getnative"),c=t("lodash.isarguments"),p=t("lodash.isarray"),d=/^\d+$/,f=Object.prototype,m=f.hasOwnProperty,_=u(Object,"keys"),g=9007199254740991,v=i("length"),y=_?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&o(t)?a(t):l(t)?_(t):[]}:a;e.exports=y},{"lodash._getnative":22,"lodash.isarguments":27,"lodash.isarray":28}],31:[function(t,e,n){function i(t){return o(t)?t:Object(t)}function o(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function r(t){t=i(t);for(var e=-1,n=s(t),o=n.length,r=Array(o);++e<o;){var a=n[e];r[e]=[a,t[a]]}return r}var s=t("lodash.keys");e.exports=r},{"lodash.keys":30}],32:[function(t,e,n){function i(t,e){if("function"!=typeof t)throw new TypeError(o);return e=r(void 0===e?t.length-1:+e||0,0),function(){for(var n=arguments,i=-1,o=r(n.length-e,0),s=Array(o);++i<o;)s[i]=n[e+i];switch(e){case 0:return t.call(this,s);case 1:return t.call(this,n[0],s);case 2:return t.call(this,n[0],n[1],s)}var a=Array(e+1);for(i=-1;++i<e;)a[i]=n[i];return a[e]=s,t.apply(this,a)}}var o="Expected a function",r=Math.max;e.exports=i},{}],33:[function(t,e,n){!function(){var t=function(e){var n=new t.Index;return n.pipeline.add(t.trimmer,t.stopWordFilter,t.stemmer),e&&e.call(n,n),n};t.version="0.6.0",t.utils={},t.utils.warn=function(t){return function(e){t.console&&console.warn&&console.warn(e)}}(this),t.utils.asString=function(t){return void 0===t||null===t?"":t.toString()},t.EventEmitter=function(){this.events={}},t.EventEmitter.prototype.addListener=function(){var t=Array.prototype.slice.call(arguments),e=t.pop(),n=t;if("function"!=typeof e)throw new TypeError("last argument must be a function");n.forEach(function(t){this.hasHandler(t)||(this.events[t]=[]),this.events[t].push(e)},this)},t.EventEmitter.prototype.removeListener=function(t,e){if(this.hasHandler(t)){var n=this.events[t].indexOf(e);this.events[t].splice(n,1),this.events[t].length||delete this.events[t]}},t.EventEmitter.prototype.emit=function(t){if(this.hasHandler(t)){var e=Array.prototype.slice.call(arguments,1);this.events[t].forEach(function(t){t.apply(void 0,e)})}},t.EventEmitter.prototype.hasHandler=function(t){return t in this.events},t.tokenizer=function(e){return arguments.length&&null!=e&&void 0!=e?Array.isArray(e)?e.map(function(e){return t.utils.asString(e).toLowerCase()}):e.toString().trim().toLowerCase().split(t.tokenizer.seperator):[]},t.tokenizer.seperator=/[\s\-]+/,t.Pipeline=function(){this._stack=[]},t.Pipeline.registeredFunctions={},t.Pipeline.registerFunction=function(e,n){n in this.registeredFunctions&&t.utils.warn("Overwriting existing registered function: "+n),e.label=n,t.Pipeline.registeredFunctions[e.label]=e},t.Pipeline.warnIfFunctionNotRegistered=function(e){var n=e.label&&e.label in this.registeredFunctions;n||t.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",e)},t.Pipeline.load=function(e){var n=new t.Pipeline;return e.forEach(function(e){var i=t.Pipeline.registeredFunctions[e];if(!i)throw new Error("Cannot load un-registered function: "+e);n.add(i)}),n},t.Pipeline.prototype.add=function(){var e=Array.prototype.slice.call(arguments);e.forEach(function(e){t.Pipeline.warnIfFunctionNotRegistered(e),this._stack.push(e)},this)},t.Pipeline.prototype.after=function(e,n){t.Pipeline.warnIfFunctionNotRegistered(n);var i=this._stack.indexOf(e);if(-1==i)throw new Error("Cannot find existingFn");i+=1,this._stack.splice(i,0,n)},t.Pipeline.prototype.before=function(e,n){t.Pipeline.warnIfFunctionNotRegistered(n);var i=this._stack.indexOf(e);if(-1==i)throw new Error("Cannot find existingFn");this._stack.splice(i,0,n)},t.Pipeline.prototype.remove=function(t){var e=this._stack.indexOf(t);-1!=e&&this._stack.splice(e,1)},t.Pipeline.prototype.run=function(t){for(var e=[],n=t.length,i=this._stack.length,o=0;n>o;o++){for(var r=t[o],s=0;i>s&&(r=this._stack[s](r,o,t),void 0!==r&&""!==r);s++);void 0!==r&&""!==r&&e.push(r)}return e},t.Pipeline.prototype.reset=function(){this._stack=[]},t.Pipeline.prototype.toJSON=function(){return this._stack.map(function(e){return t.Pipeline.warnIfFunctionNotRegistered(e),e.label})},t.Vector=function(){this._magnitude=null,this.list=void 0,this.length=0},t.Vector.Node=function(t,e,n){this.idx=t,this.val=e,this.next=n},t.Vector.prototype.insert=function(e,n){this._magnitude=void 0;var i=this.list;if(!i)return this.list=new t.Vector.Node(e,n,i),this.length++;if(e<i.idx)return this.list=new t.Vector.Node(e,n,i),this.length++;for(var o=i,r=i.next;void 0!=r;){if(e<r.idx)return o.next=new t.Vector.Node(e,n,r),this.length++;o=r,r=r.next}return o.next=new t.Vector.Node(e,n,r),this.length++},t.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var t,e=this.list,n=0;e;)t=e.val,n+=t*t,e=e.next;return this._magnitude=Math.sqrt(n)},t.Vector.prototype.dot=function(t){for(var e=this.list,n=t.list,i=0;e&&n;)e.idx<n.idx?e=e.next:e.idx>n.idx?n=n.next:(i+=e.val*n.val,e=e.next,n=n.next);return i},t.Vector.prototype.similarity=function(t){return this.dot(t)/(this.magnitude()*t.magnitude())},t.SortedSet=function(){this.length=0,this.elements=[]},t.SortedSet.load=function(t){var e=new this;return e.elements=t,e.length=t.length,e},t.SortedSet.prototype.add=function(){var t,e;for(t=0;t<arguments.length;t++)e=arguments[t],~this.indexOf(e)||this.elements.splice(this.locationFor(e),0,e);this.length=this.elements.length},t.SortedSet.prototype.toArray=function(){return this.elements.slice()},t.SortedSet.prototype.map=function(t,e){return this.elements.map(t,e)},t.SortedSet.prototype.forEach=function(t,e){return this.elements.forEach(t,e)},t.SortedSet.prototype.indexOf=function(t){for(var e=0,n=this.elements.length,i=n-e,o=e+Math.floor(i/2),r=this.elements[o];i>1;){if(r===t)return o;t>r&&(e=o),r>t&&(n=o),i=n-e,o=e+Math.floor(i/2),r=this.elements[o]}return r===t?o:-1},t.SortedSet.prototype.locationFor=function(t){for(var e=0,n=this.elements.length,i=n-e,o=e+Math.floor(i/2),r=this.elements[o];i>1;)t>r&&(e=o),r>t&&(n=o),i=n-e,o=e+Math.floor(i/2),r=this.elements[o];return r>t?o:t>r?o+1:void 0},t.SortedSet.prototype.intersect=function(e){for(var n=new t.SortedSet,i=0,o=0,r=this.length,s=e.length,a=this.elements,l=e.elements;;){if(i>r-1||o>s-1)break;a[i]!==l[o]?a[i]<l[o]?i++:a[i]>l[o]&&o++:(n.add(a[i]),i++,o++)}return n},t.SortedSet.prototype.clone=function(){var e=new t.SortedSet;return e.elements=this.toArray(),e.length=e.elements.length,e},t.SortedSet.prototype.union=function(t){var e,n,i;return this.length>=t.length?(e=this,n=t):(e=t,n=this),i=e.clone(),i.add.apply(i,n.toArray()),i},t.SortedSet.prototype.toJSON=function(){return this.toArray()},t.Index=function(){this._fields=[],this._ref="id",this.pipeline=new t.Pipeline,this.documentStore=new t.Store,this.tokenStore=new t.TokenStore,this.corpusTokens=new t.SortedSet,this.eventEmitter=new t.EventEmitter,this._idfCache={},this.on("add","remove","update",function(){this._idfCache={}}.bind(this))},t.Index.prototype.on=function(){var t=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,t)},t.Index.prototype.off=function(t,e){return this.eventEmitter.removeListener(t,e)},t.Index.load=function(e){e.version!==t.version&&t.utils.warn("version mismatch: current "+t.version+" importing "+e.version);var n=new this;return n._fields=e.fields,n._ref=e.ref,n.documentStore=t.Store.load(e.documentStore),n.tokenStore=t.TokenStore.load(e.tokenStore),n.corpusTokens=t.SortedSet.load(e.corpusTokens),n.pipeline=t.Pipeline.load(e.pipeline),n},t.Index.prototype.field=function(t,e){var e=e||{},n={name:t,boost:e.boost||1};return this._fields.push(n),this},t.Index.prototype.ref=function(t){return this._ref=t,this},t.Index.prototype.add=function(e,n){var i={},o=new t.SortedSet,r=e[this._ref],n=void 0===n?!0:n;this._fields.forEach(function(n){var r=this.pipeline.run(t.tokenizer(e[n.name]));i[n.name]=r,t.SortedSet.prototype.add.apply(o,r)},this),this.documentStore.set(r,o),t.SortedSet.prototype.add.apply(this.corpusTokens,o.toArray());for(var s=0;s<o.length;s++){var a=o.elements[s],l=this._fields.reduce(function(t,e){var n=i[e.name].length;if(!n)return t;var o=i[e.name].filter(function(t){return t===a}).length;return t+o/n*e.boost},0);this.tokenStore.add(a,{ref:r,tf:l})}n&&this.eventEmitter.emit("add",e,this)},t.Index.prototype.remove=function(t,e){var n=t[this._ref],e=void 0===e?!0:e;if(this.documentStore.has(n)){var i=this.documentStore.get(n);this.documentStore.remove(n),i.forEach(function(t){this.tokenStore.remove(t,n)},this),e&&this.eventEmitter.emit("remove",t,this)}},t.Index.prototype.update=function(t,e){var e=void 0===e?!0:e;this.remove(t,!1),this.add(t,!1),e&&this.eventEmitter.emit("update",t,this)},t.Index.prototype.idf=function(t){var e="@"+t;if(Object.prototype.hasOwnProperty.call(this._idfCache,e))return this._idfCache[e];var n=this.tokenStore.count(t),i=1;return n>0&&(i=1+Math.log(this.documentStore.length/n)),this._idfCache[e]=i},t.Index.prototype.search=function(e){var n=this.pipeline.run(t.tokenizer(e)),i=new t.Vector,o=[],r=this._fields.reduce(function(t,e){return t+e.boost},0),s=n.some(function(t){return this.tokenStore.has(t)},this);if(!s)return[];n.forEach(function(e,n,s){var a=1/s.length*this._fields.length*r,l=this,h=this.tokenStore.expand(e).reduce(function(n,o){var r=l.corpusTokens.indexOf(o),s=l.idf(o),h=1,u=new t.SortedSet;if(o!==e){var c=Math.max(3,o.length-e.length);h=1/Math.log(c)}r>-1&&i.insert(r,a*s*h);for(var p=l.tokenStore.get(o),d=Object.keys(p),f=d.length,m=0;f>m;m++)u.add(p[d[m]].ref);return n.union(u)},new t.SortedSet);o.push(h)},this);var a=o.reduce(function(t,e){return t.intersect(e)});return a.map(function(t){return{ref:t,score:i.similarity(this.documentVector(t))}},this).sort(function(t,e){return e.score-t.score})},t.Index.prototype.documentVector=function(e){for(var n=this.documentStore.get(e),i=n.length,o=new t.Vector,r=0;i>r;r++){var s=n.elements[r],a=this.tokenStore.get(s)[e].tf,l=this.idf(s);o.insert(this.corpusTokens.indexOf(s),a*l)}return o},t.Index.prototype.toJSON=function(){return{version:t.version,fields:this._fields,ref:this._ref,documentStore:this.documentStore.toJSON(),tokenStore:this.tokenStore.toJSON(),corpusTokens:this.corpusTokens.toJSON(),pipeline:this.pipeline.toJSON()}},t.Index.prototype.use=function(t){var e=Array.prototype.slice.call(arguments,1);e.unshift(this),t.apply(this,e)},t.Store=function(){this.store={},this.length=0},t.Store.load=function(e){var n=new this;return n.length=e.length,n.store=Object.keys(e.store).reduce(function(n,i){return n[i]=t.SortedSet.load(e.store[i]),n},{}),n},t.Store.prototype.set=function(t,e){this.has(t)||this.length++,this.store[t]=e},t.Store.prototype.get=function(t){return this.store[t]},t.Store.prototype.has=function(t){return t in this.store},t.Store.prototype.remove=function(t){this.has(t)&&(delete this.store[t],this.length--)},t.Store.prototype.toJSON=function(){return{store:this.store,length:this.length}},t.stemmer=function(){var t={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},e={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},n="[^aeiou]",i="[aeiouy]",o=n+"[^aeiouy]*",r=i+"[aeiou]*",s="^("+o+")?"+r+o,a="^("+o+")?"+r+o+"("+r+")?$",l="^("+o+")?"+r+o+r+o,h="^("+o+")?"+i,u=new RegExp(s),c=new RegExp(l),p=new RegExp(a),d=new RegExp(h),f=/^(.+?)(ss|i)es$/,m=/^(.+?)([^s])s$/,_=/^(.+?)eed$/,g=/^(.+?)(ed|ing)$/,v=/.$/,y=/(at|bl|iz)$/,L=new RegExp("([^aeiouylsz])\\1$"),x=new RegExp("^"+o+i+"[^aeiouwxy]$"),w=/^(.+?[^aeiou])y$/,b=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,P=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,C=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,S=/^(.+?)(s|t)(ion)$/,M=/^(.+?)e$/,k=/ll$/,T=new RegExp("^"+o+i+"[^aeiouwxy]$"),E=function(n){var i,o,r,s,a,l,h;if(n.length<3)return n;if(r=n.substr(0,1),"y"==r&&(n=r.toUpperCase()+n.substr(1)),s=f,a=m,s.test(n)?n=n.replace(s,"$1$2"):a.test(n)&&(n=n.replace(a,"$1$2")),s=_,a=g,s.test(n)){var E=s.exec(n);s=u,s.test(E[1])&&(s=v,n=n.replace(s,""))}else if(a.test(n)){var E=a.exec(n);i=E[1],a=d,a.test(i)&&(n=i,a=y,l=L,h=x,a.test(n)?n+="e":l.test(n)?(s=v,n=n.replace(s,"")):h.test(n)&&(n+="e"))}if(s=w,s.test(n)){var E=s.exec(n);i=E[1],n=i+"i"}if(s=b,s.test(n)){var E=s.exec(n);i=E[1],o=E[2],s=u,s.test(i)&&(n=i+t[o])}if(s=P,s.test(n)){var E=s.exec(n);i=E[1],o=E[2],s=u,s.test(i)&&(n=i+e[o])}if(s=C,a=S,s.test(n)){var E=s.exec(n);i=E[1],s=c,s.test(i)&&(n=i)}else if(a.test(n)){var E=a.exec(n);i=E[1]+E[2],a=c,a.test(i)&&(n=i)}if(s=M,s.test(n)){var E=s.exec(n);i=E[1],s=c,a=p,l=T,(s.test(i)||a.test(i)&&!l.test(i))&&(n=i)}return s=k,a=c,s.test(n)&&a.test(n)&&(s=v,n=n.replace(s,"")),"y"==r&&(n=r.toLowerCase()+n.substr(1)),n};return E}(),t.Pipeline.registerFunction(t.stemmer,"stemmer"),t.generateStopWordFilter=function(t){var e=t.reduce(function(t,e){return t[e]=e,t},{});return function(t){return t&&e[t]!==t?t:void 0}},t.stopWordFilter=t.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),t.Pipeline.registerFunction(t.stopWordFilter,"stopWordFilter"),t.trimmer=function(t){return t.replace(/^\W+/,"").replace(/\W+$/,"")},t.Pipeline.registerFunction(t.trimmer,"trimmer"),t.TokenStore=function(){this.root={docs:{}},this.length=0},t.TokenStore.load=function(t){var e=new this;return e.root=t.root,e.length=t.length,e},t.TokenStore.prototype.add=function(t,e,n){var n=n||this.root,i=t.charAt(0),o=t.slice(1);return i in n||(n[i]={docs:{}}),0===o.length?(n[i].docs[e.ref]=e,void(this.length+=1)):this.add(o,e,n[i])},t.TokenStore.prototype.has=function(t){if(!t)return!1;for(var e=this.root,n=0;n<t.length;n++){if(!e[t.charAt(n)])return!1;e=e[t.charAt(n)]}return!0},t.TokenStore.prototype.getNode=function(t){if(!t)return{};for(var e=this.root,n=0;n<t.length;n++){if(!e[t.charAt(n)])return{};e=e[t.charAt(n)]}return e},t.TokenStore.prototype.get=function(t,e){return this.getNode(t,e).docs||{}},t.TokenStore.prototype.count=function(t,e){return Object.keys(this.get(t,e)).length},t.TokenStore.prototype.remove=function(t,e){if(t){for(var n=this.root,i=0;i<t.length;i++){if(!(t.charAt(i)in n))return;n=n[t.charAt(i)]}delete n.docs[e]}},t.TokenStore.prototype.expand=function(t,e){var n=this.getNode(t),i=n.docs||{},e=e||[];return Object.keys(i).length&&e.push(t),Object.keys(n).forEach(function(n){"docs"!==n&&e.concat(this.expand(t+n,e))},this),e},t.TokenStore.prototype.toJSON=function(){return{root:this.root,length:this.length}},function(t,i){"function"==typeof define&&define.amd?define(i):"object"==typeof n?e.exports=i():t.lunr=i()}(this,function(){return t})}()},{}],34:[function(t,e,n){var i=t("trim"),o=t("for-each"),r=function(t){return"[object Array]"===Object.prototype.toString.call(t)};e.exports=function(t){if(!t)return{};var e={};return o(i(t).split("\n"),function(t){var n=t.indexOf(":"),o=i(t.slice(0,n)).toLowerCase(),s=i(t.slice(n+1));"undefined"==typeof e[o]?e[o]=s:r(e[o])?e[o].push(s):e[o]=[e[o],s]}),e}},{"for-each":7,trim:42}],35:[function(t,e,n){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,n,r){e=e||"&",n=n||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var l=1e3;r&&"number"==typeof r.maxKeys&&(l=r.maxKeys);var h=t.length;l>0&&h>l&&(h=l);for(var u=0;h>u;++u){var c,p,d,f,m=t[u].replace(a,"%20"),_=m.indexOf(n);_>=0?(c=m.substr(0,_),p=m.substr(_+1)):(c=m,p=""),d=decodeURIComponent(c),f=decodeURIComponent(p),i(s,d)?o(s[d])?s[d].push(f):s[d]=[s[d],f]:s[d]=f}return s};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],36:[function(t,e,n){"use strict";function i(t,e){if(t.map)return t.map(e);for(var n=[],i=0;i<t.length;i++)n.push(e(t[i],i));return n}var o=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,n,a){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?i(s(t),function(s){var a=encodeURIComponent(o(s))+n;return r(t[s])?i(t[s],function(t){return a+encodeURIComponent(o(t))}).join(e):a+encodeURIComponent(o(t[s]))}).join(e):a?encodeURIComponent(o(a))+n+encodeURIComponent(o(t)):""};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},{}],37:[function(t,e,n){"use strict";n.decode=n.parse=t("./decode"),n.encode=n.stringify=t("./encode")},{"./decode":35,"./encode":36}],38:[function(t,e,n){var i=t("./lib/spherekd");e.exports=function(t){var e=i.build(t);return function(t,n,o,r){return i.lookup(t,n,e,o,r)}}},{"./lib/spherekd":41}],39:[function(t,e,n){function i(t,e){return t-e}n.search=function(t,e,n){n||(n=i);for(var o,r,s=0,a=e.length-1;a>=s;)if(o=s+a>>>1,r=n(e[o],t),0>r)s=o+1;else{if(!(r>0))return o;a=o-1}return-(s+1)},n.insert=function(t,e,i){var o=n.search(t,e,i);0>o&&(o=-(o+1)),e.splice(o,0,t)}},{}],40:[function(t,e,n){function i(t,e,n,i){this.axis=t,this.split=e,this.left=n,this.right=i}function o(t,e){for(var n,i=Math.min(t.length,e.length),o=0;i--;)n=e[i]-t[i],o+=n*n;return o}function r(t,e){return t.dist-e.dist}function s(t,e){if(0===t.length)return null;if(1===t.length)return t[0];var n=e%t[0].position.length;t.sort(function(t,e){return t.position[n]-e.position[n]});var o=Math.floor(.5*t.length);return++e,new i(n,t[o].position[n],s(t.slice(0,o),e),s(t.slice(o),e))}function a(t){return s(t,0)}function l(t,e,n,s){s>0||(s=Number.POSITIVE_INFINITY);var a=[];if(null===e||0>=n)return a;for(var l,u,c=[e,0];c.length;)if(l=c.pop(),e=c.pop(),!(l>s||a.length===n&&a[a.length-1].dist<l*l)){for(;e instanceof i;)t[e.axis]<e.split?(c.push(e.right,e.split-t[e.axis]),e=e.left):(c.push(e.left,t[e.axis]-e.split),e=e.right);l=o(t,e.position),s*s>=l&&h.insert({object:e,dist:l},a,r),a.length>n&&a.pop()}for(u=a.length;u--;)a[u]=a[u].object;return a}var h=t("./binary");n.build=a,n.lookup=l},{"./binary":39}],41:[function(t,e,n){function i(t,e){t*=l,e*=l;var n=Math.cos(t);return[n*Math.cos(e),Math.sin(t),n*Math.sin(e)]}function o(t){var e,n;t.hasOwnProperty("lat")?e=t.lat:t.hasOwnProperty("latitude")?e=t.latitude:t.hasOwnProperty("location")&&Array.isArray(t.location)&&2===t.location.length&&(e=t.location[0]),t.hasOwnProperty("lon")?n=t.lon:t.hasOwnProperty("longitude")?n=t.longitude:t.hasOwnProperty("lng")?n=t.lng:t.hasOwnProperty("long")?n=t["long"]:t.hasOwnProperty("location")&&Array.isArray(t.location)&&2===t.location.length&&(n=t.location[1]),this.object=t,this.position=i(e,n)}function r(t){for(var e=t.length,n=new Array(e);e--;)n[e]=new o(t[e]);return a.build(n)}function s(t,e,n,o,r){for(var s=a.lookup(i(t,e),n,o,r>0?2*Math.sin(r*h):void 0),l=s.length;l--;)s[l]=s[l].object;return s}var a=t("./kd"),l=Math.PI/180,h=1/12742018;n.build=r,n.lookup=s},{"./kd":40}],42:[function(t,e,n){function i(t){return t.replace(/^\s*|\s*$/g,"")}n=e.exports=i,n.left=function(t){return t.replace(/^\s*/,"")},n.right=function(t){return t.replace(/\s*$/,"")}},{}],43:[function(t,e,n){var i=t("./trim"),o=t("./decapitalize");e.exports=function(t,e){return t=i(t).replace(/[-_\s]+(.)?/g,function(t,e){return e?e.toUpperCase():""}),e===!0?o(t):t}},{"./decapitalize":52,"./trim":104}],44:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t,e){t=i(t);var n=e?t.slice(1).toLowerCase():t.slice(1);return t.charAt(0).toUpperCase()+n}},{"./helper/makeString":62}],45:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t){return i(t).split("")}},{"./helper/makeString":62}],46:[function(t,e,n){e.exports=function(t,e){return null==t?[]:(t=String(t),e=~~e,e>0?t.match(new RegExp(".{1,"+e+"}","g")):[t])}},{}],47:[function(t,e,n){var i=t("./capitalize"),o=t("./camelize"),r=t("./helper/makeString");e.exports=function(t){return t=r(t),i(o(t.replace(/[\W_]/g," ")).replace(/\s/g,""))}},{"./camelize":43,"./capitalize":44,"./helper/makeString":62}],48:[function(t,e,n){var i=t("./trim");e.exports=function(t){return i(t).replace(/\s\s+/g," ")}},{"./trim":104}],49:[function(t,e,n){var i=t("./helper/makeString"),o="",r="aaaaaaaaaccceeeeeghiiiijllnnoooooooossssttuuuuuunyyczzz";o+=o.toUpperCase(),r+=r.toUpperCase(),r=r.split(""),o+="",r.push("ss"),e.exports=function(t){return i(t).replace(/.{1}/g,function(t){var e=o.indexOf(t);return-1===e?t:r[e]})}},{"./helper/makeString":62}],50:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t,e){return t=i(t),e=i(e),0===t.length||0===e.length?0:t.split(e).length-1}},{"./helper/makeString":62}],51:[function(t,e,n){var i=t("./trim");e.exports=function(t){return i(t).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()}},{"./trim":104}],52:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t){return t=i(t),t.charAt(0).toLowerCase()+t.slice(1)}},{"./helper/makeString":62}],53:[function(t,e,n){function i(t){for(var e=t.match(/^[\s\\t]*/gm),n=e[0].length,i=1;i<e.length;i++)n=Math.min(e[i].length,n);return n}var o=t("./helper/makeString");e.exports=function(t,e){t=o(t);var n,r=i(t);return 0===r?t:(n="string"==typeof e?new RegExp("^"+e,"gm"):new RegExp("^[ \\t]{"+r+"}","gm"),t.replace(n,""))}},{"./helper/makeString":62}],54:[function(t,e,n){var i=t("./helper/makeString"),o=t("./helper/toPositive");e.exports=function(t,e,n){return t=i(t),e=""+e,n="undefined"==typeof n?t.length-e.length:Math.min(o(n),t.length)-e.length,n>=0&&t.indexOf(e,n)===n}},{"./helper/makeString":62,"./helper/toPositive":64}],55:[function(t,e,n){var i=t("./helper/makeString"),o=t("./helper/escapeChars"),r="[";for(var s in o)r+=s;r+="]";var a=new RegExp(r,"g");e.exports=function(t){return i(t).replace(a,function(t){return"&"+o[t]+";"})}},{"./helper/escapeChars":59,"./helper/makeString":62}],56:[function(t,e,n){e.exports=function(){var t={};for(var e in this)this.hasOwnProperty(e)&&!e.match(/^(?:include|contains|reverse|join)$/)&&(t[e]=this[e]);return t}},{}],57:[function(t,e,n){var i=t("./makeString");e.exports=function(t,e){return t=i(t),0===t.length?"":t.slice(0,-1)+String.fromCharCode(t.charCodeAt(t.length-1)+e)}},{"./makeString":62}],58:[function(t,e,n){var i=t("./escapeRegExp");e.exports=function(t){return null==t?"\\s":t.source?t.source:"["+i(t)+"]"}},{"./escapeRegExp":60}],59:[function(t,e,n){var i={"":"cent","":"pound","":"yen","":"euro","":"copy","":"reg","<":"lt",">":"gt",'"':"quot","&":"amp","'":"#39"};e.exports=i},{}],60:[function(t,e,n){var i=t("./makeString");e.exports=function(t){return i(t).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}},{"./makeString":62}],61:[function(t,e,n){var i={nbsp:" ",cent:"",pound:"",yen:"",euro:"",copy:"",reg:"",lt:"<",gt:">",quot:'"',amp:"&",apos:"'"};e.exports=i},{}],62:[function(t,e,n){e.exports=function(t){return null==t?"":""+t}},{}],63:[function(t,e,n){e.exports=function(t,e){if(1>e)return"";for(var n="";e>0;)1&e&&(n+=t),e>>=1,t+=t;return n}},{}],64:[function(t,e,n){e.exports=function(t){return 0>t?0:+t||0}},{}],65:[function(t,e,n){var i=t("./capitalize"),o=t("./underscored"),r=t("./trim");e.exports=function(t){return i(r(o(t).replace(/_id$/,"").replace(/_/g," ")))}},{"./capitalize":44,"./trim":104,"./underscored":106}],66:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t,e){return""===e?!0:-1!==i(t).indexOf(e)}},{"./helper/makeString":62}],67:[function(t,e,n){"use strict";function i(t){return this instanceof i?void(this._wrapped=t):new i(t)}function o(t,e){"function"==typeof e&&(i.prototype[t]=function(){var t=[this._wrapped].concat(Array.prototype.slice.call(arguments)),n=e.apply(null,t);return"string"==typeof n?new i(n):n})}function r(t){o(t,function(e){var n=Array.prototype.slice.call(arguments,1);return String.prototype[t].apply(e,n)})}i.VERSION="3.2.2",i.isBlank=t("./isBlank"),i.stripTags=t("./stripTags"),i.capitalize=t("./capitalize"),i.decapitalize=t("./decapitalize"),i.chop=t("./chop"),i.trim=t("./trim"),i.clean=t("./clean"),i.cleanDiacritics=t("./cleanDiacritics"),i.count=t("./count"),i.chars=t("./chars"),i.swapCase=t("./swapCase"),i.escapeHTML=t("./escapeHTML"),i.unescapeHTML=t("./unescapeHTML"),i.splice=t("./splice"),i.insert=t("./insert"),i.replaceAll=t("./replaceAll"),i.include=t("./include"),i.join=t("./join"),i.lines=t("./lines"),i.dedent=t("./dedent"),i.reverse=t("./reverse"),i.startsWith=t("./startsWith"),i.endsWith=t("./endsWith"),i.pred=t("./pred"),i.succ=t("./succ"),i.titleize=t("./titleize"),i.camelize=t("./camelize"),i.underscored=t("./underscored"),i.dasherize=t("./dasherize"),i.classify=t("./classify"),i.humanize=t("./humanize"),i.ltrim=t("./ltrim"),i.rtrim=t("./rtrim"),i.truncate=t("./truncate"),i.prune=t("./prune"),i.words=t("./words"),i.pad=t("./pad"),i.lpad=t("./lpad"),i.rpad=t("./rpad"),i.lrpad=t("./lrpad"),i.sprintf=t("./sprintf"),i.vsprintf=t("./vsprintf"),i.toNumber=t("./toNumber"),i.numberFormat=t("./numberFormat"),i.strRight=t("./strRight"),i.strRightBack=t("./strRightBack"),i.strLeft=t("./strLeft"),i.strLeftBack=t("./strLeftBack"),i.toSentence=t("./toSentence"),i.toSentenceSerial=t("./toSentenceSerial"),i.slugify=t("./slugify"),i.surround=t("./surround"),i.quote=t("./quote"),i.unquote=t("./unquote"),i.repeat=t("./repeat"),i.naturalCmp=t("./naturalCmp"),i.levenshtein=t("./levenshtein"),i.toBoolean=t("./toBoolean"),i.exports=t("./exports"),i.escapeRegExp=t("./helper/escapeRegExp"),i.wrap=t("./wrap"),i.strip=i.trim,i.lstrip=i.ltrim,i.rstrip=i.rtrim,i.center=i.lrpad,i.rjust=i.lpad,i.ljust=i.rpad,i.contains=i.include,i.q=i.quote,i.toBool=i.toBoolean,i.camelcase=i.camelize,i.prototype={value:function(){return this._wrapped}};for(var s in i)o(s,i[s]);o("tap",function(t,e){return e(t)});var a=["toUpperCase","toLowerCase","split","replace","slice","substring","substr","concat"];for(var s in a)r(a[s]);e.exports=i},{"./camelize":43,"./capitalize":44,"./chars":45,"./chop":46,"./classify":47,"./clean":48,"./cleanDiacritics":49,"./count":50,"./dasherize":51,"./decapitalize":52,"./dedent":53,"./endsWith":54,"./escapeHTML":55,"./exports":56,"./helper/escapeRegExp":60,"./humanize":65,"./include":66,"./insert":68,"./isBlank":69,"./join":70,"./levenshtein":71,"./lines":72,"./lpad":73,"./lrpad":74,"./ltrim":75,"./naturalCmp":76,"./numberFormat":77,"./pad":78,"./pred":79,"./prune":80,"./quote":81,"./repeat":82,"./replaceAll":83,"./reverse":84,"./rpad":85,"./rtrim":86,"./slugify":87,
"./splice":88,"./sprintf":89,"./startsWith":90,"./strLeft":91,"./strLeftBack":92,"./strRight":93,"./strRightBack":94,"./stripTags":95,"./succ":96,"./surround":97,"./swapCase":98,"./titleize":99,"./toBoolean":100,"./toNumber":101,"./toSentence":102,"./toSentenceSerial":103,"./trim":104,"./truncate":105,"./underscored":106,"./unescapeHTML":107,"./unquote":108,"./vsprintf":109,"./words":110,"./wrap":111}],68:[function(t,e,n){var i=t("./splice");e.exports=function(t,e,n){return i(t,e,0,n)}},{"./splice":88}],69:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t){return/^\s*$/.test(i(t))}},{"./helper/makeString":62}],70:[function(t,e,n){var i=t("./helper/makeString"),o=[].slice;e.exports=function(){var t=o.call(arguments),e=t.shift();return t.join(i(e))}},{"./helper/makeString":62}],71:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t,e){"use strict";if(t=i(t),e=i(e),t===e)return 0;if(!t||!e)return Math.max(t.length,e.length);for(var n=new Array(e.length+1),o=0;o<n.length;++o)n[o]=o;for(o=0;o<t.length;++o){for(var r=o+1,s=0;s<e.length;++s){var a=r;r=n[s]+(t.charAt(o)===e.charAt(s)?0:1);var l=a+1;r>l&&(r=l),l=n[s+1]+1,r>l&&(r=l),n[s]=a}n[s]=r}return r}},{"./helper/makeString":62}],72:[function(t,e,n){e.exports=function(t){return null==t?[]:String(t).split(/\r\n?|\n/)}},{}],73:[function(t,e,n){var i=t("./pad");e.exports=function(t,e,n){return i(t,e,n)}},{"./pad":78}],74:[function(t,e,n){var i=t("./pad");e.exports=function(t,e,n){return i(t,e,n,"both")}},{"./pad":78}],75:[function(t,e,n){var i=t("./helper/makeString"),o=t("./helper/defaultToWhiteSpace"),r=String.prototype.trimLeft;e.exports=function(t,e){return t=i(t),!e&&r?r.call(t):(e=o(e),t.replace(new RegExp("^"+e+"+"),""))}},{"./helper/defaultToWhiteSpace":58,"./helper/makeString":62}],76:[function(t,e,n){e.exports=function(t,e){if(t==e)return 0;if(!t)return-1;if(!e)return 1;for(var n=/(\.\d+|\d+|\D+)/g,i=String(t).match(n),o=String(e).match(n),r=Math.min(i.length,o.length),s=0;r>s;s++){var a=i[s],l=o[s];if(a!==l){var h=+a,u=+l;return h===h&&u===u?h>u?1:-1:l>a?-1:1}}return i.length!=o.length?i.length-o.length:e>t?-1:1}},{}],77:[function(t,e,n){e.exports=function(t,e,n,i){if(isNaN(t)||null==t)return"";t=t.toFixed(~~e),i="string"==typeof i?i:",";var o=t.split("."),r=o[0],s=o[1]?(n||".")+o[1]:"";return r.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+i)+s}},{}],78:[function(t,e,n){var i=t("./helper/makeString"),o=t("./helper/strRepeat");e.exports=function(t,e,n,r){t=i(t),e=~~e;var s=0;switch(n?n.length>1&&(n=n.charAt(0)):n=" ",r){case"right":return s=e-t.length,t+o(n,s);case"both":return s=e-t.length,o(n,Math.ceil(s/2))+t+o(n,Math.floor(s/2));default:return s=e-t.length,o(n,s)+t}}},{"./helper/makeString":62,"./helper/strRepeat":63}],79:[function(t,e,n){var i=t("./helper/adjacent");e.exports=function(t){return i(t,-1)}},{"./helper/adjacent":57}],80:[function(t,e,n){var i=t("./helper/makeString"),o=t("./rtrim");e.exports=function(t,e,n){if(t=i(t),e=~~e,n=null!=n?String(n):"...",t.length<=e)return t;var r=function(t){return t.toUpperCase()!==t.toLowerCase()?"A":" "},s=t.slice(0,e+1).replace(/.(?=\W*\w*$)/g,r);return s=s.slice(s.length-2).match(/\w\w/)?s.replace(/\s*\S+$/,""):o(s.slice(0,s.length-1)),(s+n).length>t.length?t:t.slice(0,s.length)+n}},{"./helper/makeString":62,"./rtrim":86}],81:[function(t,e,n){var i=t("./surround");e.exports=function(t,e){return i(t,e||'"')}},{"./surround":97}],82:[function(t,e,n){var i=t("./helper/makeString"),o=t("./helper/strRepeat");e.exports=function r(t,e,n){if(t=i(t),e=~~e,null==n)return o(t,e);for(var r=[];e>0;r[--e]=t);return r.join(n)}},{"./helper/makeString":62,"./helper/strRepeat":63}],83:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t,e,n,o){var r=o===!0?"gi":"g",s=new RegExp(e,r);return i(t).replace(s,n)}},{"./helper/makeString":62}],84:[function(t,e,n){var i=t("./chars");e.exports=function(t){return i(t).reverse().join("")}},{"./chars":45}],85:[function(t,e,n){var i=t("./pad");e.exports=function(t,e,n){return i(t,e,n,"right")}},{"./pad":78}],86:[function(t,e,n){var i=t("./helper/makeString"),o=t("./helper/defaultToWhiteSpace"),r=String.prototype.trimRight;e.exports=function(t,e){return t=i(t),!e&&r?r.call(t):(e=o(e),t.replace(new RegExp(e+"+$"),""))}},{"./helper/defaultToWhiteSpace":58,"./helper/makeString":62}],87:[function(t,e,n){var i=(t("./helper/makeString"),t("./helper/defaultToWhiteSpace"),t("./trim")),o=t("./dasherize"),r=t("./cleanDiacritics");e.exports=function(t){return i(o(r(t).replace(/[^\w\s-]/g,"-").toLowerCase()),"-")}},{"./cleanDiacritics":49,"./dasherize":51,"./helper/defaultToWhiteSpace":58,"./helper/makeString":62,"./trim":104}],88:[function(t,e,n){var i=t("./chars");e.exports=function(t,e,n,o){var r=i(t);return r.splice(~~e,~~n,o),r.join("")}},{"./chars":45}],89:[function(t,e,n){var i=t("./helper/strRepeat"),o=Object.prototype.toString,r=function(){function t(t){return o.call(t).slice(8,-1).toLowerCase()}var e=i,n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,i){var o,s,a,l,h,u,c,p=1,d=n.length,f="",m=[];for(s=0;d>s;s++)if(f=t(n[s]),"string"===f)m.push(n[s]);else if("array"===f){if(l=n[s],l[2])for(o=i[p],a=0;a<l[2].length;a++){if(!o.hasOwnProperty(l[2][a]))throw new Error(r('[_.sprintf] property "%s" does not exist',l[2][a]));o=o[l[2][a]]}else o=l[1]?i[l[1]]:i[p++];if(/[^s]/.test(l[8])&&"number"!=t(o))throw new Error(r("[_.sprintf] expecting number but found %s",t(o)));switch(l[8]){case"b":o=o.toString(2);break;case"c":o=String.fromCharCode(o);break;case"d":o=parseInt(o,10);break;case"e":o=l[7]?o.toExponential(l[7]):o.toExponential();break;case"f":o=l[7]?parseFloat(o).toFixed(l[7]):parseFloat(o);break;case"o":o=o.toString(8);break;case"s":o=(o=String(o))&&l[7]?o.substring(0,l[7]):o;break;case"u":o=Math.abs(o);break;case"x":o=o.toString(16);break;case"X":o=o.toString(16).toUpperCase()}o=/[def]/.test(l[8])&&l[3]&&o>=0?"+"+o:o,u=l[4]?"0"==l[4]?"0":l[4].charAt(1):" ",c=l[6]-String(o).length,h=l[6]?e(u,c):"",m.push(l[5]?o+h:h+o)}return m.join("")},n.cache={},n.parse=function(t){for(var e=t,n=[],i=[],o=0;e;){if(null!==(n=/^[^\x25]+/.exec(e)))i.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(e)))i.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(e)))throw new Error("[_.sprintf] huh?");if(n[2]){o|=1;var r=[],s=n[2],a=[];if(null===(a=/^([a-z_][a-z_\d]*)/i.exec(s)))throw new Error("[_.sprintf] huh?");for(r.push(a[1]);""!==(s=s.substring(a[0].length));)if(null!==(a=/^\.([a-z_][a-z_\d]*)/i.exec(s)))r.push(a[1]);else{if(null===(a=/^\[(\d+)\]/.exec(s)))throw new Error("[_.sprintf] huh?");r.push(a[1])}n[2]=r}else o|=2;if(3===o)throw new Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported");i.push(n)}e=e.substring(n[0].length)}return i},n}();e.exports=r},{"./helper/strRepeat":63}],90:[function(t,e,n){var i=t("./helper/makeString"),o=t("./helper/toPositive");e.exports=function(t,e,n){return t=i(t),e=""+e,n=null==n?0:Math.min(o(n),t.length),t.lastIndexOf(e,n)===n}},{"./helper/makeString":62,"./helper/toPositive":64}],91:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t,e){t=i(t),e=i(e);var n=e?t.indexOf(e):-1;return~n?t.slice(0,n):t}},{"./helper/makeString":62}],92:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t,e){t=i(t),e=i(e);var n=t.lastIndexOf(e);return~n?t.slice(0,n):t}},{"./helper/makeString":62}],93:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t,e){t=i(t),e=i(e);var n=e?t.indexOf(e):-1;return~n?t.slice(n+e.length,t.length):t}},{"./helper/makeString":62}],94:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t,e){t=i(t),e=i(e);var n=e?t.lastIndexOf(e):-1;return~n?t.slice(n+e.length,t.length):t}},{"./helper/makeString":62}],95:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t){return i(t).replace(/<\/?[^>]+>/g,"")}},{"./helper/makeString":62}],96:[function(t,e,n){var i=t("./helper/adjacent");e.exports=function(t){return i(t,1)}},{"./helper/adjacent":57}],97:[function(t,e,n){e.exports=function(t,e){return[e,t,e].join("")}},{}],98:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t){return i(t).replace(/\S/g,function(t){return t===t.toUpperCase()?t.toLowerCase():t.toUpperCase()})}},{"./helper/makeString":62}],99:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t){return i(t).toLowerCase().replace(/(?:^|\s|-)\S/g,function(t){return t.toUpperCase()})}},{"./helper/makeString":62}],100:[function(t,e,n){function i(t,e){var n,i,o=t.toLowerCase();for(e=[].concat(e),n=0;n<e.length;n+=1)if(i=e[n]){if(i.test&&i.test(t))return!0;if(i.toLowerCase()===o)return!0}}var o=t("./trim");e.exports=function(t,e,n){return"number"==typeof t&&(t=""+t),"string"!=typeof t?!!t:(t=o(t),i(t,e||["true","1"])?!0:i(t,n||["false","0"])?!1:void 0)}},{"./trim":104}],101:[function(t,e,n){t("./trim");e.exports=function(t,e){if(null==t)return 0;var n=Math.pow(10,isFinite(e)?e:0);return Math.round(t*n)/n}},{"./trim":104}],102:[function(t,e,n){var i=t("./rtrim");e.exports=function(t,e,n,o){e=e||", ",n=n||" and ";var r=t.slice(),s=r.pop();return t.length>2&&o&&(n=i(e)+n),r.length?r.join(e)+n+s:s}},{"./rtrim":86}],103:[function(t,e,n){var i=t("./toSentence");e.exports=function(t,e,n){return i(t,e,n,!0)}},{"./toSentence":102}],104:[function(t,e,n){var i=t("./helper/makeString"),o=t("./helper/defaultToWhiteSpace"),r=String.prototype.trim;e.exports=function(t,e){return t=i(t),!e&&r?r.call(t):(e=o(e),t.replace(new RegExp("^"+e+"+|"+e+"+$","g"),""))}},{"./helper/defaultToWhiteSpace":58,"./helper/makeString":62}],105:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t,e,n){return t=i(t),n=n||"...",e=~~e,t.length>e?t.slice(0,e)+n:t}},{"./helper/makeString":62}],106:[function(t,e,n){var i=t("./trim");e.exports=function(t){return i(t).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()}},{"./trim":104}],107:[function(t,e,n){var i=t("./helper/makeString"),o=t("./helper/htmlEntities");e.exports=function(t){return i(t).replace(/\&([^;]+);/g,function(t,e){var n;return e in o?o[e]:(n=e.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(n[1],16)):(n=e.match(/^#(\d+)$/))?String.fromCharCode(~~n[1]):t})}},{"./helper/htmlEntities":61,"./helper/makeString":62}],108:[function(t,e,n){e.exports=function(t,e){return e=e||'"',t[0]===e&&t[t.length-1]===e?t.slice(1,t.length-1):t}},{}],109:[function(t,e,n){var i=t("./sprintf");e.exports=function(t,e){return e.unshift(t),i.apply(null,e)}},{"./sprintf":89}],110:[function(t,e,n){var i=t("./isBlank"),o=t("./trim");e.exports=function(t,e){return i(t)?[]:o(t,e).split(e||/\s+/)}},{"./isBlank":69,"./trim":104}],111:[function(t,e,n){makeString=t("./helper/makeString"),e.exports=function(t,e){if(t=makeString(t),e=e||{},width=e.width||75,seperator=e.seperator||"\n",cut=e.cut||!1,preserveSpaces=e.preserveSpaces||!1,trailingSpaces=e.trailingSpaces||!1,width<=0)return t;if(cut){for(index=0,result="";index<t.length;)index%width==0&&index>0&&(result+=seperator),result+=t.charAt(index),index++;if(trailingSpaces)for(;index%width>0;)result+=" ",index++;return result}for(words=t.split(" "),result="",current_column=0;words.length>0;){if(1+words[0].length+current_column>width&&current_column>0){if(preserveSpaces)result+=" ",current_column++;else if(trailingSpaces)for(;current_column<width;)result+=" ",current_column++;result+=seperator,current_column=0}current_column>0&&(result+=" ",current_column++),result+=words[0],current_column+=words[0].length,words.shift()}if(trailingSpaces)for(;current_column<width;)result+=" ",current_column++;return result}},{"./helper/makeString":62}],112:[function(t,e,n){"use strict";function i(t,e){for(var n=0;n<t.length;n++)e(t[n])}function o(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function r(t,e,n){var i=t;return c(e)?(n=e,"string"==typeof t&&(i={uri:t})):i=d(e,{uri:t}),i.callback=n,i}function s(t,e,n){return e=r(t,e,n),a(e)}function a(t){function e(){4===h.readyState&&r()}function n(){var t=void 0;if(h.response?t=h.response:"text"!==h.responseType&&h.responseType||(t=h.responseText||h.responseXML),L)try{t=JSON.parse(t)}catch(e){}return t}function i(t){clearTimeout(f),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,a(t,l)}function r(){if(!d){var e;clearTimeout(f),e=t.useXDR&&void 0===h.status?200:1223===h.status?204:h.status;var i=l,o=null;0!==e?(i={body:n(),statusCode:e,method:_,headers:{},url:m,rawRequest:h},h.getAllResponseHeaders&&(i.headers=p(h.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),a(o,i,i.body)}}var a=t.callback;if("undefined"==typeof a)throw new Error("callback argument missing");a=u(a);var l={body:void 0,headers:{},statusCode:0,method:_,url:m,rawRequest:h},h=t.xhr||null;h||(h=t.cors||t.useXDR?new s.XDomainRequest:new s.XMLHttpRequest);var c,d,f,m=h.url=t.uri||t.url,_=h.method=t.method||"GET",g=t.body||t.data||null,v=h.headers=t.headers||{},y=!!t.sync,L=!1;if("json"in t&&(L=!0,v.accept||v.Accept||(v.Accept="application/json"),"GET"!==_&&"HEAD"!==_&&(v["content-type"]||v["Content-Type"]||(v["Content-Type"]="application/json"),g=JSON.stringify(t.json))),h.onreadystatechange=e,h.onload=r,h.onerror=i,h.onprogress=function(){},h.ontimeout=i,h.open(_,m,!y,t.username,t.password),y||(h.withCredentials=!!t.withCredentials),!y&&t.timeout>0&&(f=setTimeout(function(){d=!0,h.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",i(t)},t.timeout)),h.setRequestHeader)for(c in v)v.hasOwnProperty(c)&&h.setRequestHeader(c,v[c]);else if(t.headers&&!o(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(h.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(h),h.send(g),h}function l(){}var h=t("global/window"),u=t("once"),c=t("is-function"),p=t("parse-headers"),d=t("xtend");e.exports=s,s.XMLHttpRequest=h.XMLHttpRequest||l,s.XDomainRequest="withCredentials"in new s.XMLHttpRequest?s.XMLHttpRequest:h.XDomainRequest,i(["get","put","post","patch","head","delete"],function(t){s["delete"===t?"del":t]=function(e,n,i){return n=r(e,n,i),n.method=t.toUpperCase(),a(n)}})},{"global/window":113,"is-function":8,once:114,"parse-headers":34,xtend:115}],113:[function(t,e,n){(function(t){"undefined"!=typeof window?e.exports=window:"undefined"!=typeof t?e.exports=t:"undefined"!=typeof self?e.exports=self:e.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],114:[function(t,e,n){function i(t){var e=!1;return function(){return e?void 0:(e=!0,t.apply(this,arguments))}}e.exports=i,i.proto=i(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0})})},{}],115:[function(t,e,n){function i(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var i in n)o.call(n,i)&&(t[i]=n[i])}return t}e.exports=i;var o=Object.prototype.hasOwnProperty},{}],116:[function(t,e,n){!function(){"use strict";function n(t){if(f=v.defaults({},t,b),!f.data)throw"You must provide an array of offices";i(),o(),u(),c()}function i(){f.container=y.create("div","autocomplete-widget",document.body),f.form=y.create("form","autocomplete-form",f.container),f.label=y.create("label","",f.form),f.label.innerHTML="Search:",f.input=y.create("input","autocomplete-input",f.form),f.output=y.create("ul","autocomplete-results",f.container)}function o(){f.output.addEventListener("click",l),f.input.addEventListener("keyup",h),f.input.addEventListener("focus",s),g.on("marker:click",r),g.on("blur:input",a)}function r(t){f.input.value=t.properties.name}function s(){y.addClass(f.container,"active"),f.input.setAttribute("placeholder","Search")}function a(){y.removeClass(f.container,"active"),f.input.setAttribute("placeholder","")}function l(t){if(t.preventDefault(),"A"===t.target.nodeName){var e=L.stringify(t.srcElement.href),n=x.getOffice(e);f.output.innerHTML="",f.input.value=t.srcElement.textContent,g.emit("office:selected",n),a()}}function h(){g.emit("autocomplete:keyup"),f.input.value.length<f.minLength||p(f.input.value)}function u(){m=_(function(){this.field("name",{boost:10}),this.field("type",{boost:3}),this.field("program"),this.field("address"),this.field("city",{boost:5}),this.field("state",{boost:5}),this.field("zip"),this.ref("id")})}function c(){f.data.forEach(function(t,e){t.properties.id=e,m.add(t.properties)})}function p(t){var e=m.search(t),n=[];e.forEach(function(t,e){n.push(f.data[t.ref].properties)}),d(n)}function d(t){f.output.innerHTML=w({offices:t})}var f,m,_=t("lunr"),g=t("./mediator"),v=t("./util")._,y=t("./domUtil"),L=t("./querystring"),x=t("./offices"),w=t("../templates/autocomplete.jade"),b={minLength:0};e.exports.init=n}()},{"../templates/autocomplete.jade":128,"./domUtil":118,"./mediator":122,"./offices":123,"./querystring":124,"./util":126,lunr:33}],117:[function(t,e,n){!function(){"use strict";function e(){i(),o()}function i(){y.container=v.create("aside","detail-container",document.body),y.content=v.create("section","detail-content",y.container),y.close=v.create("button","detail-toggle",y.container),y.close.innerHTML="&#9650;"}function o(){y.container.addEventListener("click",s),y.close.addEventListener("click",h),y.content.addEventListener("click",r),d.on("office:selected",u),d.on("marker:click",u),d.on("autocomplete:keyup",l),d.on("found:office",u),d.on("offices:random",u),d.on("zoom:fullextent",l),d.on("found:nearest",c)}function r(t){if(t.preventDefault(),"A"===t.target.nodeName){var e=g.stringify(t.srcElement.href),n=f.getOffice(e);u(n),d.emit("office:selected",n)}}function s(){d.emit("blur:input")}function a(){p||d.emit("detail:show",-200),p=!0,y.close.innerHTML="&#9660;",v.addClass(y.container,"active")}function l(){p&&d.emit("detail:hide",200),p=!1,y.close.innerHTML="&#9650;",v.removeClass(y.container,"active")}function h(){var t=p?"detail:hide":"detail:show",e=p?200:-200;y.close.innerHTML=p?"&#9650;":"&#9660;",v.toggleClass(y.container,"active"),p=!p,d.emit(t,e)}function u(t){y.content.innerHTML=m({office:t.properties}),a()}function c(t){y.content.innerHTML=_({nearest:t}),a()}var p,d=t("./mediator"),f=t("./offices"),m=t("../templates/detail.jade"),_=t("../templates/nearest.jade"),g=t("./querystring"),v=(t("./util")._,t("./domUtil")),y={};n.init=e,n.toggle=h,n.show=a,n.hide=l}()},{"../templates/detail.jade":129,"../templates/nearest.jade":130,"./domUtil":118,"./mediator":122,"./offices":123,"./querystring":124,"./util":126}],118:[function(t,e,n){!function(){"use strict";function n(t,e,n){var i=document.createElement(t);return i.className=e,n&&n.appendChild(i),i}function i(t){var e=t.parentNode;e&&e.removeChild(t)}function o(t,e){t.classList.add(e)}function r(t,e){t.classList.remove(e)}function s(t,e){t.classList.toggle(e)}t("classlist-polyfill"),e.exports.create=n,e.exports.remove=i,e.exports.addClass=o,e.exports.removeClass=r,e.exports.toggleClass=s}()},{"classlist-polyfill":6}],119:[function(t,e,n){!function(){"use strict";var n=t("leaflet"),i=n.icon({iconUrl:"./svg/blue-goose.svg",iconSize:[70,90],popupAnchor:[5,-17]}),o=n.icon({iconUrl:"./svg/building.svg",iconSize:[70,50],popupAnchor:[0,-20]}),r=n.icon({iconUrl:"./svg/fisheries.svg",iconSize:[70,50],popupAnchor:[7,-25]});e.exports={blueGoose:i,office:o,fisheries:r}}()},{leaflet:12}],120:[function(t,e,n){!function(){"use strict";var e=t("./autocomplete"),n=t("./toolbar"),i=t("./detail"),o=t("./mediator"),r=t("./offices"),s=t("./map");r.init(),o.on("offices:loaded",function(t){s.init({center:[31.6817285,-77.4474468],data:t}),e.init({data:t.features,input:document.querySelector(".autocomplete-input"),output:document.querySelector(".autocomplete-results")}),i.init({output:document.querySelector(".autocomplete-detail")}),n.init()})}()},{"./autocomplete":116,"./detail":117,"./map":121,"./mediator":122,"./offices":123,"./toolbar":125}],121:[function(t,e,n){!function(){function n(t){b=w.defaults({},t,k),c(),b.fullExtent=x.create("button","zoom-to-full-extent",document.body),b.nearest=x.create("button","find-nearest",document.body),x.addClass(b.nearest,"leaflet-control-roy"),x.addClass(b.fullExtent,"leaflet-control-roy"),b.imgLocate=x.create("img","",b.nearest),b.imgLocate.setAttribute("src","./svg/current-location.svg"),b.imgLocate.setAttribute("title","Find 5 nearest offices"),b.imgExtent=x.create("img","",b.fullExtent),b.imgExtent.setAttribute("src","./svg/full-extent.svg"),b.imgExtent.setAttribute("title","Zoom to full extent"),o(),S=y(v.geoJson(b.data)),b.data&&g()}function i(t){var e=t.geometry.coordinates.slice(0).reverse();e[1]=e[1]-.135,P.flyTo(e,11)}function o(){L.on("office:selected",i),L.on("detail:hide",l),L.on("detail:show",l),b.fullExtent.addEventListener("click",u),b.nearest.addEventListener("click",a),P.on("click",h),P.on("locationfound",m),P.on("overlayadd",r),P.on("overlayremove",s)}function r(t){C.addLayer(M[t.name])}function s(t){C.removeLayer(M[t.name])}function a(){x.addClass(b.nearest,"loading"),b.imgLocate.setAttribute("src","./svg/loading.svg"),P.locate()}function l(t){P.panBy([t,0])}function h(){L.emit("blur:input")}function u(){P.flyToBounds(C.getBounds()),L.emit("zoom:fullextent")}function c(){var t=v.tileLayer(b.basemap.url,{attribution:b.basemap.attribution}),e=v.tileLayer("http://otile{s}.mqcdn.com/tiles/1.0.0/{type}/{z}/{x}/{y}.{ext}",{type:"sat",ext:"jpg",subdomains:"1234"}),n={"Open Street Map":t,Imagery:e},i={center:b.center,zoom:b.zoom,zoomControl:!1,layers:[t]};P=v.map(b.mapId,i);var o={Refuges:v.layerGroup().addTo(P),Hatcheries:v.layerGroup().addTo(P),"Ecological Services":v.layerGroup().addTo(P),"Fish and Wildlife Conservation Offices":v.layerGroup().addTo(P)};new v.Control.Zoom({position:"bottomleft"}).addTo(P),v.control.layers(n,o).addTo(P)}function p(t,e){e.bindPopup(t.properties.name),e.on({click:f})}function d(e,n){var i=t("./icons"),o=e.properties.type;return"National Wildlife Refuge"===o?v.marker(n,{icon:i.blueGoose}):"National Fish Hatchery"===o?v.marker(n,{icon:i.fisheries}):v.marker(n,{icon:i.office})}function f(t){var e=t.target.feature;i(e),L.emit("marker:click",e)}function m(t){v.popup().setLatLng(t.latlng).setContent("Your Current Location").openOn(P);var e=S.nearest(t.latlng,10);x.removeClass(b.nearest,"loading"),b.imgLocate.setAttribute("src","./svg/current-location.svg"),L.emit("found:nearest",e)}function _(t){return v.geoJson(b.data,{filter:function(e,n){switch(e.properties.type){case t:return!0;default:return!1}},onEachFeature:p,pointToLayer:d}).on("mouseover",function(t){t.layer.openPopup()}).on("mouseout",function(t){t.layer.closePopup()})}function g(){M={Refuges:_("National Wildlife Refuge"),Hatcheries:_("National Fish Hatchery"),"Ecological Services":_("Ecological Services Field Office"),"Fish and Wildlife Conservation Offices":_("Fish And Wildlife Conservation Office")},C=v.markerClusterGroup({showCoverageOnHover:!1}),C.addLayer(M.Refuges),C.addLayer(M.Hatcheries),C.addLayer(M["Ecological Services"]),C.addLayer(M["Fish and Wildlife Conservation Offices"]),P.addLayer(C),P.fitBounds(C.getBounds())}var v=t("leaflet"),y=t("leaflet-knn");t("leaflet.markercluster");var L=(t("./querystring"),t("./mediator")),x=t("./domUtil"),w=t("./util")._;v.Icon.Default.imagePath="./images";var b,P,C,S,M,k={zoom:7,mapId:"map",basemap:{url:"http://{s}.tile.openstreetmap.se/hydda/full/{z}/{x}/{y}.png"}};e.exports.init=n}()},{"./domUtil":118,"./icons":119,"./mediator":122,"./querystring":124,"./util":126,leaflet:12,"leaflet-knn":10,"leaflet.markercluster":11}],122:[function(t,e,n){!function(){"use strict";var n=t("events").EventEmitter;e.exports=new n}()},{events:2}],123:[function(t,e,n){!function(){"use strict";function e(){i()}function i(){l.get("./data/offices.json",function(t,e){a=JSON.parse(e.body),h.emit("offices:loaded",a)})}function o(){return a}function r(t){return u.find(a.features,function(e){return e.properties.name.toLowerCase()===t.toLowerCase()})}function s(){var t=a.features,e=t[Math.floor(Math.random()*t.length)];h.emit("offices:random",e)}var a,l=t("xhr"),h=t("./mediator"),u=t("./util")._;n.getOffices=o,n.getOffice=r,n.getRandomOffice=s,n.init=e}()},{"./mediator":122,"./util":126,xhr:112}],124:[function(t,e,n){!function(){"use strict";var e=t("url");n.stringify=function(t){var n;return n=t?e.parse(t,!0).query:e.parse(window.location.href,!0).query,n.q?n.q.replace(/-/g," "):!1}}()},{url:4}],125:[function(t,e,n){!function(){"use strict";function n(){u.about=a.create("button","leaflet-control-roy",document.body),a.addClass(u.about,"about-map"),u.imgAbout=a.create("img","",u.about),u.imgAbout.setAttribute("src","./svg/help.svg"),u.imgAbout.setAttribute("title","About this map"),u.modal=a.create("aside","about-modal",document.body),u.close=a.create("button","modal-close",u.modal),u.close.innerHTML="&times;",u.aboutContent=a.create("section","about-content",u.modal),u.aboutContent.innerHTML=h.about(),i()}function i(){u.about.addEventListener("click",s),u.close.addEventListener("click",r)}function o(){c=!0,a.addClass(u.modal,"active"),l.emit("modal:open")}function r(){c=!1,a.removeClass(u.modal,"active"),l.emit("modal:close")}function s(){c?r():o()}var a=t("./domUtil"),l=t("./mediator"),h={about:t("../templates/about.jade")},u={},c=!1;e.exports.init=n}()},{"../templates/about.jade":127,"./domUtil":118,"./mediator":122}],126:[function(t,e,n){!function(){"use strict";var n={defaults:t("lodash.defaults"),find:t("lodash.find"),string:t("underscore.string")};e.exports={_:n}}()},{"lodash.defaults":25,"lodash.find":26,"underscore.string":67}],127:[function(t,e,n){t("jade/runtime");e.exports=function(t){var e=[];return e.push('<div class="about-content"><h2>About this map</h2><p>Tiles courtesy of <a href="http://openstreetmap.se/">OpenStreetMap Sweden</a> &mdash; Map data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>. Imagery courtesy of <a href="http://www.mapquest.com/">MapQuest</a> &mdash; Portions Courtesy NASA/JPL-Caltech and U.S.D.A. Farm Service Agency</p><h3>Thank You Creative Commons</h3><p>Much of the iconography used in this map was taken from Creative Commons contributions to the noun project.</p><ul><li>Info by Jrgen Bauer from the Noun Project</li><li>buildings by Creative Stall from the Noun Project</li><li>Location by Bonnie Duffley from the Noun Project</li><li>Crosshair by Jos&#233; Manuel de La&#225;</li></ul><h3>Source Code</h3><p>The code used to create this map is in the public domain.  You can download a copy on <a href="http://github.com/usfws/southeast-mega-map">GitHub</a>.</p></div>'),e.join("")}},{"jade/runtime":9}],128:[function(t,e,n){var i=t("jade/runtime");e.exports=function(e){var n,o=[],r=e||{};return function(t,e,r){var s=e("../js/util")._;(function(){var e=t;if("number"==typeof e.length)for(var r=0,a=e.length;a>r;r++){var l=e[r],h="?q="+s.string.slugify(l.name).toLowerCase();o.push("<li><a"+i.attr("href",h,!0,!1)+">"+i.escape(null==(n=l.name)?"":n)+"</a></li>")}else{var a=0;for(var r in e){a++;var l=e[r],h="?q="+s.string.slugify(l.name).toLowerCase();o.push("<li><a"+i.attr("href",h,!0,!1)+">"+i.escape(null==(n=l.name)?"":n)+"</a></li>")}}}).call(this)}.call(this,"offices"in r?r.offices:"undefined"!=typeof offices?offices:void 0,"require"in r?r.require:"undefined"!=typeof t?t:void 0,"undefined"in r?r.undefined:void 0),o.join("")}},{"../js/util":126,"jade/runtime":9}],129:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],o=t||{};return function(t,o){n.push("<h2>"+i.escape(null==(e=t.name)?"":e)+'</h2><ul class="detail-links">'),t.url&&n.push("<li><a"+i.attr("href",t.url,!0,!1)+' title="Website"><?xml version="1.0" encoding="utf-8"?>\n<!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n	 width="575.279px" height="434.521px" viewBox="12.24 105.3 575.279 434.521" enable-background="new 12.24 105.3 575.279 434.521"\n	 xml:space="preserve">\n<g>\n	<path d="M55.08,490.86h226.44V380.7H55.08V490.86z M73.44,399.06h189.72v73.44H73.44V399.06z"/>\n	<path d="M55.08,356.22H538.56V197.1H55.08V356.22z M328.075,274.671L520.2,215.644v118.055L328.075,274.671z M478.7,337.86H121.06\n		l178.82-54.939L478.7,337.86z M299.88,268.123L128.459,215.46h342.842L299.88,268.123z M265.565,274.671L73.44,333.698V215.644\n		L265.565,274.671z"/>\n	<rect x="336.6" y="429.66" width="195.841" height="18.359"/>\n	<rect x="336.6" y="399.06" width="195.841" height="18.36"/>\n	<rect x="336.6" y="460.26" width="195.841" height="18.36"/>\n	<circle cx="315.339" cy="405.786" r="10.894"/>\n	<circle cx="315.339" cy="436.9" r="10.894"/>\n	<circle cx="315.339" cy="468.014" r="10.894"/>\n	<path d="M587.52,124.499c0-10.6-8.592-19.199-19.198-19.199H31.438c-10.606,0-19.198,8.599-19.198,19.199v396.123\n		c0,10.606,8.592,19.199,19.198,19.199h536.89c10.6,0,19.191-8.593,19.191-19.199V124.499z M116.666,124.07\n		c6.004,0,10.875,4.865,10.875,10.875s-4.872,10.875-10.875,10.875s-10.875-4.865-10.875-10.875S110.662,124.07,116.666,124.07z\n		 M85.741,124.07c6.004,0,10.875,4.865,10.875,10.875s-4.865,10.875-10.875,10.875s-10.875-4.865-10.875-10.875\n		S79.737,124.07,85.741,124.07z M54.817,124.07c6.01,0,10.881,4.865,10.881,10.875s-4.872,10.875-10.881,10.875\n		c-6.004,0-10.869-4.865-10.869-10.875S48.813,124.07,54.817,124.07z M556.92,509.22H42.84V184.475v-12.968V154.26h128.52v18.36\n		h385.56V509.22z"/>\n</g>\n</svg>\n</a></li>'),t.facebook&&n.push("<li><a"+i.attr("href",t.facebook,!0,!1)+' title="Facebook"><?xml version="1.0" encoding="utf-8"?>\n<!-- Generator: Adobe Illustrator 18.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<svg version="1.1" id="Your_Icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n	 viewBox="-587.9 1416.8 1336.2 2848.2" enable-background="new -587.9 1416.8 1336.2 2848.2" xml:space="preserve">\n<path d="M684.5,1797.3c0,0-329.6-56.6-406.2,36.6c-113.2,56.6-76.6,422.8-76.6,422.8h409.5v369.6H201.7v1638.1h-486.1V2626.4h-303\n	v-369.6H-281c-26.6,0,16.6-362.9,20-396.2c16.6-179.8,149.8-339.6,323-399.5c236.4-79.9,449.5-36.6,685.9,20\n	C727.8,1587.6,704.5,1694.1,684.5,1797.3z"/>\n</svg>\n</a></li>'),t.twitter&&n.push("<li><a"+i.attr("href",t.twitter,!0,!1)+' title="Twitter"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 50 50" enable-background="new 0 0 50 50" xml:space="preserve"><g><path fill="#000000" d="M45.88,11.416c0.327-1.106-0.047-2.302-0.953-3.022c-0.514-0.411-1.136-0.618-1.767-0.618   c-0.498,0-0.996,0.13-1.443,0.397c-0.888,0.521-1.817,0.939-2.787,1.234c-1.854-1.418-4.153-2.207-6.516-2.207   c-5.416,0-9.903,4.04-10.61,9.264c-4.318-0.924-8.252-3.303-11.086-6.779c-0.54-0.666-1.35-1.046-2.196-1.046   c-0.071,0-0.146,0.005-0.222,0.01c-0.928,0.073-1.757,0.596-2.226,1.398c-0.952,1.631-1.453,3.491-1.453,5.386   c0,1.28,0.227,2.525,0.647,3.688c-0.452,0.514-0.714,1.18-0.714,1.884c0,2.808,1.06,5.39,2.826,7.33   c-0.109,0.484-0.092,0.996,0.067,1.486c0.611,1.914,1.729,3.561,3.175,4.818c-0.939,0.213-1.911,0.322-2.897,0.322   c-0.511,0-1.028-0.033-1.549-0.092c-0.11-0.014-0.22-0.021-0.332-0.021c-1.186,0-2.26,0.742-2.663,1.885   c-0.447,1.24,0.026,2.627,1.134,3.34c4.071,2.607,8.775,3.986,13.602,3.986c15.655,0,25.063-12.6,25.232-24.899   c1.274-1.085,2.394-2.334,3.344-3.728c0.359-0.474,0.572-1.063,0.572-1.708C47.065,12.775,46.597,11.933,45.88,11.416z    M40.292,17.801c0.018,0.337,0.025,0.677,0.025,1.018c0,10.404-7.919,22.4-22.4,22.4c-4.445,0-8.584-1.303-12.07-3.537   c0.613,0.068,1.243,0.111,1.878,0.111c3.689,0,7.083-1.26,9.779-3.373c-3.449-0.061-6.354-2.34-7.357-5.467   c0.481,0.092,0.975,0.143,1.478,0.143c0.72,0,1.416-0.098,2.075-0.277c-3.602-0.727-6.317-3.905-6.317-7.723   c0-0.034,0-0.065,0-0.098c1.062,0.588,2.277,0.942,3.567,0.982c-2.112-1.412-3.5-3.824-3.5-6.554c0-1.442,0.388-2.793,1.066-3.956   c3.88,4.763,9.683,7.896,16.227,8.224c-0.136-0.574-0.202-1.178-0.202-1.795c0-4.344,3.524-7.869,7.87-7.869   c2.266,0,4.313,0.956,5.749,2.483c1.791-0.351,3.478-1.006,4.999-1.909c-0.589,1.837-1.838,3.38-3.461,4.354   c1.591-0.188,3.106-0.611,4.52-1.24C43.165,15.305,41.832,16.691,40.292,17.801z"></path></g></svg>\n</a></li>'),
n.push('</ul><div class="detail-content-wrap"><p class="detail-description">'+i.escape(null==(e=t.narrative)?"":e)+'</p><h3>Activities</h3><ul class="detail-activities">'),t.activities&&function(){var o=t.activities;if("number"==typeof o.length)for(var r=0,s=o.length;s>r;r++){var a=o[r];"Wildlife Photography"===a&&n.push('<li><svg version="1" xmlns="http://www.w3.org/2000/svg" width="100" height="72.392" viewBox="0 0 100 72.392"><path d="M58.823 17.958c7.955 0 14.862 4.38 18.675 10.834l22.476.026v-12.18c0-4.534-3.647-8.21-8.12-8.21H8.095C3.608 8.427 0 12.103 0 16.637l.023 12.077 40.112.027c3.84-6.43 10.72-10.784 18.688-10.784M21.006 4.56h-7.45l-.862 2.715h8.93l-.618-2.715zM88.19 3.112h-9.92L76.51 7.3H89.8l-1.61-4.188zM54.137 5.854h-8.54V1.678h8.54v4.176zM61.965 0h-24.11l-4.967 7.352h33.625L61.965 0zM78.663 30.97c1.243 2.767 1.977 5.813 1.977 9.055 0 12.18-9.77 22.067-21.816 22.067-12.062 0-21.83-9.888-21.83-22.067 0-3.242.724-6.288 1.977-9.07H0V64.21c0 4.507 3.608 8.184 8.096 8.184h83.756c4.474 0 8.12-3.677 8.12-8.184L100 30.97H78.663z"/><path d="M70.72 32.775c-.342-.615-.773-1.192-1.242-1.74-2.547-3.1-6.36-5.14-10.654-5.14-4.31 0-8.12 2.027-10.668 5.113-.468.563-.9 1.14-1.267 1.767-1.28 2.127-2.053 4.585-2.053 7.25 0 7.788 6.26 14.114 13.987 14.114 7.69 0 13.95-6.327 13.95-14.115 0-2.664-.76-5.122-2.054-7.25"/></svg>'+i.escape(null==(e=a)?"":e)+"</li>"),"Wildlife Observation"===a&&n.push('<li><svg version="1" xmlns="http://www.w3.org/2000/svg" width="99.94" height="98.44" viewBox="0 0 99.94 98.44"><path d="M40.883 0H21.858v13.612h19.024V0zM62.348 58.74a3.255 3.255 0 0 1-3.26-3.26V17.873h28.74l12.112 51.31-.062 3.32V95.18c0 1.742-1.41 3.17-3.17 3.17H68.775a3.17 3.17 0 0 1-3.17-3.17V58.74h-3.032M37.533 58.816c1.804 0 3.26-1.44 3.26-3.245V17.933h-28.71L-.06 69.247 0 72.592v22.68a3.178 3.178 0 0 0 3.17 3.168h27.935c1.774 0 3.2-1.427 3.2-3.17V58.817h2.986M54.858 17.932h-9.853v34.94h9.853v-34.94zM78.127 0H59.09v13.612h19.037V0z"/></svg>'+i.escape(null==(e=a)?"":e)+"</li>"),"Hiking"===a&&n.push('<li><?xml version="1.0" encoding="utf-8"?>\n<!-- Generator: Adobe Illustrator 14.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 43363)  -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">\n<svg version="1.0" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n	 width="99.018px" height="100px" viewBox="0 0 99.018 100" enable-background="new 0 0 99.018 100" xml:space="preserve">\n<path d="M24.406,27.184c3.718,0,6.715-2.997,6.715-6.714s-2.997-6.738-6.715-6.738c-3.694,0-6.714,3.021-6.714,6.738\n	S20.712,27.184,24.406,27.184z"/>\n<path d="M14.067,28.578c0.255-1.046-0.372-2.068-1.395-2.323l-5.599-1.371c-1.045-0.209-2.091,0.395-2.324,1.44l-4.693,19.47\n	c-0.256,0.999,0.372,2.044,1.417,2.3l5.6,1.348c1.022,0.255,2.044-0.372,2.3-1.417L14.067,28.578z"/>\n<path d="M1.404,93.797c-0.046,0.324-0.093,0.65-0.093,0.952c0,2.603,2.114,4.717,4.717,4.717c2.161,0,3.95-1.418,4.53-3.369\n	L18.691,62.5l7.713,33.41c0.511,2.045,2.394,3.556,4.577,3.556c2.625,0,4.74-2.114,4.74-4.717c0-0.349-0.046-0.697-0.116-1.022\n	l-10.618-44.4l0.906-3.88l0.674,3.066c0.65,1.998,2.486,2.208,2.486,2.208l10.943,2.788c0.209,0.047,0.418,0.047,0.65,0.047\n	c1.766,0,3.229-1.44,3.229-3.229c0-1.51-1.069-2.812-2.486-3.137l-9.479-2.37l-2.603-10.571c-1.231-5.878-6.854-5.739-6.854-5.739\n	c-5.483-0.139-6.854,5.599-6.854,5.599L1.404,93.797z"/>\n<path d="M91.117,96.073c0-2.184,1.72-3.95,3.95-3.95c2.161,0,3.95,1.767,3.95,3.95c0,2.161-1.789,3.927-3.95,3.927\n	C92.837,100,91.117,98.234,91.117,96.073z"/>\n<path d="M95.067,85.479c-2.23,0-3.95-1.766-3.95-3.927c0-2.184,1.72-3.95,3.95-3.95c2.161,0,3.95,1.767,3.95,3.95\n	C99.018,83.713,97.229,85.479,95.067,85.479z"/>\n<path d="M95.044,70.957c-2.207,0-3.95-1.766-3.95-3.927c0-2.207,1.743-3.949,3.95-3.949c2.161,0,3.95,1.742,3.95,3.949\n	C98.994,69.191,97.205,70.957,95.044,70.957z"/>\n<path d="M95.044,56.436c-2.207,0-3.95-1.766-3.95-3.926c0-2.208,1.743-3.95,3.95-3.95c2.161,0,3.95,1.742,3.95,3.95\n	C98.994,54.67,97.205,56.436,95.044,56.436z"/>\n<path d="M95.044,41.914c-2.207,0-3.95-1.766-3.95-3.926c0-2.208,1.743-3.95,3.95-3.95c2.161,0,3.927,1.742,3.927,3.95\n	C98.971,40.148,97.205,41.914,95.044,41.914z"/>\n<path d="M95.044,27.393c-2.23,0-3.95-1.766-3.95-3.927c0-2.23,1.72-3.95,3.95-3.95c2.161,0,3.927,1.719,3.927,3.95\n	C98.971,25.627,97.205,27.393,95.044,27.393z"/>\n<path d="M91.094,8.945c0-2.23,1.72-3.95,3.95-3.95c2.161,0,3.927,1.72,3.927,3.95c0,2.16-1.766,3.926-3.927,3.926\n	C92.813,12.872,91.094,11.105,91.094,8.945z"/>\n<path d="M66.002,4.972c2.184,0,3.926,1.743,3.926,3.974c0,2.137-1.742,3.926-3.926,3.926c-2.185,0-3.95-1.789-3.95-3.926\n	C62.052,6.715,63.817,4.972,66.002,4.972z"/>\n<path d="M80.523,4.949c2.184,0,3.926,1.766,3.926,3.973c0,2.138-1.742,3.927-3.926,3.927c-2.185,0-3.951-1.789-3.951-3.927\n	C76.572,6.715,78.339,4.949,80.523,4.949z"/>\n<path d="M66.002,92.101c2.16,0,3.949,1.766,3.949,3.949c0,2.161-1.789,3.927-3.949,3.927c-2.208,0-3.95-1.766-3.95-3.927\n	C62.052,93.866,63.794,92.101,66.002,92.101z"/>\n<path d="M80.546,92.101c2.185,0,3.927,1.766,3.927,3.949c0,2.161-1.742,3.927-3.927,3.927s-3.95-1.766-3.95-3.927\n	C76.596,93.866,78.361,92.101,80.546,92.101z"/>\n<polygon points="56.545,0 56.545,17.96 41.065,8.968 "/>\n<path d="M53.617,99.21c0,0,0-28.485,0-31.413c1.975-1.975,15.219-15.218,15.219-15.218c0.744-0.743,1.115-1.743,1.115-2.719\n	c0-0.999-0.371-1.975-1.115-2.718c-1.51-1.51-3.949-1.51-5.46,0L45.904,64.591V99.21H53.617z"/>\n</svg>\n'+i.escape(null==(e=a)?"":e)+"</li>"),"Fishing"===a&&n.push('<li><svg version="1" xmlns="http://www.w3.org/2000/svg" width="99.999" height="92.963" viewBox="0 0 99.999 92.963"><path d="M58.77 63.407a4.08 4.08 0 0 0 4.085-4.097c0-2.26-1.817-4.097-4.084-4.097s-4.107 1.837-4.107 4.097a4.102 4.102 0 0 0 4.108 4.097zm40.594 29.536c-24.28.36-49.657-4.284-69.082-19.887-.125-.11-.174-.26-.174-.436 0-.373.3-.66.647-.66l19.15.025c.922 0 1.694-.76 1.694-1.693 0-.697-.325-1.183-1.072-1.557L33.22 60.473c-.324-.2-.548-.56-.548-.97 0-.313.125-.593.324-.804 0 0 21.093-18.642 66.368-18.23v52.473zM90.112.003C75.12.17 60.44 6.565 43.98 20.07c-.618-.17-1.968-.53-1.968-.53-2.615 0-4.744 2.117-4.744 4.725 0 0 .187.884.3 1.426L24.26 38.175 12.95 48.84a5.34 5.34 0 0 1-3.873 1.387 5.293 5.293 0 0 1-3.698-1.742 5.355 5.355 0 0 1-1.383-3.605c0-1.457.585-2.907 1.737-3.96 0 0 .853-.472 1.5-.84.138.966.536 3.93.536 3.93l9.227-11.755-10.18 3.466c-2.683.923-3.786 2.273-3.83 2.33-3.728 3.375-4.02 9.29-.572 13.105 3.468 3.823 9.39 4.098 13.205.636l.1-.123 10.728-10.21S39.69 28.93 40.12 28.516c.64.17 1.893.487 1.893.487 2.603 0 4.72-2.123 4.72-4.738 0 0-.125-.69-.22-1.19 15.92-13.1 29.853-19.312 43.8-19.474 2.863-.03 5.154.35 8.915 1.152l.77.168v-3.73l-.497-.106C95.617.258 93.064-.034 90.113.003z"/></svg>'+i.escape(null==(e=a)?"":e)+"</li>"),"Hunting"===a&&n.push('<li><?xml version="1.0" encoding="utf-8"?>\n<!-- Generator: Adobe Illustrator 19.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n	 viewBox="-240.1 356.7 52.6 52.6" style="enable-background:new -240.1 356.7 52.6 52.6;" xml:space="preserve">\n<circle cx="-213.8" cy="383" r="3.7"/>\n<path d="M-190.1,380.4h-1.6c-1.2-10.2-9.3-18.3-19.5-19.5v-1.6c0-1.4-1.2-2.6-2.6-2.6c-1.4,0-2.6,1.2-2.6,2.6v1.6\n	c-10.2,1.2-18.3,9.3-19.5,19.5h-1.6c-1.4,0-2.6,1.2-2.6,2.6s1.2,2.6,2.6,2.6h1.6c1.2,10.2,9.3,18.3,19.5,19.5v1.6\n	c0,1.4,1.2,2.6,2.6,2.6c1.4,0,2.6-1.2,2.6-2.6v-1.6c10.2-1.2,18.3-9.3,19.5-19.5h1.6c1.4,0,2.6-1.2,2.6-2.6\n	S-188.7,380.4-190.1,380.4z M-211.2,399.8v-5.7c0-1.4-1.2-2.6-2.6-2.6c-1.4,0-2.6,1.2-2.6,2.6v5.7c-7.3-1.1-13.1-6.9-14.2-14.2h5.7\n	c1.4,0,2.6-1.2,2.6-2.6s-1.2-2.6-2.6-2.6h-5.7c1.1-7.3,6.9-13.1,14.2-14.2v5.7c0,1.4,1.2,2.6,2.6,2.6c1.4,0,2.6-1.2,2.6-2.6v-5.7\n	c7.3,1.1,13.1,6.9,14.2,14.2h-5.7c-1.4,0-2.6,1.2-2.6,2.6s1.2,2.6,2.6,2.6h5.7C-198.1,392.9-203.9,398.7-211.2,399.8L-211.2,399.8z"\n	/>\n</svg>\n'+i.escape(null==(e=a)?"":e)+"</li>"),"Boat Ramp"===a&&n.push('<li><svg version="1" xmlns="http://www.w3.org/2000/svg" width="100" height="52.269" viewBox="0 0 100 52.269"><path d="M54.366 39.622a9.124 9.124 0 0 0 7.075-8.892 9.12 9.12 0 0 0-9.12-9.12c-5.04 0-9.122 4.084-9.122 9.12a9.102 9.102 0 0 0 3.522 7.2L0 27.607v24.628l51.166.035c2.298 0 4.317-1.2 5.467-3.004a6.48 6.48 0 0 0 10.937 0 6.478 6.478 0 0 0 10.935 0c1.15 1.802 3.168 3 5.468 3s4.32-1.198 5.468-3.002a6.474 6.474 0 0 0 5.468 3.003 6.472 6.472 0 0 0 5.094-2.476L54.366 39.622zM47.55 30.73a4.77 4.77 0 1 1 9.54.003 4.77 4.77 0 0 1-9.54-.003z"/><path d="M92.986 36.3l-30.62-6.66a10.175 10.175 0 0 1-.275 3.674l30.12 6.552.776-3.565M4.54 17.063l-.775 3.565 38.596 8.396c.212-1.245.653-2.41 1.277-3.457L4.54 17.063M33.647 7.917L44.18 1.953 43.075 0 30.352 7.205 9.378 2.667c.142 13.05 14.454 16.838 14.454 16.838l20.978 4.47a10.076 10.076 0 0 1 7.51-3.346c4.496 0 8.306 2.935 9.617 6.994l26.45 5.634 6.595-12.07L33.647 7.92"/></svg>'+i.escape(null==(e=a)?"":e)+"</li>"),"Canoeing"===a&&n.push('<li><svg version="1" xmlns="http://www.w3.org/2000/svg" width="100" height="87.717" viewBox="0 0 100 87.717"><path d="M34.242 18.556c5.134 0 9.272-4.162 9.272-9.284A9.262 9.262 0 0 0 34.242 0a9.27 9.27 0 0 0-9.27 9.272c0 5.123 4.148 9.284 9.27 9.284z"/><path d="M.023 69.268c2.17 0 4.257-.498 6.13-1.34 1.92-.89 4.09-1.41 6.343-1.41s4.423.52 6.332 1.41a15.15 15.15 0 0 0 6.177 1.328c2.182 0 4.28-.486 6.154-1.328 1.908-.89 4.078-1.41 6.342-1.41 2.253 0 4.41.52 6.344 1.41 1.86.842 3.972 1.328 6.153 1.328s4.29-.486 6.153-1.328c1.932-.89 4.09-1.41 6.354-1.41 2.253 0 4.41.52 6.332 1.41a15.132 15.132 0 0 0 6.164 1.328 15.1 15.1 0 0 0 6.166-1.328 15.033 15.033 0 0 1 11.833-.38c2.75-3.012 4.458-7.02 4.458-11.406 0-9.343-7.563-16.907-16.895-16.907l-1.896.2c-2.076 8.432-10.507 8.787-10.507 8.787l-38.58-.012-3.226-1.897 7.778-13.054 8.513 4.92c5.098 3.307 7.754-1.33 7.754-1.33l8.537-13.92c3.71-6.046-4.163-10.895-7.85-4.825l-5.977 9.758-14.205-7.86c-9.84-5.49-14.015 3.603-14.015 3.603L5.74 42.72c-1.898 3.972-.203 5.68-.203 5.68l-5.514-.013v20.88zM100 87.717c-2.182 0-4.28-.486-6.142-1.328a15.19 15.19 0 0 0-6.355-1.412c-2.253 0-4.423.52-6.33 1.41a15.1 15.1 0 0 1-6.167 1.33c-2.182 0-4.28-.487-6.165-1.33-1.92-.89-4.078-1.41-6.33-1.41-2.266 0-4.424.52-6.355 1.41-1.862.843-3.973 1.33-6.154 1.33s-4.29-.487-6.152-1.33a15.18 15.18 0 0 0-6.344-1.41c-2.265 0-4.435.52-6.343 1.41a15.04 15.04 0 0 1-6.153 1.33 15.15 15.15 0 0 1-6.177-1.33c-1.91-.89-4.08-1.41-6.332-1.41s-4.423.52-6.343 1.41A15.066 15.066 0 0 1 0 87.72V78.49c2.182 0 4.28-.498 6.154-1.34 1.92-.89 4.09-1.41 6.343-1.41s4.423.52 6.332 1.41a15.157 15.157 0 0 0 6.176 1.34c2.182 0 4.28-.498 6.154-1.34 1.91-.89 4.08-1.41 6.343-1.41 2.253 0 4.41.52 6.344 1.41 1.86.842 3.972 1.34 6.153 1.34s4.292-.498 6.154-1.34c1.932-.89 4.09-1.41 6.354-1.41 2.253 0 4.41.52 6.332 1.41 1.885.842 3.983 1.34 6.165 1.34 2.193 0 4.28-.498 6.166-1.34a15.033 15.033 0 0 1 6.332-1.41c2.265 0 4.423.52 6.355 1.41 1.86.842 3.96 1.34 6.142 1.34v9.225z"/></svg>'+i.escape(null==(e=a)?"":e)+"</li>"),"Lighthouse"===a&&n.push('<li><svg version="1" xmlns="http://www.w3.org/2000/svg" width="55.242" height="100" viewBox="0 0 55.242 100"><path d="M44.798 93.287L40.28 26.574h3.704c1.29 0 1.29-.896 1.29-.896v-5.49h-1.777v.897h-4.155V9.102h2.486V6.635L27.585 0 13.293 6.58v2.467h2.498V21.03h-4.154v-.896h-1.78v5.49s0 .895 1.305.895h3.693l-4.52 66.767H0V100h55.242v-6.713H44.798zM29.85 76.314h10.04v16.973H29.85V76.314z"/></svg>'+i.escape(null==(e=a)?"":e)+"</li>"),"Picnic"===a&&n.push('<li><?xml version="1.0" encoding="utf-8"?>\n<!-- Generator: Adobe Illustrator 14.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 43363)  -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">\n<svg version="1.0" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n	 width="99.994px" height="94.698px" viewBox="0 0 99.994 94.698" enable-background="new 0 0 99.994 94.698" xml:space="preserve">\n<polygon points="10.04,94.698 99.994,94.698 99.994,85.359 19.379,85.359 19.379,46.145 99.994,9.715 99.994,0 0,45.168 0,54.882 \n	10.04,50.376 "/>\n<path d="M77.61,43.628v5.02h-8.237l4.883,11.956h12.318v4.982H76.258l5.708,13.989h-6.033l-5.709-13.989H51.765l-5.671,13.989h-6.06\n	l5.709-13.989H35.441v-4.982h12.331l4.857-11.956h-8.237v-5.02H77.61z M68.196,60.604l-4.857-11.956h-4.657l-4.875,11.956H68.196z"\n	/>\n</svg>\n'+i.escape(null==(e=a)?"":e)+"</li>")}else{var s=0;for(var r in o){s++;var a=o[r];"Wildlife Photography"===a&&n.push('<li><svg version="1" xmlns="http://www.w3.org/2000/svg" width="100" height="72.392" viewBox="0 0 100 72.392"><path d="M58.823 17.958c7.955 0 14.862 4.38 18.675 10.834l22.476.026v-12.18c0-4.534-3.647-8.21-8.12-8.21H8.095C3.608 8.427 0 12.103 0 16.637l.023 12.077 40.112.027c3.84-6.43 10.72-10.784 18.688-10.784M21.006 4.56h-7.45l-.862 2.715h8.93l-.618-2.715zM88.19 3.112h-9.92L76.51 7.3H89.8l-1.61-4.188zM54.137 5.854h-8.54V1.678h8.54v4.176zM61.965 0h-24.11l-4.967 7.352h33.625L61.965 0zM78.663 30.97c1.243 2.767 1.977 5.813 1.977 9.055 0 12.18-9.77 22.067-21.816 22.067-12.062 0-21.83-9.888-21.83-22.067 0-3.242.724-6.288 1.977-9.07H0V64.21c0 4.507 3.608 8.184 8.096 8.184h83.756c4.474 0 8.12-3.677 8.12-8.184L100 30.97H78.663z"/><path d="M70.72 32.775c-.342-.615-.773-1.192-1.242-1.74-2.547-3.1-6.36-5.14-10.654-5.14-4.31 0-8.12 2.027-10.668 5.113-.468.563-.9 1.14-1.267 1.767-1.28 2.127-2.053 4.585-2.053 7.25 0 7.788 6.26 14.114 13.987 14.114 7.69 0 13.95-6.327 13.95-14.115 0-2.664-.76-5.122-2.054-7.25"/></svg>'+i.escape(null==(e=a)?"":e)+"</li>"),"Wildlife Observation"===a&&n.push('<li><svg version="1" xmlns="http://www.w3.org/2000/svg" width="99.94" height="98.44" viewBox="0 0 99.94 98.44"><path d="M40.883 0H21.858v13.612h19.024V0zM62.348 58.74a3.255 3.255 0 0 1-3.26-3.26V17.873h28.74l12.112 51.31-.062 3.32V95.18c0 1.742-1.41 3.17-3.17 3.17H68.775a3.17 3.17 0 0 1-3.17-3.17V58.74h-3.032M37.533 58.816c1.804 0 3.26-1.44 3.26-3.245V17.933h-28.71L-.06 69.247 0 72.592v22.68a3.178 3.178 0 0 0 3.17 3.168h27.935c1.774 0 3.2-1.427 3.2-3.17V58.817h2.986M54.858 17.932h-9.853v34.94h9.853v-34.94zM78.127 0H59.09v13.612h19.037V0z"/></svg>'+i.escape(null==(e=a)?"":e)+"</li>"),"Hiking"===a&&n.push('<li><?xml version="1.0" encoding="utf-8"?>\n<!-- Generator: Adobe Illustrator 14.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 43363)  -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">\n<svg version="1.0" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n	 width="99.018px" height="100px" viewBox="0 0 99.018 100" enable-background="new 0 0 99.018 100" xml:space="preserve">\n<path d="M24.406,27.184c3.718,0,6.715-2.997,6.715-6.714s-2.997-6.738-6.715-6.738c-3.694,0-6.714,3.021-6.714,6.738\n	S20.712,27.184,24.406,27.184z"/>\n<path d="M14.067,28.578c0.255-1.046-0.372-2.068-1.395-2.323l-5.599-1.371c-1.045-0.209-2.091,0.395-2.324,1.44l-4.693,19.47\n	c-0.256,0.999,0.372,2.044,1.417,2.3l5.6,1.348c1.022,0.255,2.044-0.372,2.3-1.417L14.067,28.578z"/>\n<path d="M1.404,93.797c-0.046,0.324-0.093,0.65-0.093,0.952c0,2.603,2.114,4.717,4.717,4.717c2.161,0,3.95-1.418,4.53-3.369\n	L18.691,62.5l7.713,33.41c0.511,2.045,2.394,3.556,4.577,3.556c2.625,0,4.74-2.114,4.74-4.717c0-0.349-0.046-0.697-0.116-1.022\n	l-10.618-44.4l0.906-3.88l0.674,3.066c0.65,1.998,2.486,2.208,2.486,2.208l10.943,2.788c0.209,0.047,0.418,0.047,0.65,0.047\n	c1.766,0,3.229-1.44,3.229-3.229c0-1.51-1.069-2.812-2.486-3.137l-9.479-2.37l-2.603-10.571c-1.231-5.878-6.854-5.739-6.854-5.739\n	c-5.483-0.139-6.854,5.599-6.854,5.599L1.404,93.797z"/>\n<path d="M91.117,96.073c0-2.184,1.72-3.95,3.95-3.95c2.161,0,3.95,1.767,3.95,3.95c0,2.161-1.789,3.927-3.95,3.927\n	C92.837,100,91.117,98.234,91.117,96.073z"/>\n<path d="M95.067,85.479c-2.23,0-3.95-1.766-3.95-3.927c0-2.184,1.72-3.95,3.95-3.95c2.161,0,3.95,1.767,3.95,3.95\n	C99.018,83.713,97.229,85.479,95.067,85.479z"/>\n<path d="M95.044,70.957c-2.207,0-3.95-1.766-3.95-3.927c0-2.207,1.743-3.949,3.95-3.949c2.161,0,3.95,1.742,3.95,3.949\n	C98.994,69.191,97.205,70.957,95.044,70.957z"/>\n<path d="M95.044,56.436c-2.207,0-3.95-1.766-3.95-3.926c0-2.208,1.743-3.95,3.95-3.95c2.161,0,3.95,1.742,3.95,3.95\n	C98.994,54.67,97.205,56.436,95.044,56.436z"/>\n<path d="M95.044,41.914c-2.207,0-3.95-1.766-3.95-3.926c0-2.208,1.743-3.95,3.95-3.95c2.161,0,3.927,1.742,3.927,3.95\n	C98.971,40.148,97.205,41.914,95.044,41.914z"/>\n<path d="M95.044,27.393c-2.23,0-3.95-1.766-3.95-3.927c0-2.23,1.72-3.95,3.95-3.95c2.161,0,3.927,1.719,3.927,3.95\n	C98.971,25.627,97.205,27.393,95.044,27.393z"/>\n<path d="M91.094,8.945c0-2.23,1.72-3.95,3.95-3.95c2.161,0,3.927,1.72,3.927,3.95c0,2.16-1.766,3.926-3.927,3.926\n	C92.813,12.872,91.094,11.105,91.094,8.945z"/>\n<path d="M66.002,4.972c2.184,0,3.926,1.743,3.926,3.974c0,2.137-1.742,3.926-3.926,3.926c-2.185,0-3.95-1.789-3.95-3.926\n	C62.052,6.715,63.817,4.972,66.002,4.972z"/>\n<path d="M80.523,4.949c2.184,0,3.926,1.766,3.926,3.973c0,2.138-1.742,3.927-3.926,3.927c-2.185,0-3.951-1.789-3.951-3.927\n	C76.572,6.715,78.339,4.949,80.523,4.949z"/>\n<path d="M66.002,92.101c2.16,0,3.949,1.766,3.949,3.949c0,2.161-1.789,3.927-3.949,3.927c-2.208,0-3.95-1.766-3.95-3.927\n	C62.052,93.866,63.794,92.101,66.002,92.101z"/>\n<path d="M80.546,92.101c2.185,0,3.927,1.766,3.927,3.949c0,2.161-1.742,3.927-3.927,3.927s-3.95-1.766-3.95-3.927\n	C76.596,93.866,78.361,92.101,80.546,92.101z"/>\n<polygon points="56.545,0 56.545,17.96 41.065,8.968 "/>\n<path d="M53.617,99.21c0,0,0-28.485,0-31.413c1.975-1.975,15.219-15.218,15.219-15.218c0.744-0.743,1.115-1.743,1.115-2.719\n	c0-0.999-0.371-1.975-1.115-2.718c-1.51-1.51-3.949-1.51-5.46,0L45.904,64.591V99.21H53.617z"/>\n</svg>\n'+i.escape(null==(e=a)?"":e)+"</li>"),"Fishing"===a&&n.push('<li><svg version="1" xmlns="http://www.w3.org/2000/svg" width="99.999" height="92.963" viewBox="0 0 99.999 92.963"><path d="M58.77 63.407a4.08 4.08 0 0 0 4.085-4.097c0-2.26-1.817-4.097-4.084-4.097s-4.107 1.837-4.107 4.097a4.102 4.102 0 0 0 4.108 4.097zm40.594 29.536c-24.28.36-49.657-4.284-69.082-19.887-.125-.11-.174-.26-.174-.436 0-.373.3-.66.647-.66l19.15.025c.922 0 1.694-.76 1.694-1.693 0-.697-.325-1.183-1.072-1.557L33.22 60.473c-.324-.2-.548-.56-.548-.97 0-.313.125-.593.324-.804 0 0 21.093-18.642 66.368-18.23v52.473zM90.112.003C75.12.17 60.44 6.565 43.98 20.07c-.618-.17-1.968-.53-1.968-.53-2.615 0-4.744 2.117-4.744 4.725 0 0 .187.884.3 1.426L24.26 38.175 12.95 48.84a5.34 5.34 0 0 1-3.873 1.387 5.293 5.293 0 0 1-3.698-1.742 5.355 5.355 0 0 1-1.383-3.605c0-1.457.585-2.907 1.737-3.96 0 0 .853-.472 1.5-.84.138.966.536 3.93.536 3.93l9.227-11.755-10.18 3.466c-2.683.923-3.786 2.273-3.83 2.33-3.728 3.375-4.02 9.29-.572 13.105 3.468 3.823 9.39 4.098 13.205.636l.1-.123 10.728-10.21S39.69 28.93 40.12 28.516c.64.17 1.893.487 1.893.487 2.603 0 4.72-2.123 4.72-4.738 0 0-.125-.69-.22-1.19 15.92-13.1 29.853-19.312 43.8-19.474 2.863-.03 5.154.35 8.915 1.152l.77.168v-3.73l-.497-.106C95.617.258 93.064-.034 90.113.003z"/></svg>'+i.escape(null==(e=a)?"":e)+"</li>"),"Hunting"===a&&n.push('<li><?xml version="1.0" encoding="utf-8"?>\n<!-- Generator: Adobe Illustrator 19.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n	 viewBox="-240.1 356.7 52.6 52.6" style="enable-background:new -240.1 356.7 52.6 52.6;" xml:space="preserve">\n<circle cx="-213.8" cy="383" r="3.7"/>\n<path d="M-190.1,380.4h-1.6c-1.2-10.2-9.3-18.3-19.5-19.5v-1.6c0-1.4-1.2-2.6-2.6-2.6c-1.4,0-2.6,1.2-2.6,2.6v1.6\n	c-10.2,1.2-18.3,9.3-19.5,19.5h-1.6c-1.4,0-2.6,1.2-2.6,2.6s1.2,2.6,2.6,2.6h1.6c1.2,10.2,9.3,18.3,19.5,19.5v1.6\n	c0,1.4,1.2,2.6,2.6,2.6c1.4,0,2.6-1.2,2.6-2.6v-1.6c10.2-1.2,18.3-9.3,19.5-19.5h1.6c1.4,0,2.6-1.2,2.6-2.6\n	S-188.7,380.4-190.1,380.4z M-211.2,399.8v-5.7c0-1.4-1.2-2.6-2.6-2.6c-1.4,0-2.6,1.2-2.6,2.6v5.7c-7.3-1.1-13.1-6.9-14.2-14.2h5.7\n	c1.4,0,2.6-1.2,2.6-2.6s-1.2-2.6-2.6-2.6h-5.7c1.1-7.3,6.9-13.1,14.2-14.2v5.7c0,1.4,1.2,2.6,2.6,2.6c1.4,0,2.6-1.2,2.6-2.6v-5.7\n	c7.3,1.1,13.1,6.9,14.2,14.2h-5.7c-1.4,0-2.6,1.2-2.6,2.6s1.2,2.6,2.6,2.6h5.7C-198.1,392.9-203.9,398.7-211.2,399.8L-211.2,399.8z"\n	/>\n</svg>\n'+i.escape(null==(e=a)?"":e)+"</li>"),"Boat Ramp"===a&&n.push('<li><svg version="1" xmlns="http://www.w3.org/2000/svg" width="100" height="52.269" viewBox="0 0 100 52.269"><path d="M54.366 39.622a9.124 9.124 0 0 0 7.075-8.892 9.12 9.12 0 0 0-9.12-9.12c-5.04 0-9.122 4.084-9.122 9.12a9.102 9.102 0 0 0 3.522 7.2L0 27.607v24.628l51.166.035c2.298 0 4.317-1.2 5.467-3.004a6.48 6.48 0 0 0 10.937 0 6.478 6.478 0 0 0 10.935 0c1.15 1.802 3.168 3 5.468 3s4.32-1.198 5.468-3.002a6.474 6.474 0 0 0 5.468 3.003 6.472 6.472 0 0 0 5.094-2.476L54.366 39.622zM47.55 30.73a4.77 4.77 0 1 1 9.54.003 4.77 4.77 0 0 1-9.54-.003z"/><path d="M92.986 36.3l-30.62-6.66a10.175 10.175 0 0 1-.275 3.674l30.12 6.552.776-3.565M4.54 17.063l-.775 3.565 38.596 8.396c.212-1.245.653-2.41 1.277-3.457L4.54 17.063M33.647 7.917L44.18 1.953 43.075 0 30.352 7.205 9.378 2.667c.142 13.05 14.454 16.838 14.454 16.838l20.978 4.47a10.076 10.076 0 0 1 7.51-3.346c4.496 0 8.306 2.935 9.617 6.994l26.45 5.634 6.595-12.07L33.647 7.92"/></svg>'+i.escape(null==(e=a)?"":e)+"</li>"),"Canoeing"===a&&n.push('<li><svg version="1" xmlns="http://www.w3.org/2000/svg" width="100" height="87.717" viewBox="0 0 100 87.717"><path d="M34.242 18.556c5.134 0 9.272-4.162 9.272-9.284A9.262 9.262 0 0 0 34.242 0a9.27 9.27 0 0 0-9.27 9.272c0 5.123 4.148 9.284 9.27 9.284z"/><path d="M.023 69.268c2.17 0 4.257-.498 6.13-1.34 1.92-.89 4.09-1.41 6.343-1.41s4.423.52 6.332 1.41a15.15 15.15 0 0 0 6.177 1.328c2.182 0 4.28-.486 6.154-1.328 1.908-.89 4.078-1.41 6.342-1.41 2.253 0 4.41.52 6.344 1.41 1.86.842 3.972 1.328 6.153 1.328s4.29-.486 6.153-1.328c1.932-.89 4.09-1.41 6.354-1.41 2.253 0 4.41.52 6.332 1.41a15.132 15.132 0 0 0 6.164 1.328 15.1 15.1 0 0 0 6.166-1.328 15.033 15.033 0 0 1 11.833-.38c2.75-3.012 4.458-7.02 4.458-11.406 0-9.343-7.563-16.907-16.895-16.907l-1.896.2c-2.076 8.432-10.507 8.787-10.507 8.787l-38.58-.012-3.226-1.897 7.778-13.054 8.513 4.92c5.098 3.307 7.754-1.33 7.754-1.33l8.537-13.92c3.71-6.046-4.163-10.895-7.85-4.825l-5.977 9.758-14.205-7.86c-9.84-5.49-14.015 3.603-14.015 3.603L5.74 42.72c-1.898 3.972-.203 5.68-.203 5.68l-5.514-.013v20.88zM100 87.717c-2.182 0-4.28-.486-6.142-1.328a15.19 15.19 0 0 0-6.355-1.412c-2.253 0-4.423.52-6.33 1.41a15.1 15.1 0 0 1-6.167 1.33c-2.182 0-4.28-.487-6.165-1.33-1.92-.89-4.078-1.41-6.33-1.41-2.266 0-4.424.52-6.355 1.41-1.862.843-3.973 1.33-6.154 1.33s-4.29-.487-6.152-1.33a15.18 15.18 0 0 0-6.344-1.41c-2.265 0-4.435.52-6.343 1.41a15.04 15.04 0 0 1-6.153 1.33 15.15 15.15 0 0 1-6.177-1.33c-1.91-.89-4.08-1.41-6.332-1.41s-4.423.52-6.343 1.41A15.066 15.066 0 0 1 0 87.72V78.49c2.182 0 4.28-.498 6.154-1.34 1.92-.89 4.09-1.41 6.343-1.41s4.423.52 6.332 1.41a15.157 15.157 0 0 0 6.176 1.34c2.182 0 4.28-.498 6.154-1.34 1.91-.89 4.08-1.41 6.343-1.41 2.253 0 4.41.52 6.344 1.41 1.86.842 3.972 1.34 6.153 1.34s4.292-.498 6.154-1.34c1.932-.89 4.09-1.41 6.354-1.41 2.253 0 4.41.52 6.332 1.41 1.885.842 3.983 1.34 6.165 1.34 2.193 0 4.28-.498 6.166-1.34a15.033 15.033 0 0 1 6.332-1.41c2.265 0 4.423.52 6.355 1.41 1.86.842 3.96 1.34 6.142 1.34v9.225z"/></svg>'+i.escape(null==(e=a)?"":e)+"</li>"),"Lighthouse"===a&&n.push('<li><svg version="1" xmlns="http://www.w3.org/2000/svg" width="55.242" height="100" viewBox="0 0 55.242 100"><path d="M44.798 93.287L40.28 26.574h3.704c1.29 0 1.29-.896 1.29-.896v-5.49h-1.777v.897h-4.155V9.102h2.486V6.635L27.585 0 13.293 6.58v2.467h2.498V21.03h-4.154v-.896h-1.78v5.49s0 .895 1.305.895h3.693l-4.52 66.767H0V100h55.242v-6.713H44.798zM29.85 76.314h10.04v16.973H29.85V76.314z"/></svg>'+i.escape(null==(e=a)?"":e)+"</li>"),"Picnic"===a&&n.push('<li><?xml version="1.0" encoding="utf-8"?>\n<!-- Generator: Adobe Illustrator 14.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 43363)  -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">\n<svg version="1.0" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n	 width="99.994px" height="94.698px" viewBox="0 0 99.994 94.698" enable-background="new 0 0 99.994 94.698" xml:space="preserve">\n<polygon points="10.04,94.698 99.994,94.698 99.994,85.359 19.379,85.359 19.379,46.145 99.994,9.715 99.994,0 0,45.168 0,54.882 \n	10.04,50.376 "/>\n<path d="M77.61,43.628v5.02h-8.237l4.883,11.956h12.318v4.982H76.258l5.708,13.989h-6.033l-5.709-13.989H51.765l-5.671,13.989h-6.06\n	l5.709-13.989H35.441v-4.982h12.331l4.857-11.956h-8.237v-5.02H77.61z M68.196,60.604l-4.857-11.956h-4.657l-4.875,11.956H68.196z"\n	/>\n</svg>\n'+i.escape(null==(e=a)?"":e)+"</li>")}}}.call(this),n.push("</ul><address>"+i.escape(null==(e=t.address)?"":e)+"<br/>"+i.escape(null==(e=t.city)?"":e)+", "+i.escape(null==(e=t.state)?"":e)+" "+i.escape(null==(e=t.zip)?"":e)+"</address></div>")}.call(this,"office"in o?o.office:"undefined"!=typeof office?office:void 0,"undefined"in o?o.undefined:void 0),n.join("")}},{"jade/runtime":9}],130:[function(t,e,n){var i=t("jade/runtime");e.exports=function(e){var n,o=[],r=e||{};return function(t,e,r){var s=e("../js/util")._;o.push('<h2>Nearest Offices</h2><ul class="nearest-offices">'),function(){var e=t;if("number"==typeof e.length)for(var r=0,a=e.length;a>r;r++){var l=e[r],l=l.layer.feature.properties,h="?q="+s.string.slugify(l.name).toLowerCase();o.push("<li><a"+i.attr("href",h,!0,!1)+">"+i.escape(null==(n=l.name)?"":n)+"</a></li>")}else{var a=0;for(var r in e){a++;var l=e[r],l=l.layer.feature.properties,h="?q="+s.string.slugify(l.name).toLowerCase();o.push("<li><a"+i.attr("href",h,!0,!1)+">"+i.escape(null==(n=l.name)?"":n)+"</a></li>")}}}.call(this),o.push("</ul>")}.call(this,"nearest"in r?r.nearest:"undefined"!=typeof nearest?nearest:void 0,"require"in r?r.require:"undefined"!=typeof t?t:void 0,"undefined"in r?r.undefined:void 0),o.join("")}},{"../js/util":126,"jade/runtime":9}]},{},[120]);
