!function t(e,i,n){function o(s,a){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var h=i[s]={exports:{}};e[s][0].call(h.exports,function(t){var i=e[s][1][t];return o(i?i:t)},h,h.exports,t,e,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,i){function n(t){t?i(t):++r===s&&i(null)}i=f["default"](i||p["default"]);var o=0,r=0,s=t.length;for(0===s&&i(null);s>o;o++)e(t[o],o,_["default"](n))}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=function(t,e,i){var n=s["default"](t)?o:g;n(t,e,i)};var r=t("lodash/isArrayLike"),s=n(r),a=t("./eachOfLimit"),l=n(a),u=t("./internal/doLimit"),h=n(u),c=t("lodash/noop"),p=n(c),d=t("lodash/once"),f=n(d),m=t("./internal/onlyOnce"),_=n(m),g=h["default"](l["default"],1/0);e.exports=i["default"]},{"./eachOfLimit":2,"./internal/doLimit":3,"./internal/onlyOnce":8,"lodash/isArrayLike":25,"lodash/noop":34,"lodash/once":35}],2:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,i,n){s["default"](e)(t,i,n)}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=o;var r=t("./internal/eachOfLimit"),s=n(r);e.exports=i["default"]},{"./internal/eachOfLimit":4}],3:[function(t,e,i){"use strict";function n(t,e){return function(i,n,o){return t(i,e,n,o)}}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=n,e.exports=i["default"]},{}],4:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t){return function(e,i,n){function o(t){if(c-=1,t)u=!0,n(t);else{if(u&&0>=c)return n(null);r()}}function r(){for(;t>c&&!u;){var e=a();if(null===e)return u=!0,void(0>=c&&n(null));c+=1,i(e.value,e.key,p["default"](o))}}if(n=l["default"](n||s["default"]),0>=t||!e)return n(null);var a=h["default"](e),u=!1,c=0;r()}}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=o;var r=t("lodash/noop"),s=n(r),a=t("./once"),l=n(a),u=t("./iterator"),h=n(u),c=t("./onlyOnce"),p=n(c);e.exports=i["default"]},{"./iterator":6,"./once":7,"./onlyOnce":8,"lodash/noop":34}],5:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=function(t){return n&&t[n]&&t[n]()};var n="function"==typeof Symbol&&Symbol.iterator;e.exports=i["default"]},{}],6:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e=-1,i=t.length;return function(){return++e<i?{value:t[e],key:e}:null}}function r(t){var e=-1;return function(){var i=t.next();return i.done?null:(e++,{value:i.value,key:e})}}function s(t){var e=d["default"](t),i=-1,n=e.length;return function(){var o=e[++i];return n>i?{value:t[o],key:o}:null}}function a(t){if(u["default"](t))return o(t);var e=c["default"](t);return e?r(e):s(t)}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=a;var l=t("lodash/isArrayLike"),u=n(l),h=t("./getIterator"),c=n(h),p=t("lodash/keys"),d=n(p);e.exports=i["default"]},{"./getIterator":5,"lodash/isArrayLike":25,"lodash/keys":33}],7:[function(t,e,i){"use strict";function n(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=n,e.exports=i["default"]},{}],8:[function(t,e,i){"use strict";function n(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=n,e.exports=i["default"]},{}],9:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,i){i=i||s["default"];var n=l["default"](e)?[]:{};t(e,function(t,e,i){t(h["default"](function(t,o){o.length<=1&&(o=o[0]),n[e]=o,i(t)}))},function(t){i(t,n)})}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=o;var r=t("lodash/noop"),s=n(r),a=t("lodash/isArrayLike"),l=n(a),u=t("lodash/rest"),h=n(u);e.exports=i["default"]},{"lodash/isArrayLike":25,"lodash/noop":34,"lodash/rest":36}],10:[function(t,e){function i(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}e.exports=i},{}],11:[function(t,e){function i(t,e){return null!=t&&(r.call(t,e)||"object"==typeof t&&e in t&&null===n(t))}var n=t("./_getPrototype"),o=Object.prototype,r=o.hasOwnProperty;e.exports=i},{"./_getPrototype":17}],12:[function(t,e){var i=t("./_overArg"),n=Object.keys,o=i(n,Object);e.exports=o},{"./_overArg":21}],13:[function(t,e){function i(t){return function(e){return null==e?void 0:e[t]}}e.exports=i},{}],14:[function(t,e){function i(t,e){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,r=-1,s=o(i.length-e,0),a=Array(s);++r<s;)a[r]=i[e+r];r=-1;for(var l=Array(e+1);++r<e;)l[r]=i[r];return l[e]=a,n(t,this,l)}}var n=t("./_apply"),o=Math.max;e.exports=i},{"./_apply":10}],15:[function(t,e){function i(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}e.exports=i},{}],16:[function(t,e){var i=t("./_baseProperty"),n=i("length");e.exports=n},{"./_baseProperty":13}],17:[function(t,e){var i=t("./_overArg"),n=Object.getPrototypeOf,o=i(n,Object);e.exports=o},{"./_overArg":21}],18:[function(t,e){function i(t){var e=t?t.length:void 0;return s(e)&&(r(t)||a(t)||o(t))?n(e,String):null}var n=t("./_baseTimes"),o=t("./isArguments"),r=t("./isArray"),s=t("./isLength"),a=t("./isString");e.exports=i},{"./_baseTimes":15,"./isArguments":23,"./isArray":24,"./isLength":28,"./isString":31}],19:[function(t,e){function i(t,e){return e=null==e?n:e,!!e&&("number"==typeof t||o.test(t))&&t>-1&&t%1==0&&e>t}var n=9007199254740991,o=/^(?:0|[1-9]\d*)$/;e.exports=i},{}],20:[function(t,e){function i(t){var e=t&&t.constructor,i="function"==typeof e&&e.prototype||n;return t===i}var n=Object.prototype;e.exports=i},{}],21:[function(t,e){function i(t,e){return function(i){return t(e(i))}}e.exports=i},{}],22:[function(t,e){function i(t,e){var i;if("function"!=typeof e)throw new TypeError(o);return t=n(t),function(){return--t>0&&(i=e.apply(this,arguments)),1>=t&&(e=void 0),i}}var n=t("./toInteger"),o="Expected a function";e.exports=i},{"./toInteger":38}],23:[function(t,e){function i(t){return n(t)&&s.call(t,"callee")&&(!l.call(t,"callee")||a.call(t)==o)}var n=t("./isArrayLikeObject"),o="[object Arguments]",r=Object.prototype,s=r.hasOwnProperty,a=r.toString,l=r.propertyIsEnumerable;e.exports=i},{"./isArrayLikeObject":26}],24:[function(t,e){var i=Array.isArray;e.exports=i},{}],25:[function(t,e){function i(t){return null!=t&&r(n(t))&&!o(t)}var n=t("./_getLength"),o=t("./isFunction"),r=t("./isLength");e.exports=i},{"./_getLength":16,"./isFunction":27,"./isLength":28}],26:[function(t,e){function i(t){return o(t)&&n(t)}var n=t("./isArrayLike"),o=t("./isObjectLike");e.exports=i},{"./isArrayLike":25,"./isObjectLike":30}],27:[function(t,e){function i(t){var e=n(t)?a.call(t):"";return e==o||e==r}var n=t("./isObject"),o="[object Function]",r="[object GeneratorFunction]",s=Object.prototype,a=s.toString;e.exports=i},{"./isObject":29}],28:[function(t,e){function i(t){return"number"==typeof t&&t>-1&&t%1==0&&n>=t}var n=9007199254740991;e.exports=i},{}],29:[function(t,e){function i(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}e.exports=i},{}],30:[function(t,e){function i(t){return!!t&&"object"==typeof t}e.exports=i},{}],31:[function(t,e){function i(t){return"string"==typeof t||!n(t)&&o(t)&&a.call(t)==r}var n=t("./isArray"),o=t("./isObjectLike"),r="[object String]",s=Object.prototype,a=s.toString;e.exports=i},{"./isArray":24,"./isObjectLike":30}],32:[function(t,e){function i(t){return"symbol"==typeof t||n(t)&&s.call(t)==o}var n=t("./isObjectLike"),o="[object Symbol]",r=Object.prototype,s=r.toString;e.exports=i},{"./isObjectLike":30}],33:[function(t,e){function i(t){var e=l(t);if(!e&&!s(t))return o(t);var i=r(t),u=!!i,h=i||[],c=h.length;for(var p in t)!n(t,p)||u&&("length"==p||a(p,c))||e&&"constructor"==p||h.push(p);return h}var n=t("./_baseHas"),o=t("./_baseKeys"),r=t("./_indexKeys"),s=t("./isArrayLike"),a=t("./_isIndex"),l=t("./_isPrototype");e.exports=i},{"./_baseHas":11,"./_baseKeys":12,"./_indexKeys":18,"./_isIndex":19,"./_isPrototype":20,"./isArrayLike":25}],34:[function(t,e){function i(){}e.exports=i},{}],35:[function(t,e){function i(t){return n(2,t)}var n=t("./before");e.exports=i},{"./before":22}],36:[function(t,e){function i(t,e){if("function"!=typeof t)throw new TypeError(r);return e=void 0===e?e:o(e),n(t,e)}var n=t("./_baseRest"),o=t("./toInteger"),r="Expected a function";e.exports=i},{"./_baseRest":14,"./toInteger":38}],37:[function(t,e){function i(t){if(!t)return 0===t?t:0;if(t=n(t),t===o||t===-o){var e=0>t?-1:1;return e*r}return t===t?t:0}var n=t("./toNumber"),o=1/0,r=1.7976931348623157e308;e.exports=i},{"./toNumber":39}],38:[function(t,e){function i(t){var e=n(t),i=e%1;return e===e?i?e-i:e:0}var n=t("./toFinite");e.exports=i},{"./toFinite":37}],39:[function(t,e){function i(t){if("number"==typeof t)return t;if(r(t))return s;if(o(t)){var e=n(t.valueOf)?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var i=u.test(t);return i||h.test(t)?c(t.slice(2),i?2:8):l.test(t)?s:+t}var n=t("./isFunction"),o=t("./isObject"),r=t("./isSymbol"),s=0/0,a=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,h=/^0o[0-7]+$/i,c=parseInt;e.exports=i},{"./isFunction":27,"./isObject":29,"./isSymbol":32}],40:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){l["default"](s["default"],t,e)}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=o;var r=t("./eachOf"),s=n(r),a=t("./internal/parallel"),l=n(a);e.exports=i["default"]},{"./eachOf":1,"./internal/parallel":9}],41:[function(){},{}],42:[function(t,e,i){arguments[4][41][0].apply(i,arguments)},{dup:41}],43:[function(){"document"in window.self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?!function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var i,n=arguments.length;for(i=0;n>i;i++)t=arguments[i],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:i.call(this,t)}}t=null}():!function(t){"use strict";if("Element"in t){var e="classList",i="prototype",n=t.Element[i],o=Object,r=String[i].trim||function(){return this.replace(/^\s+|\s+$/g,"")},s=Array[i].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},l=function(t,e){if(""===e)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return s.call(t,e)},u=function(t){for(var e=r.call(t.getAttribute("class")||""),i=e?e.split(/\s+/):[],n=0,o=i.length;o>n;n++)this.push(i[n]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},h=u[i]=[],c=function(){return new u(this)};if(a[i]=Error[i],h.item=function(t){return this[t]||null},h.contains=function(t){return t+="",-1!==l(this,t)},h.add=function(){var t,e=arguments,i=0,n=e.length,o=!1;do t=e[i]+"",-1===l(this,t)&&(this.push(t),o=!0);while(++i<n);o&&this._updateClassName()},h.remove=function(){var t,e,i=arguments,n=0,o=i.length,r=!1;do for(t=i[n]+"",e=l(this,t);-1!==e;)this.splice(e,1),r=!0,e=l(this,t);while(++n<o);r&&this._updateClassName()},h.toggle=function(t,e){t+="";var i=this.contains(t),n=i?e!==!0&&"remove":e!==!1&&"add";return n&&this[n](t),e===!0||e===!1?e:!i},h.toString=function(){return this.join(" ")},o.defineProperty){var p={get:c,enumerable:!0,configurable:!0};try{o.defineProperty(n,e,p)}catch(d){-2146823252===d.number&&(p.enumerable=!1,o.defineProperty(n,e,p))}}else o[i].__defineGetter__&&n.__defineGetter__(e,c)}}(window.self))},{}],44:[function(t,e){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function o(t){return"number"==typeof t}function r(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if(!o(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,i,o,a,l,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var h=new Error('Uncaught, unspecified "error" event. ('+e+")");throw h.context=e,h}if(i=this._events[t],s(i))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),i.apply(this,a)}else if(r(i))for(a=Array.prototype.slice.call(arguments,1),u=i.slice(),o=u.length,l=0;o>l;l++)u[l].apply(this,a);return!0},i.prototype.addListener=function(t,e){var o;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?r(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,r(this._events[t])&&!this._events[t].warned&&(o=s(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,o&&o>0&&this._events[t].length>o&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){function i(){this.removeListener(t,i),o||(o=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var o=!1;return i.listener=e,this.on(t,i),this},i.prototype.removeListener=function(t,e){var i,o,s,a;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(i=this._events[t],s=i.length,o=-1,i===e||n(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(r(i)){for(a=s;a-->0;)if(i[a]===e||i[a].listener&&i[a].listener===e){o=a;break}if(0>o)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[t],n(i))this.removeListener(t,i);else if(i)for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},i.listenerCount=function(t,e){return t.listenerCount(e)}},{}],45:[function(t,e){"use strict";var i=t("obj-type");e.exports=function(t,e){if(-1===i(t).indexOf("element"))throw new TypeError("Expected an HTML DOM element as first argument");if("string"!=typeof e)throw new TypeError("Expected a string as second argument");return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}},{"obj-type":46}],46:[function(t,e){"use strict";e.exports=function(t){return Object.prototype.toString.call(t).replace(/^\[object (.+)\]$/,"$1").toLowerCase()}},{}],47:[function(t,e){function i(t){for(var e=[],i={},n=0;n<t.length;n++)void 0==i[L.stamp(t[n].layer)]&&(e.push(t[n]),i[L.stamp(t[n].layer)]=!0);return e}function n(t,e){for(var i=[],n=0;n<t.length;n++)i.push({lon:t[n][0],lat:t[n][1],layer:e});return i}function o(t){var e=0,i=0,n=0,o=[];if("object"==typeof t[0]&&"object"==typeof t[0][0]&&"object"==typeof t[0][0][0]){for(;e<t.length;e++)for(;i<t[e].length;i++)for(;n<t[e][i].length;n++)o.push(t[e][i][n]);return o}if("object"==typeof t[0]&&"object"==typeof t[0][0]){for(;e<t.length;e++)for(;i<t[e].length;i++)o.push(t[e][i]);return o}return"object"==typeof t[0]?t:[t]}var r=t("sphere-knn");e.exports=function(t){"use strict";function e(t){s=s.concat(n(o(t.feature.geometry.coordinates),t))}if(!(t instanceof L.GeoJSON))throw new Error("must be L.GeoJSON");var s=[];t.eachLayer(e);var a=r(s);return a.nearest=function(t,e,i){return t instanceof L.LatLng&&(t=[t.lng,t.lat]),a(t[1],t[0],e,i)},a.nearestLayer=function(t,e,n){return t instanceof L.LatLng&&(t=[t.lng,t.lat]),i(a(t[1],t[0],e,n))},a}},{"sphere-knn":48}],48:[function(t,e){var i=t("./lib/spherekd");e.exports=function(t){var e=i.build(t);return function(t,n,o,r){return i.lookup(t,n,e,o,r)}}},{"./lib/spherekd":51}],49:[function(t,e,i){function n(t,e){return t-e}i.search=function(t,e,i){i||(i=n);for(var o,r,s=0,a=e.length-1;a>=s;)if(o=s+a>>>1,r=i(e[o],t),0>r)s=o+1;else{if(!(r>0))return o;a=o-1}return-(s+1)},i.insert=function(t,e,n){var o=i.search(t,e,n);0>o&&(o=-(o+1)),e.splice(o,0,t)}},{}],50:[function(t,e,i){function n(t,e,i,n){this.axis=t,this.split=e,this.left=i,this.right=n}function o(t,e){for(var i,n=Math.min(t.length,e.length),o=0;n--;)i=e[n]-t[n],o+=i*i;return o}function r(t,e){return t.dist-e.dist}function s(t,e){if(0===t.length)return null;if(1===t.length)return t[0];var i=e%t[0].position.length;t.sort(function(t,e){return t.position[i]-e.position[i]});var o=Math.floor(.5*t.length);return++e,new n(i,t[o].position[i],s(t.slice(0,o),e),s(t.slice(o),e))}function a(t){return s(t,0)}function l(t,e,i,s){s>0||(s=Number.POSITIVE_INFINITY);var a=[];if(null===e||0>=i)return a;for(var l,h,c=[e,0];c.length;)if(l=c.pop(),e=c.pop(),!(l>s||a.length===i&&a[a.length-1].dist<l*l)){for(;e instanceof n;)t[e.axis]<e.split?(c.push(e.right,e.split-t[e.axis]),e=e.left):(c.push(e.left,t[e.axis]-e.split),e=e.right);l=o(t,e.position),s*s>=l&&u.insert({object:e,dist:l},a,r),a.length>i&&a.pop()}for(h=a.length;h--;)a[h]=a[h].object;return a}var u=t("./binary");i.build=a,i.lookup=l},{"./binary":49}],51:[function(t,e,i){function n(t,e){t*=l,e*=l;var i=Math.cos(t);return[i*Math.cos(e),Math.sin(t),i*Math.sin(e)]}function o(t){var e,i;t.hasOwnProperty("lat")?e=t.lat:t.hasOwnProperty("latitude")?e=t.latitude:t.hasOwnProperty("location")&&Array.isArray(t.location)&&2===t.location.length&&(e=t.location[0]),t.hasOwnProperty("lon")?i=t.lon:t.hasOwnProperty("longitude")?i=t.longitude:t.hasOwnProperty("lng")?i=t.lng:t.hasOwnProperty("long")?i=t["long"]:t.hasOwnProperty("location")&&Array.isArray(t.location)&&2===t.location.length&&(i=t.location[1]),this.object=t,this.position=n(e,i)}function r(t){for(var e=t.length,i=new Array(e);e--;)i[e]=new o(t[e]);return a.build(i)}function s(t,e,i,o,r){for(var s=a.lookup(n(t,e),i,o,r>0?2*Math.sin(r*u):void 0),l=s.length;l--;)s[l]=s[l].object;return s}var a=t("./kd"),l=Math.PI/180,u=1/12742018;i.build=r,i.lookup=s},{"./kd":50}],52:[function(t,e){!function(i,n){"function"==typeof define&&define.amd?define(["leaflet"],n):"object"==typeof modules&&e.exports?e.exports=n(t("leaflet")):n(L)}(this,function(t){"use strict";return t.TileLayer.Provider=t.TileLayer.extend({initialize:function(e,i){var n=t.TileLayer.Provider.providers,o=e.split("."),r=o[0],s=o[1];if(!n[r])throw"No such provider ("+r+")";var a={url:n[r].url,options:n[r].options};if(s&&"variants"in n[r]){if(!(s in n[r].variants))throw"No such variant of "+r+" ("+s+")";var l,u=n[r].variants[s];l="string"==typeof u?{variant:u}:u.options,a={url:u.url||a.url,options:t.Util.extend({},a.options,l)}}var h="file:"===window.location.protocol||a.options.forceHTTP;0===a.url.indexOf("//")&&h&&(a.url="http:"+a.url),a.options.retina&&(i.detectRetina&&t.Browser.retina?i.detectRetina=!1:a.options.retina="");var c=function(t){return-1===t.indexOf("{attribution.")?t:t.replace(/\{attribution.(\w*)\}/,function(t,e){return c(n[e].options.attribution)})};a.options.attribution=c(a.options.attribution);var p=t.Util.extend({},a.options,i);t.TileLayer.prototype.initialize.call(this,a.url,p)}}),t.TileLayer.Provider.providers={OpenStreetMap:{url:"//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'},variants:{Mapnik:{},BlackAndWhite:{url:"http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png",options:{maxZoom:18}},DE:{url:"http://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png",options:{maxZoom:18}},France:{url:"//{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",options:{attribution:"&copy; Openstreetmap France | {attribution.OpenStreetMap}"}},HOT:{url:"//{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",options:{attribution:'{attribution.OpenStreetMap}, Tiles courtesy of <a href="http://hot.openstreetmap.org/" target="_blank">Humanitarian OpenStreetMap Team</a>'}}}},OpenSeaMap:{url:"http://tiles.openseamap.org/seamark/{z}/{x}/{y}.png",options:{attribution:'Map data: &copy; <a href="http://www.openseamap.org">OpenSeaMap</a> contributors'}},OpenTopoMap:{url:"//{s}.tile.opentopomap.org/{z}/{x}/{y}.png",options:{maxZoom:17,attribution:'Map data: {attribution.OpenStreetMap}, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},Thunderforest:{url:"//{s}.tile.thunderforest.com/{variant}/{z}/{x}/{y}.png",options:{attribution:'&copy; <a href="http://www.thunderforest.com/">Thunderforest</a>, {attribution.OpenStreetMap}',variant:"cycle"},variants:{OpenCycleMap:"cycle",Transport:{options:{variant:"transport",maxZoom:19}},TransportDark:{options:{variant:"transport-dark",maxZoom:19}},SpinalMap:{options:{variant:"spinal-map",maxZoom:11}},Landscape:"landscape",Outdoors:"outdoors",Pioneer:"pioneer"}},OpenMapSurfer:{url:"http://korona.geog.uni-heidelberg.de/tiles/{variant}/x={x}&y={y}&z={z}",options:{maxZoom:20,variant:"roads",attribution:'Imagery from <a href="http://giscience.uni-hd.de/">GIScience Research Group @ University of Heidelberg</a> &mdash; Map data {attribution.OpenStreetMap}'},variants:{Roads:"roads",AdminBounds:{options:{variant:"adminb",maxZoom:19}},Grayscale:{options:{variant:"roadsg",maxZoom:19}}}},Hydda:{url:"//{s}.tile.openstreetmap.se/hydda/{variant}/{z}/{x}/{y}.png",options:{variant:"full",attribution:'Tiles courtesy of <a href="http://openstreetmap.se/" target="_blank">OpenStreetMap Sweden</a> &mdash; Map data {attribution.OpenStreetMap}'},variants:{Full:"full",Base:"base",RoadsAndLabels:"roads_and_labels"}},MapBox:{url:"//api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}",options:{attribution:'Imagery from <a href="http://mapbox.com/about/maps/">MapBox</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:"abcd"}},Stamen:{url:"//stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}",options:{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:"abcd",minZoom:0,maxZoom:20,variant:"toner",ext:"png"},variants:{Toner:"toner",TonerBackground:"toner-background",TonerHybrid:"toner-hybrid",TonerLines:"toner-lines",TonerLabels:"toner-labels",TonerLite:"toner-lite",Watercolor:{options:{variant:"watercolor",minZoom:1,maxZoom:16}},Terrain:{options:{variant:"terrain",minZoom:4,maxZoom:18,bounds:[[22,-132],[70,-56]]}},TerrainBackground:{options:{variant:"terrain-background",minZoom:4,maxZoom:18,bounds:[[22,-132],[70,-56]]}},TopOSMRelief:{options:{variant:"toposm-color-relief",ext:"jpg",bounds:[[22,-132],[51,-56]]}},TopOSMFeatures:{options:{variant:"toposm-features",bounds:[[22,-132],[51,-56]],opacity:.9}}}},Esri:{url:"//server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}",options:{variant:"World_Street_Map",attribution:"Tiles &copy; Esri"},variants:{WorldStreetMap:{options:{attribution:"{attribution.Esri} &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"}},DeLorme:{options:{variant:"Specialty/DeLorme_World_Base_Map",minZoom:1,maxZoom:11,attribution:"{attribution.Esri} &mdash; Copyright: &copy;2012 DeLorme"}},WorldTopoMap:{options:{variant:"World_Topo_Map",attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"}},WorldImagery:{options:{variant:"World_Imagery",attribution:"{attribution.Esri} &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}},WorldTerrain:{options:{variant:"World_Terrain_Base",maxZoom:13,attribution:"{attribution.Esri} &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS"}},WorldShadedRelief:{options:{variant:"World_Shaded_Relief",maxZoom:13,attribution:"{attribution.Esri} &mdash; Source: Esri"}},WorldPhysical:{options:{variant:"World_Physical_Map",maxZoom:8,attribution:"{attribution.Esri} &mdash; Source: US National Park Service"}},OceanBasemap:{options:{variant:"Ocean_Basemap",maxZoom:13,attribution:"{attribution.Esri} &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri"}},NatGeoWorldMap:{options:{variant:"NatGeo_World_Map",maxZoom:16,attribution:"{attribution.Esri} &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC"}},WorldGrayCanvas:{options:{variant:"Canvas/World_Light_Gray_Base",maxZoom:16,attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ"}}}},OpenWeatherMap:{url:"http://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'Map data &copy; <a href="http://openweathermap.org">OpenWeatherMap</a>',opacity:.5},variants:{Clouds:"clouds",CloudsClassic:"clouds_cls",Precipitation:"precipitation",PrecipitationClassic:"precipitation_cls",Rain:"rain",RainClassic:"rain_cls",Pressure:"pressure",PressureContour:"pressure_cntr",Wind:"wind",Temperature:"temp",Snow:"snow"}},HERE:{url:"//{s}.{base}.maps.cit.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}",options:{attribution:'Map &copy; 1987-2014 <a href="http://developer.here.com">HERE</a>',subdomains:"1234",mapID:"newest",app_id:"<insert your app_id here>",app_code:"<insert your app_code here>",base:"base",variant:"normal.day",maxZoom:20,type:"maptile",language:"eng",format:"png8",size:"256"},variants:{normalDay:"normal.day",normalDayCustom:"normal.day.custom",normalDayGrey:"normal.day.grey",normalDayMobile:"normal.day.mobile",normalDayGreyMobile:"normal.day.grey.mobile",normalDayTransit:"normal.day.transit",normalDayTransitMobile:"normal.day.transit.mobile",normalNight:"normal.night",normalNightMobile:"normal.night.mobile",normalNightGrey:"normal.night.grey",normalNightGreyMobile:"normal.night.grey.mobile",basicMap:{options:{type:"basetile"}},mapLabels:{options:{type:"labeltile",format:"png"}},trafficFlow:{options:{base:"traffic",type:"flowtile"}},carnavDayGrey:"carnav.day.grey",hybridDay:{options:{base:"aerial",variant:"hybrid.day"}},hybridDayMobile:{options:{base:"aerial",variant:"hybrid.day.mobile"}},pedestrianDay:"pedestrian.day",pedestrianNight:"pedestrian.night",satelliteDay:{options:{base:"aerial",variant:"satellite.day"}},terrainDay:{options:{base:"aerial",variant:"terrain.day"}},terrainDayMobile:{options:{base:"aerial",variant:"terrain.day.mobile"}}}},FreeMapSK:{url:"http://t{s}.freemap.sk/T/{z}/{x}/{y}.jpeg",options:{minZoom:8,maxZoom:16,subdomains:"1234",bounds:[[47.204642,15.996093],[49.830896,22.576904]],attribution:'{attribution.OpenStreetMap}, vizualization CC-By-SA 2.0 <a href="http://freemap.sk">Freemap.sk</a>'}},MtbMap:{url:"http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png",options:{attribution:"{attribution.OpenStreetMap} &amp; USGS"}},CartoDB:{url:"http://{s}.basemaps.cartocdn.com/{variant}/{z}/{x}/{y}.png",options:{attribution:'{attribution.OpenStreetMap} &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',subdomains:"abcd",maxZoom:19,variant:"light_all"},variants:{Positron:"light_all",PositronNoLabels:"light_nolabels",PositronOnlyLabels:"light_only_labels",DarkMatter:"dark_all",DarkMatterNoLabels:"dark_nolabels",DarkMatterOnlyLabels:"dark_only_labels"}},HikeBike:{url:"http://{s}.tiles.wmflabs.org/{variant}/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:"{attribution.OpenStreetMap}",variant:"hikebike"},variants:{HikeBike:{},HillShading:{options:{maxZoom:15,variant:"hillshading"}}}},BasemapAT:{url:"//maps{s}.wien.gv.at/basemap/{variant}/normal/google3857/{z}/{y}/{x}.{format}",options:{maxZoom:19,attribution:'Datenquelle: <a href="www.basemap.at">basemap.at</a>',subdomains:["","1","2","3","4"],format:"png",bounds:[[46.35877,8.782379],[49.037872,17.189532]],variant:"geolandbasemap"},variants:{basemap:"geolandbasemap",grau:"bmapgrau",overlay:"bmapoverlay",highdpi:{options:{variant:"bmaphidpi",format:"jpeg"}},orthofoto:{options:{variant:"bmaporthofoto30cm",format:"jpeg"}}}},NASAGIBS:{url:"//map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}{maxZoom}/{z}/{y}/{x}.{format}",options:{attribution:'Imagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (<a href="https://earthdata.nasa.gov">ESDIS</a>) with funding provided by NASA/HQ.',bounds:[[-85.0511287776,-179.999999975],[85.0511287776,179.999999975]],minZoom:1,maxZoom:9,format:"jpg",time:"",tilematrixset:"GoogleMapsCompatible_Level"},variants:{ModisTerraTrueColorCR:"MODIS_Terra_CorrectedReflectance_TrueColor",ModisTerraBands367CR:"MODIS_Terra_CorrectedReflectance_Bands367",ViirsEarthAtNight2012:{options:{variant:"VIIRS_CityLights_2012",maxZoom:8}},ModisTerraLSTDay:{options:{variant:"MODIS_Terra_Land_Surface_Temp_Day",format:"png",maxZoom:7,opacity:.75}},ModisTerraSnowCover:{options:{variant:"MODIS_Terra_Snow_Cover",format:"png",maxZoom:8,opacity:.75}},ModisTerraAOD:{options:{variant:"MODIS_Terra_Aerosol",format:"png",maxZoom:6,opacity:.75}},ModisTerraChlorophyll:{options:{variant:"MODIS_Terra_Chlorophyll_A",format:"png",maxZoom:7,opacity:.75}}}},NLS:{url:"//nls-{s}.tileserver.com/nls/{z}/{x}/{y}.jpg",options:{attribution:'<a href="http://geo.nls.uk/maps/">National Library of Scotland Historic Maps</a>',bounds:[[49.6,-12],[61.7,3]],minZoom:1,maxZoom:18,subdomains:"0123"}}},t.tileLayer.provider=function(e,i){return new t.TileLayer.Provider(e,i)},t})},{leaflet:54}],53:[function(){!function(t,e,i){L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,
chunkProgress:null,polygonOptions:{}},initialize:function(t){L.Util.setOptions(this,t),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[];var e=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,e?this._withAnimation:this._noAnimation),this._markerCluster=e?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(t){if(t instanceof L.LayerGroup){var e=[];for(var i in t._layers)e.push(t._layers[i]);return this.addLayers(e)}if(!t.getLatLng)return this._nonPointGroup.addLayer(t),this;if(!this._map)return this._needsClustering.push(t),this;if(this.hasLayer(t))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(t,this._maxZoom),this._topClusterLevel._recalculateBounds();var n=t,o=this._map.getZoom();if(t.__parent)for(;n.__parent._zoom>=o;)n=n.__parent;return this._currentShownBounds.contains(n.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(t,n):this._animationAddLayerNonAnimated(t,n)),this},removeLayer:function(t){if(t instanceof L.LayerGroup){var e=[];for(var i in t._layers)e.push(t._layers[i]);return this.removeLayers(e)}return t.getLatLng?this._map?t.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(t)),this._removeLayer(t,!0),this._topClusterLevel._recalculateBounds(),t.off("move",this._childMarkerMoved,this),this._featureGroup.hasLayer(t)&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,t)&&this.hasLayer(t)&&this._needsRemoving.push(t),this):(this._nonPointGroup.removeLayer(t),this)},addLayers:function(t){var e,i,n,o,r=this._featureGroup,s=this._nonPointGroup,a=this.options.chunkedLoading,l=this.options.chunkInterval,u=this.options.chunkProgress;if(this._map){var h=0,c=(new Date).getTime(),p=L.bind(function(){for(var e=(new Date).getTime();h<t.length;h++){if(a&&0===h%200){var i=(new Date).getTime()-e;if(i>l)break}if(o=t[h],o.getLatLng){if(!this.hasLayer(o)&&(this._addLayer(o,this._maxZoom),o.__parent&&2===o.__parent.getChildCount())){var n=o.__parent.getAllChildMarkers(),d=n[0]===o?n[1]:n[0];r.removeLayer(d)}}else s.addLayer(o)}u&&u(h,t.length,(new Date).getTime()-c),h===t.length?(this._topClusterLevel._recalculateBounds(),this._featureGroup.eachLayer(function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()}),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(p,this.options.chunkDelay)},this);p()}else{for(e=[],i=0,n=t.length;n>i;i++)o=t[i],o.getLatLng?this.hasLayer(o)||e.push(o):s.addLayer(o);this._needsClustering=this._needsClustering.concat(e)}return this},removeLayers:function(t){var e,i,n,o=this._featureGroup,r=this._nonPointGroup;if(!this._map){for(e=0,i=t.length;i>e;e++)n=t[e],this._arraySplice(this._needsClustering,n),r.removeLayer(n),this.hasLayer(n)&&this._needsRemoving.push(n);return this}if(this._unspiderfy)for(this._unspiderfy(),e=0,i=t.length;i>e;e++)n=t[e],this._unspiderfyLayer(n);for(e=0,i=t.length;i>e;e++)n=t[e],n.__parent?(this._removeLayer(n,!0,!0),o.hasLayer(n)&&(o.removeLayer(n),n.clusterShow&&n.clusterShow())):r.removeLayer(n);return this._topClusterLevel._recalculateBounds(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),o.eachLayer(function(t){t instanceof L.MarkerCluster&&t._updateIcon()}),this},clearLayers:function(){return this._map||(this._needsClustering=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(t){t.off("move",this._childMarkerMoved,this),delete t.__parent}),this._map&&this._generateInitialClusters(),this},getBounds:function(){var t=new L.LatLngBounds;this._topClusterLevel&&t.extend(this._topClusterLevel._bounds);for(var e=this._needsClustering.length-1;e>=0;e--)t.extend(this._needsClustering[e].getLatLng());return t.extend(this._nonPointGroup.getBounds()),t},eachLayer:function(t,e){var i,n=this._needsClustering.slice(),o=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(n),i=n.length-1;i>=0;i--)-1===o.indexOf(n[i])&&t.call(e,n[i]);this._nonPointGroup.eachLayer(t,e)},getLayers:function(){var t=[];return this.eachLayer(function(e){t.push(e)}),t},getLayer:function(t){var e=null;return t=parseInt(t,10),this.eachLayer(function(i){L.stamp(i)===t&&(e=i)}),e},hasLayer:function(t){if(!t)return!1;var e,i=this._needsClustering;for(e=i.length-1;e>=0;e--)if(i[e]===t)return!0;for(i=this._needsRemoving,e=i.length-1;e>=0;e--)if(i[e]===t)return!1;return!(!t.__parent||t.__parent._group!==this)||this._nonPointGroup.hasLayer(t)},zoomToShowLayer:function(t,e){"function"!=typeof e&&(e=function(){});var i=function(){!t._icon&&!t.__parent._icon||this._inZoomAnimation||(this._map.off("moveend",i,this),this.off("animationend",i,this),t._icon?e():t.__parent._icon&&(this.once("spiderfied",e,this),t.__parent.spiderfy()))};if(t._icon&&this._map.getBounds().contains(t.getLatLng()))e();else if(t.__parent._zoom<this._map.getZoom())this._map.on("moveend",i,this),this._map.panTo(t.getLatLng());else{var n=function(){this._map.off("movestart",n,this),n=null};this._map.on("movestart",n,this),this._map.on("moveend",i,this),this.on("animationend",i,this),t.__parent.zoomToBounds(),n&&i.call(this)}},onAdd:function(t){this._map=t;var e,i,n;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(t),this._nonPointGroup.addTo(t),this._gridClusters||this._generateInitialClusters(),this._maxLat=t.options.crs.projection.MAX_LATITUDE,e=0,i=this._needsRemoving.length;i>e;e++)n=this._needsRemoving[e],this._removeLayer(n,!0);this._needsRemoving=[],this._zoom=this._map.getZoom(),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),i=this._needsClustering,this._needsClustering=[],this.addLayers(i)},onRemove:function(t){t.off("zoomend",this._zoomEnd,this),t.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(t){for(var e=t;e&&!e._icon;)e=e.__parent;return e||null},_arraySplice:function(t,e){for(var i=t.length-1;i>=0;i--)if(t[i]===e)return t.splice(i,1),!0},_removeFromGridUnclustered:function(t,e){for(var i=this._map,n=this._gridUnclustered;e>=0&&n[e].removeObject(t,i.project(t.getLatLng(),e));e--);},_childMarkerMoved:function(t){this._ignoreMove||(t.target._latlng=t.oldLatLng,this.removeLayer(t.target),t.target._latlng=t.latlng,this.addLayer(t.target))},_removeLayer:function(t,e,i){var n=this._gridClusters,o=this._gridUnclustered,r=this._featureGroup,s=this._map;e&&this._removeFromGridUnclustered(t,this._maxZoom);var a,l=t.__parent,u=l._markers;for(this._arraySplice(u,t);l&&(l._childCount--,l._boundsNeedUpdate=!0,!(l._zoom<0));)e&&l._childCount<=1?(a=l._markers[0]===t?l._markers[1]:l._markers[0],n[l._zoom].removeObject(l,s.project(l._cLatLng,l._zoom)),o[l._zoom].addObject(a,s.project(a.getLatLng(),l._zoom)),this._arraySplice(l.__parent._childClusters,l),l.__parent._markers.push(a),a.__parent=l.__parent,l._icon&&(r.removeLayer(l),i||r.addLayer(a))):i&&l._icon||l._updateIcon(),l=l.__parent;delete t.__parent},_isOrIsParent:function(t,e){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},fire:function(t,e,i){if(e&&e.layer instanceof L.MarkerCluster){if(e.originalEvent&&this._isOrIsParent(e.layer._icon,e.originalEvent.relatedTarget))return;t="cluster"+t}L.FeatureGroup.prototype.fire.call(this,t,e,i)},listens:function(t,e){return L.FeatureGroup.prototype.listens.call(this,t,e)||L.FeatureGroup.prototype.listens.call(this,"cluster"+t,e)},_defaultIconCreateFunction:function(t){var e=t.getChildCount(),i=" marker-cluster-";return i+=10>e?"small":100>e?"medium":"large",new L.DivIcon({html:"<div><span>"+e+"</span></div>",className:"marker-cluster"+i,iconSize:new L.Point(40,40)})},_bindEvents:function(){var t=this._map,e=this.options.spiderfyOnMaxZoom,i=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick;(e||n)&&this.on("clusterclick",this._zoomOrSpiderfy,this),i&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),t.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){for(var e=t.layer,i=e;1===i._childClusters.length;)i=i._childClusters[0];i._zoom===this._maxZoom&&i._childCount===e._childCount?this.options.spiderfyOnMaxZoom&&e.spiderfy():this.options.zoomToBoundsOnClick&&e.zoomToBounds(),t.originalEvent&&13===t.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(t){var e=this._map;this._inZoomAnimation||(this._shownPolygon&&e.removeLayer(this._shownPolygon),t.layer.getChildCount()>2&&t.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(t.layer.getConvexHull(),this.options.polygonOptions),e.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.spiderfyOnMaxZoom,e=this.options.showCoverageOnHover,i=this.options.zoomToBoundsOnClick,n=this._map;(t||i)&&this.off("clusterclick",this._zoomOrSpiderfy,this),e&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),n.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var t=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),t),this._currentShownBounds=t}},_generateInitialClusters:function(){var t=this._map.getMaxZoom(),e=this.options.maxClusterRadius,i=e;"function"!=typeof e&&(i=function(){return e}),this.options.disableClusteringAtZoom&&(t=this.options.disableClusteringAtZoom-1),this._maxZoom=t,this._gridClusters={},this._gridUnclustered={};for(var n=t;n>=0;n--)this._gridClusters[n]=new L.DistanceGrid(i(n)),this._gridUnclustered[n]=new L.DistanceGrid(i(n));this._topClusterLevel=new this._markerCluster(this,-1)},_addLayer:function(t,e){var i,n,o=this._gridClusters,r=this._gridUnclustered;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(t),t.on("move",this._childMarkerMoved,this);e>=0;e--){i=this._map.project(t.getLatLng(),e);var s=o[e].getNearObject(i);if(s)return s._addChild(t),void(t.__parent=s);if(s=r[e].getNearObject(i)){var a=s.__parent;a&&this._removeLayer(s,!1);var l=new this._markerCluster(this,e,s,t);o[e].addObject(l,this._map.project(l._cLatLng,e)),s.__parent=l,t.__parent=l;var u=l;for(n=e-1;n>a._zoom;n--)u=new this._markerCluster(this,n,u),o[n].addObject(u,this._map.project(s.getLatLng(),n));return a._addChild(u),void this._removeFromGridUnclustered(s,e)}r[e].addObject(t,i)}this._topClusterLevel._addChild(t),t.__parent=this._topClusterLevel},_enqueue:function(t){this._queue.push(t),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var t=Math.round(this._map._zoom);this._processQueue(),this._zoom<t&&this._currentShownBounds.contains(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,t)):this._zoom>t?(this._animationStart(),this._animationZoomOut(this._zoom,t)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?this._checkBoundsMaxLat(L.Browser.mobile?this._map.getBounds():this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(t){var e=this._maxLat;return e!==i&&(t.getNorth()>=e&&(t._northEast.lat=1/0),t.getSouth()<=-e&&(t._southWest.lat=-1/0)),t},_animationAddLayerNonAnimated:function(t,e){if(e===t)this._featureGroup.addLayer(t);else if(2===e._childCount){e._addToMap();var i=e.getAllChildMarkers();this._featureGroup.removeLayer(i[0]),this._featureGroup.removeLayer(i[1])}else e._updateIcon()},_overrideMarkerIcon:function(t){var e=t.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[t]}});return e}}),L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(t,e){this._animationAddLayerNonAnimated(t,e)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(t,e){var i,n=this._getExpandedVisibleBounds(),o=this._featureGroup;this._ignoreMove=!0,this._topClusterLevel._recursively(n,t,0,function(r){var s,a=r._latlng,l=r._markers;for(n.contains(a)||(a=null),r._isSingleParent()&&t+1===e?(o.removeLayer(r),r._recursivelyAddChildrenToMap(null,e,n)):(r.clusterHide(),r._recursivelyAddChildrenToMap(a,e,n)),i=l.length-1;i>=0;i--)s=l[i],n.contains(s._latlng)||o.removeLayer(s)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(n,e),o.eachLayer(function(t){t instanceof L.MarkerCluster||!t._icon||t.clusterShow()}),this._topClusterLevel._recursively(n,t,e,function(t){t._recursivelyRestoreChildPositions(e)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(n,t,0,function(t){o.removeLayer(t),t.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(t,e){this._animationZoomOutSingle(this._topClusterLevel,t-1,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t,this._getExpandedVisibleBounds())},_animationAddLayer:function(t,e){var i=this,n=this._featureGroup;n.addLayer(t),e!==t&&(e._childCount>2?(e._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(e.getLatLng())),t.clusterHide(),this._enqueue(function(){n.removeLayer(t),t.clusterShow(),i._animationEnd()})):(this._forceLayout(),i._animationStart(),i._animationZoomOutSingle(e,this._map.getMaxZoom(),this._map.getZoom())))}},_animationZoomOutSingle:function(t,e,i){var n=this._getExpandedVisibleBounds();t._recursivelyAnimateChildrenInAndAddSelfToMap(n,e+1,i);var o=this;this._forceLayout(),t._recursivelyBecomeVisible(n,i),this._enqueue(function(){if(1===t._childCount){var r=t._markers[0];this._ignoreMove=!0,r.setLatLng(r.getLatLng()),this._ignoreMove=!1,r.clusterShow&&r.clusterShow()}else t._recursively(n,i,0,function(t){t._recursivelyRemoveChildrenFromMap(n,e+1)});o._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(e.body.offsetWidth)}}),L.markerClusterGroup=function(t){return new L.MarkerClusterGroup(t)},L.MarkerCluster=L.Marker.extend({initialize:function(t,e,i,n){L.Marker.prototype.initialize.call(this,i?i._cLatLng||i.getLatLng():new L.LatLng(0,0),{icon:this}),this._group=t,this._zoom=e,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,i&&this._addChild(i),n&&this._addChild(n)},getAllChildMarkers:function(t){t=t||[];for(var e=this._childClusters.length-1;e>=0;e--)this._childClusters[e].getAllChildMarkers(t);for(var i=this._markers.length-1;i>=0;i--)t.push(this._markers[i]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(){for(var t,e=this._childClusters.slice(),i=this._group._map,n=i.getBoundsZoom(this._bounds),o=this._zoom+1,r=i.getZoom();e.length>0&&n>o;){o++;var s=[];for(t=0;t<e.length;t++)s=s.concat(e[t]._childClusters);e=s}n>o?this._group._map.setView(this._latlng,o):r>=n?this._group._map.setView(this._latlng,r+1):this._group._map.fitBounds(this._bounds)},getBounds:function(){var t=new L.LatLngBounds;return t.extend(this._bounds),t},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(t,e){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(t),t instanceof L.MarkerCluster?(e||(this._childClusters.push(t),t.__parent=this),this._childCount+=t._childCount):(e||this._markers.push(t),this._childCount++),this.__parent&&this.__parent._addChild(t,!0)},_setClusterCenter:function(t){this._cLatLng||(this._cLatLng=t._cLatLng||t._latlng)},_resetBounds:function(){var t=this._bounds;t._southWest&&(t._southWest.lat=1/0,t._southWest.lng=1/0),t._northEast&&(t._northEast.lat=-1/0,t._northEast.lng=-1/0)},_recalculateBounds:function(){var t,e,i,n,o=this._markers,r=this._childClusters,s=0,a=0,l=this._childCount;if(0!==l){for(this._resetBounds(),t=0;t<o.length;t++)i=o[t]._latlng,this._bounds.extend(i),s+=i.lat,a+=i.lng;for(t=0;t<r.length;t++)e=r[t],e._boundsNeedUpdate&&e._recalculateBounds(),this._bounds.extend(e._bounds),i=e._wLatLng,n=e._childCount,s+=i.lat*n,a+=i.lng*n;this._latlng=this._wLatLng=new L.LatLng(s/l,a/l),this._boundsNeedUpdate=!1}},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(t,e,i){this._recursively(t,0,i-1,function(t){var i,n,o=t._markers;for(i=o.length-1;i>=0;i--)n=o[i],n._icon&&(n._setPos(e),n.clusterHide())},function(t){var i,n,o=t._childClusters;for(i=o.length-1;i>=0;i--)n=o[i],n._icon&&(n._setPos(e),n.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(t,e,i){this._recursively(t,i,0,function(n){n._recursivelyAnimateChildrenIn(t,n._group._map.latLngToLayerPoint(n.getLatLng()).round(),e),n._isSingleParent()&&e-1===i?(n.clusterShow(),n._recursivelyRemoveChildrenFromMap(t,e)):n.clusterHide(),n._addToMap()})},_recursivelyBecomeVisible:function(t,e){this._recursively(t,0,e,null,function(t){t.clusterShow()})},_recursivelyAddChildrenToMap:function(t,e,i){this._recursively(i,-1,e,function(n){if(e!==n._zoom)for(var o=n._markers.length-1;o>=0;o--){var r=n._markers[o];i.contains(r._latlng)&&(t&&(r._backupLatlng=r.getLatLng(),r.setLatLng(t),r.clusterHide&&r.clusterHide()),n._group._featureGroup.addLayer(r))}},function(e){e._addToMap(t)})},_recursivelyRestoreChildPositions:function(t){for(var e=this._markers.length-1;e>=0;e--){var i=this._markers[e];i._backupLatlng&&(i.setLatLng(i._backupLatlng),delete i._backupLatlng)}if(t-1===this._zoom)for(var n=this._childClusters.length-1;n>=0;n--)this._childClusters[n]._restorePosition();else for(var o=this._childClusters.length-1;o>=0;o--)this._childClusters[o]._recursivelyRestoreChildPositions(t)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(t,e,i){var n,o;this._recursively(t,-1,e-1,function(t){for(o=t._markers.length-1;o>=0;o--)n=t._markers[o],i&&i.contains(n._latlng)||(t._group._featureGroup.removeLayer(n),n.clusterShow&&n.clusterShow())},function(t){for(o=t._childClusters.length-1;o>=0;o--)n=t._childClusters[o],i&&i.contains(n._latlng)||(t._group._featureGroup.removeLayer(n),n.clusterShow&&n.clusterShow())})},_recursively:function(t,e,i,n,o){var r,s,a=this._childClusters,l=this._zoom;if(e>l)for(r=a.length-1;r>=0;r--)s=a[r],t.intersects(s._bounds)&&s._recursively(t,e,i,n,o);else if(n&&n(this),o&&this._zoom===i&&o(this),i>l)for(r=a.length-1;r>=0;r--)s=a[r],t.intersects(s._bounds)&&s._recursively(t,e,i,n,o)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}}),L.Marker.include({clusterHide:function(){return this.options.opacityWhenUnclustered=this.options.opacity||1,this.setOpacity(0)},clusterShow:function(){var t=this.setOpacity(this.options.opacity||this.options.opacityWhenUnclustered);return delete this.options.opacityWhenUnclustered,t}}),L.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(t,e){var i=this._getCoord(e.x),n=this._getCoord(e.y),o=this._grid,r=o[n]=o[n]||{},s=r[i]=r[i]||[],a=L.Util.stamp(t);this._objectPoint[a]=e,s.push(t)},updateObject:function(t,e){this.removeObject(t),this.addObject(t,e)},removeObject:function(t,e){var i,n,o=this._getCoord(e.x),r=this._getCoord(e.y),s=this._grid,a=s[r]=s[r]||{},l=a[o]=a[o]||[];for(delete this._objectPoint[L.Util.stamp(t)],i=0,n=l.length;n>i;i++)if(l[i]===t)return l.splice(i,1),1===n&&delete a[o],!0},eachObject:function(t,e){var i,n,o,r,s,a,l,u=this._grid;for(i in u){s=u[i];for(n in s)for(a=s[n],o=0,r=a.length;r>o;o++)l=t.call(e,a[o]),l&&(o--,r--)}},getNearObject:function(t){var e,i,n,o,r,s,a,l,u=this._getCoord(t.x),h=this._getCoord(t.y),c=this._objectPoint,p=this._sqCellSize,d=null;for(e=h-1;h+1>=e;e++)if(o=this._grid[e])for(i=u-1;u+1>=i;i++)if(r=o[i])for(n=0,s=r.length;s>n;n++)a=r[n],l=this._sqDist(c[L.Util.stamp(a)],t),p>l&&(p=l,d=a);return d},_getCoord:function(t){return Math.floor(t/this._cellSize)},_sqDist:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n}},function(){L.QuickHull={getDistant:function(t,e){var i=e[1].lat-e[0].lat,n=e[0].lng-e[1].lng;return n*(t.lat-e[0].lat)+i*(t.lng-e[0].lng)},findMostDistantPointFromBaseLine:function(t,e){var i,n,o,r=0,s=null,a=[];for(i=e.length-1;i>=0;i--)n=e[i],o=this.getDistant(n,t),o>0&&(a.push(n),o>r&&(r=o,s=n));return{maxPoint:s,newPoints:a}},buildConvexHull:function(t,e){var i=[],n=this.findMostDistantPointFromBaseLine(t,e);return n.maxPoint?(i=i.concat(this.buildConvexHull([t[0],n.maxPoint],n.newPoints)),i=i.concat(this.buildConvexHull([n.maxPoint,t[1]],n.newPoints))):[t[0]]},getConvexHull:function(t){var e,i=!1,n=!1,o=!1,r=!1,s=null,a=null,l=null,u=null,h=null,c=null;for(e=t.length-1;e>=0;e--){var p=t[e];(i===!1||p.lat>i)&&(s=p,i=p.lat),(n===!1||p.lat<n)&&(a=p,n=p.lat),(o===!1||p.lng>o)&&(l=p,o=p.lng),(r===!1||p.lng<r)&&(u=p,r=p.lng)}n!==i?(c=a,h=s):(c=u,h=l);var d=[].concat(this.buildConvexHull([c,h],t),this.buildConvexHull([h,c],t));return d}}}(),L.MarkerCluster.include({getConvexHull:function(){var t,e,i=this.getAllChildMarkers(),n=[];for(e=i.length-1;e>=0;e--)t=i[e].getLatLng(),n.push(t);return L.QuickHull.getConvexHull(n)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:Math.PI/6,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var t,e=this.getAllChildMarkers(),i=this._group,n=i._map,o=n.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,e.length>=this._circleSpiralSwitchover?t=this._generatePointsSpiral(e.length,o):(o.y+=10,t=this._generatePointsCircle(e.length,o)),this._animationSpiderfy(e,t)}},unspiderfy:function(t){this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(t,e){var i,n,o=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+t),r=o/this._2PI,s=this._2PI/t,a=[];for(a.length=t,i=t-1;i>=0;i--)n=this._circleStartAngle+i*s,a[i]=new L.Point(e.x+r*Math.cos(n),e.y+r*Math.sin(n))._round();return a},_generatePointsSpiral:function(t,e){var i,n=this._group.options.spiderfyDistanceMultiplier,o=n*this._spiralLengthStart,r=n*this._spiralFootSeparation,s=n*this._spiralLengthFactor*this._2PI,a=0,l=[];for(l.length=t,i=t-1;i>=0;i--)a+=r/o+5e-4*i,l[i]=new L.Point(e.x+o*Math.cos(a),e.y+o*Math.sin(a))._round(),o+=s/a;return l},_noanimationUnspiderfy:function(){var t,e,i=this._group,n=i._map,o=i._featureGroup,r=this.getAllChildMarkers();for(i._ignoreMove=!0,this.setOpacity(1),e=r.length-1;e>=0;e--)t=r[e],o.removeLayer(t),t._preSpiderfyLatlng&&(t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng),t.setZIndexOffset&&t.setZIndexOffset(0),t._spiderLeg&&(n.removeLayer(t._spiderLeg),delete t._spiderLeg);i.fire("unspiderfied",{cluster:this,markers:r}),i._ignoreMove=!1,i._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(t,e){var i,n,o,r,s=this._group,a=s._map,l=s._featureGroup,u=this._group.options.spiderLegPolylineOptions;for(s._ignoreMove=!0,i=0;i<t.length;i++)r=a.layerPointToLatLng(e[i]),n=t[i],o=new L.Polyline([this._latlng,r],u),a.addLayer(o),n._spiderLeg=o,n._preSpiderfyLatlng=n._latlng,n.setLatLng(r),n.setZIndexOffset&&n.setZIndexOffset(1e6),l.addLayer(n);this.setOpacity(.3),s._ignoreMove=!1,s.fire("spiderfied",{cluster:this,markers:t})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(t,e){var n,o,r,s,a,l,u=this,h=this._group,c=h._map,p=h._featureGroup,d=this._latlng,f=c.latLngToLayerPoint(d),m=L.Path.SVG,_=L.extend({},this._group.options.spiderLegPolylineOptions),g=_.opacity;for(g===i&&(g=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),m?(_.opacity=0,_.className=(_.className||"")+" leaflet-cluster-spider-leg"):_.opacity=g,h._ignoreMove=!0,n=0;n<t.length;n++)o=t[n],l=c.layerPointToLatLng(e[n]),r=new L.Polyline([d,l],_),c.addLayer(r),o._spiderLeg=r,m&&(s=r._path,a=s.getTotalLength()+.1,s.style.strokeDasharray=a,s.style.strokeDashoffset=a),o.setZIndexOffset&&o.setZIndexOffset(1e6),o.clusterHide&&o.clusterHide(),p.addLayer(o),o._setPos&&o._setPos(f);for(h._forceLayout(),h._animationStart(),n=t.length-1;n>=0;n--)l=c.layerPointToLatLng(e[n]),o=t[n],o._preSpiderfyLatlng=o._latlng,o.setLatLng(l),o.clusterShow&&o.clusterShow(),m&&(r=o._spiderLeg,s=r._path,s.style.strokeDashoffset=0,r.setStyle({opacity:g}));this.setOpacity(.3),h._ignoreMove=!1,setTimeout(function(){h._animationEnd(),h.fire("spiderfied",{cluster:u,markers:t})},200)},_animationUnspiderfy:function(t){var e,i,n,o,r,s,a=this,l=this._group,u=l._map,h=l._featureGroup,c=t?u._latLngToNewLayerPoint(this._latlng,t.zoom,t.center):u.latLngToLayerPoint(this._latlng),p=this.getAllChildMarkers(),d=L.Path.SVG;for(l._ignoreMove=!0,l._animationStart(),this.setOpacity(1),i=p.length-1;i>=0;i--)e=p[i],e._preSpiderfyLatlng&&(e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng,s=!0,e._setPos&&(e._setPos(c),s=!1),e.clusterHide&&(e.clusterHide(),s=!1),s&&h.removeLayer(e),d&&(n=e._spiderLeg,o=n._path,r=o.getTotalLength()+.1,o.style.strokeDashoffset=r,n.setStyle({opacity:0})));l._ignoreMove=!1,setTimeout(function(){var t=0;for(i=p.length-1;i>=0;i--)e=p[i],e._spiderLeg&&t++;for(i=p.length-1;i>=0;i--)e=p[i],e._spiderLeg&&(e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),t>1&&h.removeLayer(e),u.removeLayer(e._spiderLeg),delete e._spiderLeg);l._animationEnd(),l.fire("unspiderfied",{cluster:a,markers:p})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(t){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(t))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(t){return t?t instanceof L.MarkerClusterGroup?t=t._topClusterLevel.getAllChildMarkers():t instanceof L.LayerGroup?t=t._layers:t instanceof L.MarkerCluster?t=t.getAllChildMarkers():t instanceof L.Marker&&(t=[t]):t=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(t),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(t),this},_flagParentsIconsNeedUpdate:function(t){var e,i;for(e in t)for(i=t[e].__parent;i;)i._iconNeedsUpdate=!0,i=i.__parent},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()})},_refreshSingleMarkerModeMarkers:function(t){var e,i;for(e in t)i=t[e],this.hasLayer(i)&&i.setIcon(this._overrideMarkerIcon(i))}}),L.Marker.include({refreshIconOptions:function(t,e){var i=this.options.icon;return L.setOptions(i,t),this.setIcon(i),e&&this.__parent&&this.__parent._group.refreshClusters(this),this}})}(window,document)},{}],54:[function(t,e){!function(t,i,n){function o(){var e=t.L;r.noConflict=function(){return t.L=e,this},t.L=r}var r={version:"1.0.0-rc.2"};"object"==typeof e&&"object"==typeof e.exports?e.exports=r:"function"==typeof define&&define.amd&&define(r),"undefined"!=typeof t&&o(),r.Util={extend:function(t){var e,i,n,o;for(i=1,n=arguments.length;n>i;i++){o=arguments[i];for(e in o)t[e]=o[e]}return t},create:Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}(),bind:function(t,e){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var n=i.call(arguments,2);return function(){return t.apply(e,n.length?n.concat(i.call(arguments)):arguments)}},stamp:function(t){return t._leaflet_id=t._leaflet_id||++r.Util.lastId,t._leaflet_id},lastId:0,throttle:function(t,e,i){var n,o,r,s;return s=function(){n=!1,o&&(r.apply(i,o),o=!1)},r=function(){n?o=arguments:(t.apply(i,arguments),setTimeout(s,e),n=!0)}},wrapNum:function(t,e,i){var n=e[1],o=e[0],r=n-o;return t===n&&i?t:((t-o)%r+r)%r+o},falseFn:function(){return!1},formatNum:function(t,e){var i=Math.pow(10,e||5);return Math.round(t*i)/i},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"");

},splitWords:function(t){return r.Util.trim(t).split(/\s+/)},setOptions:function(t,e){t.hasOwnProperty("options")||(t.options=t.options?r.Util.create(t.options):{});for(var i in e)t.options[i]=e[i];return t.options},getParamString:function(t,e,i){var n=[];for(var o in t)n.push(encodeURIComponent(i?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+n.join("&")},template:function(t,e){return t.replace(r.Util.templateRe,function(t,i){var o=e[i];if(o===n)throw new Error("No value provided for variable "+t);return"function"==typeof o&&(o=o(e)),o})},templateRe:/\{ *([\w_\-]+) *\}/g,isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},indexOf:function(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function e(e){return t["webkit"+e]||t["moz"+e]||t["ms"+e]}function i(e){var i=+new Date,o=Math.max(0,16-(i-n));return n=i+o,t.setTimeout(e,o)}var n=0,o=t.requestAnimationFrame||e("RequestAnimationFrame")||i,s=t.cancelAnimationFrame||e("CancelAnimationFrame")||e("CancelRequestAnimationFrame")||function(e){t.clearTimeout(e)};r.Util.requestAnimFrame=function(e,n,s){return s&&o===i?void e.call(n):o.call(t,r.bind(e,n))},r.Util.cancelAnimFrame=function(e){e&&s.call(t,e)}}(),r.extend=r.Util.extend,r.bind=r.Util.bind,r.stamp=r.Util.stamp,r.setOptions=r.Util.setOptions,r.Class=function(){},r.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=e.__super__=this.prototype,n=r.Util.create(i);n.constructor=e,e.prototype=n;for(var o in this)this.hasOwnProperty(o)&&"prototype"!==o&&(e[o]=this[o]);return t.statics&&(r.extend(e,t.statics),delete t.statics),t.includes&&(r.Util.extend.apply(null,[n].concat(t.includes)),delete t.includes),n.options&&(t.options=r.Util.extend(r.Util.create(n.options),t.options)),r.extend(n,t),n._initHooks=[],n.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=n._initHooks.length;e>t;t++)n._initHooks[t].call(this)}},e},r.Class.include=function(t){return r.extend(this.prototype,t),this},r.Class.mergeOptions=function(t){return r.extend(this.prototype.options,t),this},r.Class.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this},r.Evented=r.Class.extend({on:function(t,e,i){if("object"==typeof t)for(var n in t)this._on(n,t[n],e);else{t=r.Util.splitWords(t);for(var o=0,s=t.length;s>o;o++)this._on(t[o],e,i)}return this},off:function(t,e,i){if(t)if("object"==typeof t)for(var n in t)this._off(n,t[n],e);else{t=r.Util.splitWords(t);for(var o=0,s=t.length;s>o;o++)this._off(t[o],e,i)}else delete this._events;return this},_on:function(t,e,i){this._events=this._events||{};var o=this._events[t];o||(o={listeners:{},count:0},this._events[t]=o);var s=i&&i!==this&&r.stamp(i),a={fn:e,ctx:i};s||(s="no_context",a.ctx=n);var l=o.listeners[s];l||(l=[],o.listeners[s]=l);for(var u=0,h=l.length;h>u;u++)if(l[u].fn===e)return;l.push(a),o.count++},_off:function(t,e,i){var n,o,s,a,l;if(this._events)if(e){if(n=this._events[t],n&&(o=i&&i!==this&&r.stamp(i),o||(o="no_context"),s=n.listeners[o]))for(a=0,l=s.length;l>a;a++){var u=s[a];if(u.fn===e)return u.fn=r.Util.falseFn,n.count--,void(l>1?this._isFiring?(n.listeners[o]=s.slice(),n.listeners[o].splice(a,1)):s.splice(a,1):delete n.listeners[o]);0===s.length&&delete n.listeners[o]}}else if(n=this._events[t]){for(o in n.listeners)for(s=n.listeners[o],a=0,l=s.length;l>a;a++)s[a].fn=r.Util.falseFn;delete this._events[t]}},fire:function(t,e,i){if(!this.listens(t,i))return this;var n=r.Util.extend({},e,{type:t,target:this});if(this._events){var o=this._events[t];if(o){this._isFiring=!0;for(var s in o.listeners)for(var a=o.listeners[s],l=0,u=a.length;u>l;l++){var h=a[l];h.fn.call(h.ctx||this,n)}this._isFiring=!1}}return i&&this._propagateEvent(n),this},listens:function(t,e){var i=this._events&&this._events[t];if(i&&i.count)return!0;if(e)for(var n in this._eventParents)if(this._eventParents[n].listens(t,e))return!0;return!1},once:function(t,e,i){if("object"==typeof t){for(var n in t)this.once(n,t[n],e);return this}var o=r.bind(function(){this.off(t,e,i).off(t,o,i)},this);return this.on(t,e,i).on(t,o,i)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[r.stamp(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[r.stamp(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,r.extend({layer:t.target},t),!0)}});var s=r.Evented.prototype;s.addEventListener=s.on,s.removeEventListener=s.clearAllEventListeners=s.off,s.addOneTimeEventListener=s.once,s.fireEvent=s.fire,s.hasEventListeners=s.listens,r.Mixin={Events:s},function(){var e=navigator.userAgent.toLowerCase(),n=i.documentElement,o="ActiveXObject"in t,s=-1!==e.indexOf("webkit"),a=-1!==e.indexOf("phantom"),l=-1!==e.search("android [23]"),u=-1!==e.indexOf("chrome"),h=-1!==e.indexOf("gecko")&&!s&&!t.opera&&!o,c=0===navigator.platform.indexOf("Win"),p="undefined"!=typeof orientation||-1!==e.indexOf("mobile"),d=!t.PointerEvent&&t.MSPointerEvent,f=t.PointerEvent||d,m=o&&"transition"in n.style,_="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix&&!l,g="MozPerspective"in n.style,v="OTransition"in n.style,y=!t.L_NO_TOUCH&&(f||"ontouchstart"in t||t.DocumentTouch&&i instanceof t.DocumentTouch);r.Browser={ie:o,ielt9:o&&!i.addEventListener,edge:"msLaunchUri"in navigator&&!("documentMode"in i),webkit:s,gecko:h,android:-1!==e.indexOf("android"),android23:l,chrome:u,safari:!u&&-1!==e.indexOf("safari"),win:c,ie3d:m,webkit3d:_,gecko3d:g,opera12:v,any3d:!t.L_DISABLE_3D&&(m||_||g)&&!v&&!a,mobile:p,mobileWebkit:p&&s,mobileWebkit3d:p&&_,mobileOpera:p&&t.opera,mobileGecko:p&&h,touch:!!y,msPointer:!!d,pointer:!!f,retina:(t.devicePixelRatio||t.screen.deviceXDPI/t.screen.logicalXDPI)>1}}(),r.Point=function(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e},r.Point.prototype={clone:function(){return new r.Point(this.x,this.y)},add:function(t){return this.clone()._add(r.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(r.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new r.Point(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new r.Point(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(t){t=r.point(t);var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return t=r.point(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=r.point(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+r.Util.formatNum(this.x)+", "+r.Util.formatNum(this.y)+")"}},r.point=function(t,e,i){return t instanceof r.Point?t:r.Util.isArray(t)?new r.Point(t[0],t[1]):t===n||null===t?t:"object"==typeof t&&"x"in t&&"y"in t?new r.Point(t.x,t.y):new r.Point(t,e,i)},r.Bounds=function(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;o>n;n++)this.extend(i[n])},r.Bounds.prototype={extend:function(t){return t=r.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new r.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new r.Point(this.min.x,this.max.y)},getTopRight:function(){return new r.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return t="number"==typeof t[0]||t instanceof r.Point?r.point(t):r.bounds(t),t instanceof r.Bounds?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=r.bounds(t);var e=this.min,i=this.max,n=t.min,o=t.max,s=o.x>=e.x&&n.x<=i.x,a=o.y>=e.y&&n.y<=i.y;return s&&a},overlaps:function(t){t=r.bounds(t);var e=this.min,i=this.max,n=t.min,o=t.max,s=o.x>e.x&&n.x<i.x,a=o.y>e.y&&n.y<i.y;return s&&a},isValid:function(){return!(!this.min||!this.max)}},r.bounds=function(t,e){return!t||t instanceof r.Bounds?t:new r.Bounds(t,e)},r.Transformation=function(t,e,i,n){this._a=t,this._b=e,this._c=i,this._d=n},r.Transformation.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new r.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}},r.DomUtil={get:function(t){return"string"==typeof t?i.getElementById(t):t},getStyle:function(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&i.defaultView){var o=i.defaultView.getComputedStyle(t,null);n=o?o[e]:null}return"auto"===n?null:n},create:function(t,e,n){var o=i.createElement(t);return o.className=e||"",n&&n.appendChild(o),o},remove:function(t){var e=t.parentNode;e&&e.removeChild(t)},empty:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},toFront:function(t){t.parentNode.appendChild(t)},toBack:function(t){var e=t.parentNode;e.insertBefore(t,e.firstChild)},hasClass:function(t,e){if(t.classList!==n)return t.classList.contains(e);var i=r.DomUtil.getClass(t);return i.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(i)},addClass:function(t,e){if(t.classList!==n)for(var i=r.Util.splitWords(e),o=0,s=i.length;s>o;o++)t.classList.add(i[o]);else if(!r.DomUtil.hasClass(t,e)){var a=r.DomUtil.getClass(t);r.DomUtil.setClass(t,(a?a+" ":"")+e)}},removeClass:function(t,e){t.classList!==n?t.classList.remove(e):r.DomUtil.setClass(t,r.Util.trim((" "+r.DomUtil.getClass(t)+" ").replace(" "+e+" "," ")))},setClass:function(t,e){t.className.baseVal===n?t.className=e:t.className.baseVal=e},getClass:function(t){return t.className.baseVal===n?t.className:t.className.baseVal},setOpacity:function(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&r.DomUtil._setOpacityIE(t,e)},_setOpacityIE:function(t,e){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(n)}catch(o){if(1===e)return}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+n+"(opacity="+e+")"},testProp:function(t){for(var e=i.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1},setTransform:function(t,e,i){var n=e||new r.Point(0,0);t.style[r.DomUtil.TRANSFORM]=(r.Browser.ie3d?"translate("+n.x+"px,"+n.y+"px)":"translate3d("+n.x+"px,"+n.y+"px,0)")+(i?" scale("+i+")":"")},setPosition:function(t,e){t._leaflet_pos=e,r.Browser.any3d?r.DomUtil.setTransform(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._leaflet_pos||new r.Point(0,0)}},function(){r.DomUtil.TRANSFORM=r.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]);var e=r.DomUtil.TRANSITION=r.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);if(r.DomUtil.TRANSITION_END="webkitTransition"===e||"OTransition"===e?e+"End":"transitionend","onselectstart"in i)r.DomUtil.disableTextSelection=function(){r.DomEvent.on(t,"selectstart",r.DomEvent.preventDefault)},r.DomUtil.enableTextSelection=function(){r.DomEvent.off(t,"selectstart",r.DomEvent.preventDefault)};else{var n=r.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);r.DomUtil.disableTextSelection=function(){if(n){var t=i.documentElement.style;this._userSelect=t[n],t[n]="none"}},r.DomUtil.enableTextSelection=function(){n&&(i.documentElement.style[n]=this._userSelect,delete this._userSelect)}}r.DomUtil.disableImageDrag=function(){r.DomEvent.on(t,"dragstart",r.DomEvent.preventDefault)},r.DomUtil.enableImageDrag=function(){r.DomEvent.off(t,"dragstart",r.DomEvent.preventDefault)},r.DomUtil.preventOutline=function(e){for(;-1===e.tabIndex;)e=e.parentNode;e&&e.style&&(r.DomUtil.restoreOutline(),this._outlineElement=e,this._outlineStyle=e.style.outline,e.style.outline="none",r.DomEvent.on(t,"keydown",r.DomUtil.restoreOutline,this))},r.DomUtil.restoreOutline=function(){this._outlineElement&&(this._outlineElement.style.outline=this._outlineStyle,delete this._outlineElement,delete this._outlineStyle,r.DomEvent.off(t,"keydown",r.DomUtil.restoreOutline,this))}}(),r.LatLng=function(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,i!==n&&(this.alt=+i)},r.LatLng.prototype={equals:function(t,e){if(!t)return!1;t=r.latLng(t);var i=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return(e===n?1e-9:e)>=i},toString:function(t){return"LatLng("+r.Util.formatNum(this.lat,t)+", "+r.Util.formatNum(this.lng,t)+")"},distanceTo:function(t){return r.CRS.Earth.distance(this,r.latLng(t))},wrap:function(){return r.CRS.Earth.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return r.latLngBounds([this.lat-e,this.lng-i],[this.lat+e,this.lng+i])},clone:function(){return new r.LatLng(this.lat,this.lng,this.alt)}},r.latLng=function(t,e,i){return t instanceof r.LatLng?t:r.Util.isArray(t)&&"object"!=typeof t[0]?3===t.length?new r.LatLng(t[0],t[1],t[2]):2===t.length?new r.LatLng(t[0],t[1]):null:t===n||null===t?t:"object"==typeof t&&"lat"in t?new r.LatLng(t.lat,"lng"in t?t.lng:t.lon,t.alt):e===n?null:new r.LatLng(t,e,i)},r.LatLngBounds=function(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;o>n;n++)this.extend(i[n])},r.LatLngBounds.prototype={extend:function(t){var e,i,n=this._southWest,o=this._northEast;if(t instanceof r.LatLng)e=t,i=t;else{if(!(t instanceof r.LatLngBounds))return t?this.extend(r.latLng(t)||r.latLngBounds(t)):this;if(e=t._southWest,i=t._northEast,!e||!i)return this}return n||o?(n.lat=Math.min(e.lat,n.lat),n.lng=Math.min(e.lng,n.lng),o.lat=Math.max(i.lat,o.lat),o.lng=Math.max(i.lng,o.lng)):(this._southWest=new r.LatLng(e.lat,e.lng),this._northEast=new r.LatLng(i.lat,i.lng)),this},pad:function(t){var e=this._southWest,i=this._northEast,n=Math.abs(e.lat-i.lat)*t,o=Math.abs(e.lng-i.lng)*t;return new r.LatLngBounds(new r.LatLng(e.lat-n,e.lng-o),new r.LatLng(i.lat+n,i.lng+o))},getCenter:function(){return new r.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new r.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new r.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof r.LatLng?r.latLng(t):r.latLngBounds(t);var e,i,n=this._southWest,o=this._northEast;return t instanceof r.LatLngBounds?(e=t.getSouthWest(),i=t.getNorthEast()):e=i=t,e.lat>=n.lat&&i.lat<=o.lat&&e.lng>=n.lng&&i.lng<=o.lng},intersects:function(t){t=r.latLngBounds(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),s=o.lat>=e.lat&&n.lat<=i.lat,a=o.lng>=e.lng&&n.lng<=i.lng;return s&&a},overlaps:function(t){t=r.latLngBounds(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),s=o.lat>e.lat&&n.lat<i.lat,a=o.lng>e.lng&&n.lng<i.lng;return s&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t){return t?(t=r.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast())):!1},isValid:function(){return!(!this._southWest||!this._northEast)}},r.latLngBounds=function(t,e){return t instanceof r.LatLngBounds?t:new r.LatLngBounds(t,e)},r.Projection={},r.Projection.LonLat={project:function(t){return new r.Point(t.lng,t.lat)},unproject:function(t){return new r.LatLng(t.y,t.x)},bounds:r.bounds([-180,-90],[180,90])},r.Projection.SphericalMercator={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,t.lat),-i),o=Math.sin(n*e);return new r.Point(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new r.LatLng((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=6378137*Math.PI;return r.bounds([-t,-t],[t,t])}()},r.CRS={latLngToPoint:function(t,e){var i=this.projection.project(t),n=this.scale(e);return this.transformation._transform(i,n)},pointToLatLng:function(t,e){var i=this.scale(e),n=this.transformation.untransform(t,i);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,i=this.scale(t),n=this.transformation.transform(e.min,i),o=this.transformation.transform(e.max,i);return r.bounds(n,o)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?r.Util.wrapNum(t.lng,this.wrapLng,!0):t.lng,i=this.wrapLat?r.Util.wrapNum(t.lat,this.wrapLat,!0):t.lat,n=t.alt;return r.latLng(i,e,n)}},r.CRS.Simple=r.extend({},r.CRS,{projection:r.Projection.LonLat,transformation:new r.Transformation(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var i=e.lng-t.lng,n=e.lat-t.lat;return Math.sqrt(i*i+n*n)},infinite:!0}),r.CRS.Earth=r.extend({},r.CRS,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var i=Math.PI/180,n=t.lat*i,o=e.lat*i,r=Math.sin(n)*Math.sin(o)+Math.cos(n)*Math.cos(o)*Math.cos((e.lng-t.lng)*i);return this.R*Math.acos(Math.min(r,1))}}),r.CRS.EPSG3857=r.extend({},r.CRS.Earth,{code:"EPSG:3857",projection:r.Projection.SphericalMercator,transformation:function(){var t=.5/(Math.PI*r.Projection.SphericalMercator.R);return new r.Transformation(t,.5,-t,.5)}()}),r.CRS.EPSG900913=r.extend({},r.CRS.EPSG3857,{code:"EPSG:900913"}),r.CRS.EPSG4326=r.extend({},r.CRS.Earth,{code:"EPSG:4326",projection:r.Projection.LonLat,transformation:new r.Transformation(1/180,1,-1/180,.5)}),r.Map=r.Evented.extend({options:{crs:r.CRS.EPSG3857,center:n,zoom:n,minZoom:n,maxZoom:n,layers:[],maxBounds:n,renderer:n,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=r.setOptions(this,e),this._initContainer(t),this._initLayout(),this._onResize=r.bind(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==n&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==n&&this.setView(r.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._addLayers(this.options.layers)},setView:function(t,e){return e=e===n?this.getZoom():e,this._resetView(r.latLng(t),e),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(r.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(r.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,i){var n=this.getZoomScale(e),o=this.getSize().divideBy(2),s=t instanceof r.Point?t:this.latLngToContainerPoint(t),a=s.subtract(o).multiplyBy(1-1/n),l=this.containerPointToLatLng(o.add(a));return this.setView(l,e,{zoom:i})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():r.latLngBounds(t);var i=r.point(e.paddingTopLeft||e.padding||[0,0]),n=r.point(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,i.add(n));o="number"==typeof e.maxZoom?Math.min(e.maxZoom,o):o;var s=n.subtract(i).divideBy(2),a=this.project(t.getSouthWest(),o),l=this.project(t.getNorthEast(),o),u=this.unproject(a.add(l).divideBy(2).add(s),o);return{center:u,zoom:o}},fitBounds:function(t,e){if(t=r.latLngBounds(t),!t.isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(t,e);return this.setView(i.center,i.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t){return this.fire("movestart"),this._rawPanBy(r.point(t)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(t){return t=r.latLngBounds(t),t.isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){return this.options.minZoom=t,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(t):this},setMaxZoom:function(t){return this.options.maxZoom=t,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),n=this._limitCenter(i,this._zoom,r.latLngBounds(t));return i.equals(n)||this.panTo(n,e),this._enforcingBounds=!1,this},invalidateSize:function(t){if(!this._loaded)return this;t=r.extend({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),n=e.divideBy(2).round(),o=i.divideBy(2).round(),s=n.subtract(o);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){this._initEvents(!0);try{delete this._container._leaflet}catch(t){this._container._leaflet=n}r.DomUtil.remove(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload");for(var e in this._layers)this._layers[e].remove();return this},createPane:function(t,e){var i="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),n=r.DomUtil.create("div",i,e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),i=this.unproject(t.getTopRight());return new r.LatLngBounds(e,i)},getMinZoom:function(){return this.options.minZoom===n?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===n?this._layersMaxZoom===n?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=r.latLngBounds(t),i=r.point(i||[0,0]);var n=this.getZoom()||0,o=this.getMinZoom(),s=this.getMaxZoom(),a=t.getNorthWest(),l=t.getSouthEast(),u=this.getSize().subtract(i),h=this.project(l,n).subtract(this.project(a,n)),c=r.Browser.any3d?this.options.zoomSnap:1,p=Math.min(u.x/h.x,u.y/h.y);return n=this.getScaleZoom(p,n),c&&(n=Math.round(n/(c/100))*(c/100),n=e?Math.ceil(n/c)*c:Math.floor(n/c)*c),Math.max(o,Math.min(s,n))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new r.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var i=this._getTopLeftPoint(t,e);return new r.Bounds(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===n?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var i=this.options.crs;return e=e===n?this._zoom:e,i.scale(t)/i.scale(e)},getScaleZoom:function(t,e){var i=this.options.crs;return e=e===n?this._zoom:e,i.zoom(t*i.scale(e))},project:function(t,e){return e=e===n?this._zoom:e,this.options.crs.latLngToPoint(r.latLng(t),e)},unproject:function(t,e){return e=e===n?this._zoom:e,this.options.crs.pointToLatLng(r.point(t),e)},layerPointToLatLng:function(t){var e=r.point(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(r.latLng(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(r.latLng(t))},distance:function(t,e){return this.options.crs.distance(r.latLng(t),r.latLng(e))},containerPointToLayerPoint:function(t){return r.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return r.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(r.point(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(r.latLng(t)))},mouseEventToContainerPoint:function(t){return r.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=r.DomUtil.get(t);if(!e)throw new Error("Map container not found.");if(e._leaflet)throw new Error("Map container is already initialized.");r.DomEvent.addListener(e,"scroll",this._onScroll,this),e._leaflet=!0},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&r.Browser.any3d,r.DomUtil.addClass(t,"leaflet-container"+(r.Browser.touch?" leaflet-touch":"")+(r.Browser.retina?" leaflet-retina":"")+(r.Browser.ielt9?" leaflet-oldie":"")+(r.Browser.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=r.DomUtil.getStyle(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),r.DomUtil.setPosition(this._mapPane,new r.Point(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(r.DomUtil.addClass(t.markerPane,"leaflet-zoom-hide"),r.DomUtil.addClass(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){r.DomUtil.setPosition(this._mapPane,new r.Point(0,0));var i=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var n=this._zoom!==e;this._moveStart(n)._move(t,e)._moveEnd(n),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(t){return t&&this.fire("zoomstart"),this.fire("movestart")},_move:function(t,e,i){e===n&&(e=this._zoom);var o=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(o||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return r.Util.cancelAnimFrame(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){r.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){if(r.DomEvent){this._targets={},this._targets[r.stamp(this._container)]=this;var i=e?"off":"on";r.DomEvent[i](this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&r.DomEvent[i](t,"resize",this._onResize,this),r.Browser.any3d&&this.options.transform3DLimit&&this[i]("moveend",this._onMoveEnd)}},_onResize:function(){r.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=r.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var i,n=[],o="mouseout"===e||"mouseover"===e,s=t.target||t.srcElement,a=!1;s;){if(i=this._targets[r.stamp(s)],i&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(i)){a=!0;break}if(i&&i.listens(e,!0)){if(o&&!r.DomEvent._isExternalTarget(s,t))break;if(n.push(i),o)break}if(s===this._container)break;s=s.parentNode}return n.length||a||o||!r.DomEvent._isExternalTarget(s,t)||(n=[this]),n},_handleDOMEvent:function(t){if(this._loaded&&!r.DomEvent._skipped(t)){var e="keypress"===t.type&&13===t.keyCode?"click":t.type;"mousedown"===e&&r.DomUtil.preventOutline(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_fireDOMEvent:function(t,e,i){if("click"===t.type){var n=r.Util.extend({},t);n.type="preclick",this._fireDOMEvent(n,n.type,i)}if(!t._stopped&&(i=(i||[]).concat(this._findEventTargets(t,e)),i.length)){var o=i[0];"contextmenu"===e&&o.listens(e,!0)&&r.DomEvent.preventDefault(t);var s={originalEvent:t};if("keypress"!==t.type){var a=o instanceof r.Marker;s.containerPoint=a?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(t),s.layerPoint=this.containerPointToLayerPoint(s.containerPoint),s.latlng=a?o.getLatLng():this.layerPointToLatLng(s.layerPoint)}for(var l=0;l<i.length;l++)if(i[l].fire(e,s,!0),s.originalEvent._stopped||i[l].options.nonBubblingEvents&&-1!==r.Util.indexOf(i[l].options.nonBubblingEvents,e))return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;e>t;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return r.DomUtil.getPosition(this._mapPane)||new r.Point(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var i=t&&e!==n?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return i.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return this.project(t,e)._subtract(n);

},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var n=this.project(t,e),o=this.getSize().divideBy(2),s=new r.Bounds(n.subtract(o),n.add(o)),a=this._getBoundsOffset(s,i,e);return a.round().equals([0,0])?t:this.unproject(n.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),n=new r.Bounds(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(n,e))},_getBoundsOffset:function(t,e,i){var n=r.bounds(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i)),o=n.min.subtract(t.min),s=n.max.subtract(t.max),a=this._rebound(o.x,-s.x),l=this._rebound(o.y,-s.y);return new r.Point(a,l)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),n=r.Browser.any3d?this.options.zoomSnap:1;return n&&(t=Math.round(t/n)*n),Math.max(e,Math.min(i,t))}}),r.map=function(t,e){return new r.Map(t,e)},r.Layer=r.Evented.extend({options:{pane:"overlayPane",nonBubblingEvents:[]},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[r.stamp(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[r.stamp(t)],this},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var i=this.getEvents();e.on(i,this),this.once("remove",function(){e.off(i,this)},this)}this.onAdd(e),this.getAttribution&&this._map.attributionControl&&this._map.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}}),r.Map.include({addLayer:function(t){var e=r.stamp(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=r.stamp(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&r.stamp(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){t=t?r.Util.isArray(t)?t:[t]:[];for(var e=0,i=t.length;i>e;e++)this.addLayer(t[e])},_addZoomLimit:function(t){(isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[r.stamp(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=r.stamp(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-(1/0),i=this._getZoomSpan();for(var o in this._zoomBoundLayers){var r=this._zoomBoundLayers[o].options;t=r.minZoom===n?t:Math.min(t,r.minZoom),e=r.maxZoom===n?e:Math.max(e,r.maxZoom)}this._layersMaxZoom=e===-(1/0)?n:e,this._layersMinZoom=t===1/0?n:t,i!==this._getZoomSpan()&&this.fire("zoomlevelschange")}}),r.Projection.Mercator={R:6378137,R_MINOR:6356752.314245179,bounds:r.bounds([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,i=this.R,n=t.lat*e,o=this.R_MINOR/i,s=Math.sqrt(1-o*o),a=s*Math.sin(n),l=Math.tan(Math.PI/4-n/2)/Math.pow((1-a)/(1+a),s/2);return n=-i*Math.log(Math.max(l,1e-10)),new r.Point(t.lng*e*i,n)},unproject:function(t){for(var e,i=180/Math.PI,n=this.R,o=this.R_MINOR/n,s=Math.sqrt(1-o*o),a=Math.exp(-t.y/n),l=Math.PI/2-2*Math.atan(a),u=0,h=.1;15>u&&Math.abs(h)>1e-7;u++)e=s*Math.sin(l),e=Math.pow((1-e)/(1+e),s/2),h=Math.PI/2-2*Math.atan(a*e)-l,l+=h;return new r.LatLng(l*i,t.x*i/n)}},r.CRS.EPSG3395=r.extend({},r.CRS.Earth,{code:"EPSG:3395",projection:r.Projection.Mercator,transformation:function(){var t=.5/(Math.PI*r.Projection.Mercator.R);return new r.Transformation(t,.5,-t,.5)}()}),r.GridLayer=r.Layer.extend({options:{tileSize:256,opacity:1,updateWhenIdle:r.Browser.mobile,updateWhenZooming:!0,updateInterval:200,attribution:null,zIndex:1,bounds:null,minZoom:0,maxZoom:n,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){t=r.setOptions(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),r.DomUtil.remove(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=null},bringToFront:function(){return this._map&&(r.DomUtil.toFront(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(r.DomUtil.toBack(this._container),this._setAutoZIndex(Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=r.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return i.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof r.Point?t:new r.Point(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==n&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,i=this.getPane().children,n=-t(-(1/0),1/0),o=0,r=i.length;r>o;o++)e=i[o].style.zIndex,i[o]!==this._container&&e&&(n=t(n,+e));isFinite(n)&&(this.options.zIndex=n+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!r.Browser.ielt9){r.DomUtil.setOpacity(this._container,this.options.opacity);var t=+new Date,e=!1,i=!1;for(var n in this._tiles){var o=this._tiles[n];if(o.current&&o.loaded){var s=Math.min(1,(t-o.loaded)/200);r.DomUtil.setOpacity(o.el,s),1>s?e=!0:(o.active&&(i=!0),o.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),e&&(r.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=r.Util.requestAnimFrame(this._updateOpacity,this))}},_initContainer:function(){this._container||(this._container=r.DomUtil.create("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t===n)return n;for(var i in this._levels)this._levels[i].el.children.length||i===t?this._levels[i].el.style.zIndex=e-Math.abs(t-i):(r.DomUtil.remove(this._levels[i].el),this._removeTilesAtZoom(i),delete this._levels[i]);var o=this._levels[t],s=this._map;return o||(o=this._levels[t]={},o.el=r.DomUtil.create("div","leaflet-tile-container leaflet-zoom-animated",this._container),o.el.style.zIndex=e,o.origin=s.project(s.unproject(s.getPixelOrigin()),t).round(),o.zoom=t,this._setZoomTransform(o,s.getCenter(),s.getZoom()),r.Util.falseFn(o.el.offsetWidth)),this._level=o,o},_pruneTiles:function(){if(this._map){var t,e,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom)return void this._removeAllTiles();for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var n=e.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)r.DomUtil.remove(this._levels[t].el),delete this._levels[t];this._removeAllTiles(),this._tileZoom=null},_retainParent:function(t,e,i,n){var o=Math.floor(t/2),s=Math.floor(e/2),a=i-1,l=new r.Point(+o,+s);l.z=+a;var u=this._tileCoordsToKey(l),h=this._tiles[u];return h&&h.active?(h.retain=!0,!0):(h&&h.loaded&&(h.retain=!0),a>n?this._retainParent(o,s,a,n):!1)},_retainChildren:function(t,e,i,n){for(var o=2*t;2*t+2>o;o++)for(var s=2*e;2*e+2>s;s++){var a=new r.Point(o,s);a.z=i+1;var l=this._tileCoordsToKey(a),u=this._tiles[l];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n>i+1&&this._retainChildren(o,s,i+1,n))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_setView:function(t,e,i,o){var r=Math.round(e);(this.options.maxZoom!==n&&r>this.options.maxZoom||this.options.minZoom!==n&&r<this.options.minZoom)&&(r=n);var s=this.options.updateWhenZooming&&r!==this._tileZoom;(!o||s)&&(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),r!==n&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,e,i){var n=this._map.getZoomScale(i,t.zoom),o=t.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(e,i)).round();r.Browser.any3d?r.DomUtil.setTransform(t.el,o,n):r.DomUtil.setPosition(t.el,o)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),n=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],n).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],n).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],n).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],n).y/i.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),n=e.getZoomScale(i,this._tileZoom),o=e.project(t,this._tileZoom).floor(),s=e.getSize().divideBy(2*n);return new r.Bounds(o.subtract(s),o.add(s))},_update:function(t){var e=this._map;if(e){var o=e.getZoom();if(t===n&&(t=e.getCenter()),this._tileZoom!==n){var s=this._getTiledPixelBounds(t),a=this._pxBoundsToTileRange(s),l=a.getCenter(),u=[],h=this.options.keepBuffer,c=new r.Bounds(a.getBottomLeft().subtract([h,-h]),a.getTopRight().add([h,-h]));for(var p in this._tiles){var d=this._tiles[p].coords;d.z===this._tileZoom&&c.contains(r.point(d.x,d.y))||(this._tiles[p].current=!1)}if(Math.abs(o-this._tileZoom)>1)return void this._setView(t,o);for(var f=a.min.y;f<=a.max.y;f++)for(var m=a.min.x;m<=a.max.x;m++){var _=new r.Point(m,f);if(_.z=this._tileZoom,this._isValidTile(_)){var g=this._tiles[this._tileCoordsToKey(_)];g?g.current=!0:u.push(_)}}if(u.sort(function(t,e){return t.distanceTo(l)-e.distanceTo(l)}),0!==u.length){this._loading||(this._loading=!0,this.fire("loading"));var v=i.createDocumentFragment();for(m=0;m<u.length;m++)this._addTile(u[m],v);this._level.el.appendChild(v)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;var n=this._tileCoordsToBounds(t);return r.latLngBounds(this.options.bounds).overlaps(n)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToBounds:function(t){var e=this._map,i=this.getTileSize(),n=t.scaleBy(i),o=n.add(i),s=e.wrapLatLng(e.unproject(n,t.z)),a=e.wrapLatLng(e.unproject(o,t.z));return new r.LatLngBounds(s,a)},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),i=new r.Point(+e[0],+e[1]);return i.z=+e[2],i},_removeTile:function(t){var e=this._tiles[t];e&&(r.DomUtil.remove(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){r.DomUtil.addClass(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=r.Util.falseFn,t.onmousemove=r.Util.falseFn,r.Browser.ielt9&&this.options.opacity<1&&r.DomUtil.setOpacity(t,this.options.opacity),r.Browser.android&&!r.Browser.android23&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var i=this._getTilePos(t),n=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),r.bind(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&r.Util.requestAnimFrame(r.bind(this._tileReady,this,t,null,o)),r.DomUtil.setPosition(o,i),this._tiles[n]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,i){if(this._map){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var n=this._tileCoordsToKey(t);i=this._tiles[n],i&&(i.loaded=+new Date,this._map._fadeAnimated?(r.DomUtil.setOpacity(i.el,0),r.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=r.Util.requestAnimFrame(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),r.DomUtil.addClass(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t}),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),r.Browser.ielt9||!this._map._fadeAnimated?r.Util.requestAnimFrame(this._pruneTiles,this):setTimeout(r.bind(this._pruneTiles,this),250)))}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new r.Point(this._wrapX?r.Util.wrapNum(t.x,this._wrapX):t.x,this._wrapY?r.Util.wrapNum(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new r.Bounds(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),r.gridLayer=function(t){return new r.GridLayer(t)},r.TileLayer=r.GridLayer.extend({options:{minZoom:0,maxZoom:18,maxNativeZoom:null,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,e=r.setOptions(this,e),e.detectRetina&&r.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),r.Browser.android||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=i.createElement("img");return r.DomEvent.on(n,"load",r.bind(this._tileOnLoad,this,e,n)),r.DomEvent.on(n,"error",r.bind(this._tileOnError,this,e,n)),this.options.crossOrigin&&(n.crossOrigin=""),n.alt="",n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:r.Browser.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=i),e["-y"]=i}return r.Util.template(this._url,r.extend(e,this.options))},_tileOnLoad:function(t,e){r.Browser.ielt9?setTimeout(r.bind(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var n=this.options.errorTileUrl;n&&(e.src=n),t(i,e)},getTileSize:function(){var t=this._map,e=r.GridLayer.prototype.getTileSize.call(this),i=this._tileZoom+this.options.zoomOffset,n=this.options.maxNativeZoom;return null!==n&&i>n?e.divideBy(t.getZoomScale(n,i)).round():e},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this.options,e=this._tileZoom;return t.zoomReverse&&(e=t.maxZoom-e),e+=t.zoomOffset,null!==t.maxNativeZoom?Math.min(e,t.maxNativeZoom):e},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=r.Util.falseFn,e.onerror=r.Util.falseFn,e.complete||(e.src=r.Util.emptyImageUrl,r.DomUtil.remove(e)))}}),r.tileLayer=function(t,e){return new r.TileLayer(t,e)},r.TileLayer.WMS=r.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i=r.extend({},this.defaultWmsParams);for(var n in e)n in this.options||(i[n]=e[n]);e=r.setOptions(this,e),i.width=i.height=e.tileSize*(e.detectRetina&&r.Browser.retina?2:1),this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,r.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToBounds(t),i=this._crs.project(e.getNorthWest()),n=this._crs.project(e.getSouthEast()),o=(this._wmsVersion>=1.3&&this._crs===r.CRS.EPSG4326?[n.y,i.x,i.y,n.x]:[i.x,n.y,n.x,i.y]).join(","),s=r.TileLayer.prototype.getTileUrl.call(this,t);return s+r.Util.getParamString(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+o},setParams:function(t,e){return r.extend(this.wmsParams,t),e||this.redraw(),this}}),r.tileLayer.wms=function(t,e){return new r.TileLayer.WMS(t,e)},r.ImageOverlay=r.Layer.extend({options:{opacity:1,alt:"",interactive:!1,attribution:null,crossOrigin:!1},initialize:function(t,e,i){this._url=t,this._bounds=r.latLngBounds(e),r.setOptions(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(r.DomUtil.addClass(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){r.DomUtil.remove(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&r.DomUtil.toFront(this._image),this},bringToBack:function(){return this._map&&r.DomUtil.toBack(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=t,this._map&&this._reset(),this},getAttribution:function(){return this.options.attribution},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._image=r.DomUtil.create("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""));t.onselectstart=r.Util.falseFn,t.onmousemove=r.Util.falseFn,t.onload=r.bind(this.fire,this,"load"),this.options.crossOrigin&&(t.crossOrigin=""),t.src=this._url,t.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._latLngToNewLayerPoint(this._bounds.getNorthWest(),t.zoom,t.center);r.DomUtil.setTransform(this._image,i,e)},_reset:function(){var t=this._image,e=new r.Bounds(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();r.DomUtil.setPosition(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){r.DomUtil.setOpacity(this._image,this.options.opacity)}}),r.imageOverlay=function(t,e,i){return new r.ImageOverlay(t,e,i)},r.Icon=r.Class.extend({initialize:function(t){r.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n=this._createImg(i,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(n,t),n},_setIconStyles:function(t,e){var i=this.options,n=i[e+"Size"];"number"==typeof n&&(n=[n,n]);var o=r.point(n),s=r.point("shadow"===e&&i.shadowAnchor||i.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),s&&(t.style.marginLeft=-s.x+"px",t.style.marginTop=-s.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,e){return e=e||i.createElement("img"),e.src=t,e},_getIconUrl:function(t){return r.Browser.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),r.icon=function(t){return new r.Icon(t)},r.Icon.Default=r.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){var e=t+"Url";if(this.options[e])return this.options[e];var i=r.Icon.Default.imagePath;if(!i)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return i+"/marker-"+t+(r.Browser.retina&&"icon"===t?"-2x":"")+".png"}}),r.Icon.Default.imagePath=function(){var t,e,n,o,r=i.getElementsByTagName("script"),s=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(t=0,e=r.length;e>t;t++)if(n=r[t].src||"",n.match(s))return o=n.split(s)[0],(o?o+"/":"")+"images"}(),r.Marker=r.Layer.extend({options:{icon:new r.Icon.Default,interactive:!0,draggable:!1,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",nonBubblingEvents:["click","dblclick","mouseover","mouseout","contextmenu"]},initialize:function(t,e){r.setOptions(this,e),this._latlng=r.latLng(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=r.latLng(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),n=!1;i!==this._icon&&(this._icon&&this._removeIcon(),n=!0,t.title&&(i.title=t.title),t.alt&&(i.alt=t.alt)),r.DomUtil.addClass(i,e),t.keyboard&&(i.tabIndex="0"),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=t.icon.createShadow(this._shadow),s=!1;o!==this._shadow&&(this._removeShadow(),s=!0),o&&r.DomUtil.addClass(o,e),this._shadow=o,t.opacity<1&&this._updateOpacity(),n&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&s&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),r.DomUtil.remove(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&r.DomUtil.remove(this._shadow),this._shadow=null},_setPos:function(t){r.DomUtil.setPosition(this._icon,t),this._shadow&&r.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(r.DomUtil.addClass(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),r.Handler.MarkerDrag)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new r.Handler.MarkerDrag(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;r.DomUtil.setOpacity(this._icon,t),this._shadow&&r.DomUtil.setOpacity(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),r.marker=function(t,e){return new r.Marker(t,e)},r.DivIcon=r.Icon.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:i.createElement("div"),n=this.options;if(e.innerHTML=n.html!==!1?n.html:"",n.bgPos){var o=r.point(n.bgPos);e.style.backgroundPosition=-o.x+"px "+-o.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}}),r.divIcon=function(t){return new r.DivIcon(t)},r.Map.mergeOptions({closePopupOnClick:!0}),r.DivOverlay=r.Layer.extend({options:{offset:[0,7],zoomAnimation:!0,className:"",pane:"popupPane"},initialize:function(t,e){r.setOptions(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&this.options.zoomAnimation,this._container||this._initLayout(),t._fadeAnimated&&r.DomUtil.setOpacity(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&r.DomUtil.setOpacity(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(r.DomUtil.setOpacity(this._container,0),this._removeTimeout=setTimeout(r.bind(r.DomUtil.remove,r.DomUtil,this._container),200)):r.DomUtil.remove(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=r.latLng(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&r.DomUtil.toFront(this._container),this},bringToBack:function(){return this._map&&r.DomUtil.toBack(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=r.point(this.options.offset),i=this._getAnchor();this._zoomAnimated?r.DomUtil.setPosition(this._container,t.add(i)):e=e.add(t).add(i);var n=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=n+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}}),r.Popup=r.DivOverlay.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){r.DivOverlay.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source.on("preclick",r.DomEvent.stopPropagation))},onRemove:function(t){r.DivOverlay.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source.off("preclick",r.DomEvent.stopPropagation))},getEvents:function(){var t=r.DivOverlay.prototype.getEvents.call(this);return("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=r.DomUtil.create("div",t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"));if(this.options.closeButton){var i=this._closeButton=r.DomUtil.create("a",t+"-close-button",e);i.href="#close",i.innerHTML="&#215;",r.DomEvent.on(i,"click",this._onCloseButtonClick,this)}var n=this._wrapper=r.DomUtil.create("div",t+"-content-wrapper",e);this._contentNode=r.DomUtil.create("div",t+"-content",n),r.DomEvent.disableClickPropagation(n).disableScrollPropagation(this._contentNode).on(n,"contextmenu",r.DomEvent.stopPropagation),this._tipContainer=r.DomUtil.create("div",t+"-tip-container",e),this._tip=r.DomUtil.create("div",t+"-tip",this._tipContainer)},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var n=t.offsetHeight,o=this.options.maxHeight,s="leaflet-popup-scrolled";o&&n>o?(e.height=o+"px",r.DomUtil.addClass(t,s)):r.DomUtil.removeClass(t,s),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),i=this._getAnchor();r.DomUtil.setPosition(this._container,e.add(i))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var t=this._map,e=this._container.offsetHeight,i=this._containerWidth,n=new r.Point(this._containerLeft,-e-this._containerBottom);this._zoomAnimated&&n._add(r.DomUtil.getPosition(this._container));var o=t.layerPointToContainerPoint(n),s=r.point(this.options.autoPanPadding),a=r.point(this.options.autoPanPaddingTopLeft||s),l=r.point(this.options.autoPanPaddingBottomRight||s),u=t.getSize(),h=0,c=0;o.x+i+l.x>u.x&&(h=o.x+i-u.x+l.x),o.x-h-a.x<0&&(h=o.x-a.x),o.y+e+l.y>u.y&&(c=o.y+e-u.y+l.y),o.y-c-a.y<0&&(c=o.y-a.y),(h||c)&&t.fire("autopanstart").panBy([h,c])}},_onCloseButtonClick:function(t){this._close(),r.DomEvent.stop(t)},_getAnchor:function(){return r.point(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),r.popup=function(t,e){return new r.Popup(t,e)},r.Map.include({openPopup:function(t,e,i){return t instanceof r.Popup||(t=new r.Popup(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),r.Layer.include({bindPopup:function(t,e){return t instanceof r.Popup?(r.setOptions(t,e),this._popup=t,t._source=this):((!this._popup||e)&&(this._popup=new r.Popup(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),
this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof r.Layer||(e=t,t=this),t instanceof r.FeatureGroup)for(var i in this._layers){t=this._layers[i];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;if(this._popup&&this._map)return r.DomEvent.stop(t),e instanceof r.Path?void this.openPopup(t.layer||t.target,t.latlng):void(this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),r.Marker.include({_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]}}),r.Tooltip=r.DivOverlay.extend({options:{pane:"tooltipPane",offset:[6,-6],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){r.DivOverlay.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){r.DivOverlay.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=r.DomUtil.create("div",e)},_updateLayout:function(){},_adjustPan:function(){},_updatePosition:function(){var t=this._map,e=t.latLngToLayerPoint(this._latlng),i=this._container,n=t.latLngToContainerPoint(t.getCenter()),o=t.layerPointToContainerPoint(e),s=this.options.direction,a=i.offsetWidth,l=i.offsetHeight,u=r.point(this.options.offset),h=this._getAnchor();"top"===s?e=e.add(r.point(-a/2,-l+u.y+h.y)):"bottom"===s?e=e.subtract(r.point(a/2,u.y)):"center"===s?e=e.subtract(r.point(a/2,l/2-h.y)):"right"===s||"auto"===s&&o.x<n.x?(s="right",e=e.add([u.x+h.x,h.y-l/2])):(s="left",e=e.subtract(r.point(u.x+a+h.x,l/2-h.y))),r.DomUtil.removeClass(i,"leaflet-tooltip-right"),r.DomUtil.removeClass(i,"leaflet-tooltip-left"),r.DomUtil.removeClass(i,"leaflet-tooltip-top"),r.DomUtil.removeClass(i,"leaflet-tooltip-bottom"),r.DomUtil.addClass(i,"leaflet-tooltip-"+s),r.DomUtil.setPosition(i,e)},setOpacity:function(t){this.options.opacity=t,this._container&&r.DomUtil.setOpacity(this._container,t)},_animateZoom:function(t){var e,i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this.options.offset&&(e=r.point(this.options.offset),i=i.add(e)),r.DomUtil.setPosition(this._container,i)},_getAnchor:function(){return r.point(this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),r.tooltip=function(t,e){return new r.Tooltip(t,e)},r.Map.include({openTooltip:function(t,e,i){return t instanceof r.Tooltip||(t=new r.Tooltip(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),r.Layer.include({bindTooltip:function(t,e){return t instanceof r.Tooltip?(r.setOptions(t,e),this._tooltip=t,t._source=this):((!this._tooltip||e)&&(this._tooltip=r.tooltip(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent||(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),r.Browser.touch&&(i.click=this._openTooltip)),this[e](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){if(t instanceof r.Layer||(e=t,t=this),t instanceof r.FeatureGroup)for(var i in this._layers){t=this._layers[i];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(r.DomUtil.addClass(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&(r.DomUtil.removeClass(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:n)},_moveTooltip:function(t){var e,i,n=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),i=this._map.containerPointToLayerPoint(e),n=this._map.layerPointToLatLng(i)),this._tooltip.setLatLng(n)}}),r.Marker.include({_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor||[0,0]}}),r.LayerGroup=r.Layer.extend({initialize:function(t){this._layers={};var e,i;if(t)for(e=0,i=t.length;i>e;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){for(var t in this._layers)this.removeLayer(this._layers[t]);return this},invoke:function(t){var e,i,n=Array.prototype.slice.call(arguments,1);for(e in this._layers)i=this._layers[e],i[t]&&i[t].apply(i,n);return this},onAdd:function(t){for(var e in this._layers)t.addLayer(this._layers[e])},onRemove:function(t){for(var e in this._layers)t.removeLayer(this._layers[e])},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return r.stamp(t)}}),r.layerGroup=function(t){return new r.LayerGroup(t)},r.FeatureGroup=r.LayerGroup.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),r.LayerGroup.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),r.LayerGroup.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new r.LatLngBounds;for(var e in this._layers){var i=this._layers[e];t.extend(i.getBounds?i.getBounds():i.getLatLng())}return t}}),r.featureGroup=function(t){return new r.FeatureGroup(t)},r.Renderer=r.Layer.extend({options:{padding:.1},initialize:function(t){r.setOptions(this,t),r.stamp(this)},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&r.DomUtil.addClass(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update()},onRemove:function(){r.DomUtil.remove(this._container)},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),n=r.DomUtil.getPosition(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),s=this._map.project(this._center,e),a=this._map.project(t,e),l=a.subtract(s),u=o.multiplyBy(-i).add(n).add(o).subtract(l);r.Browser.any3d?r.DomUtil.setTransform(this._container,u,i):r.DomUtil.setPosition(this._container,u)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom)},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new r.Bounds(i,i.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),r.Map.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this.options.preferCanvas&&r.canvas()||r.svg()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||t===n)return!1;var e=this._paneRenderers[t];return e===n&&(e=r.SVG&&r.svg({pane:t})||r.Canvas&&r.canvas({pane:t}),this._paneRenderers[t]=e),e}}),r.Path=r.Layer.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},getEvents:function(){return{zoomend:this._project,moveend:this._update,viewreset:this._reset}},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return r.setOptions(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(r.Browser.touch?10:0)}}),r.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=this._reducePoints(t,i),t=this._simplifyDP(t,i)},pointToSegmentDistance:function(t,e,i){return Math.sqrt(this._sqClosestPointOnSegment(t,e,i,!0))},closestPointOnSegment:function(t,e,i){return this._sqClosestPointOnSegment(t,e,i)},_simplifyDP:function(t,e){var i=t.length,o=typeof Uint8Array!=n+""?Uint8Array:Array,r=new o(i);r[0]=r[i-1]=1,this._simplifyDPStep(t,r,e,0,i-1);var s,a=[];for(s=0;i>s;s++)r[s]&&a.push(t[s]);return a},_simplifyDPStep:function(t,e,i,n,o){var r,s,a,l=0;for(s=n+1;o-1>=s;s++)a=this._sqClosestPointOnSegment(t[s],t[n],t[o],!0),a>l&&(r=s,l=a);l>i&&(e[r]=1,this._simplifyDPStep(t,e,i,n,r),this._simplifyDPStep(t,e,i,r,o))},_reducePoints:function(t,e){for(var i=[t[0]],n=1,o=0,r=t.length;r>n;n++)this._sqDist(t[n],t[o])>e&&(i.push(t[n]),o=n);return r-1>o&&i.push(t[r-1]),i},clipSegment:function(t,e,i,n,o){var r,s,a,l=n?this._lastCode:this._getBitCode(t,i),u=this._getBitCode(e,i);for(this._lastCode=u;;){if(!(l|u))return[t,e];if(l&u)return!1;r=l||u,s=this._getEdgeIntersection(t,e,r,i,o),a=this._getBitCode(s,i),r===l?(t=s,l=a):(e=s,u=a)}},_getEdgeIntersection:function(t,e,i,n,o){var s,a,l=e.x-t.x,u=e.y-t.y,h=n.min,c=n.max;return 8&i?(s=t.x+l*(c.y-t.y)/u,a=c.y):4&i?(s=t.x+l*(h.y-t.y)/u,a=h.y):2&i?(s=c.x,a=t.y+u*(c.x-t.x)/l):1&i&&(s=h.x,a=t.y+u*(h.x-t.x)/l),new r.Point(s,a,o)},_getBitCode:function(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i},_sqDist:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n},_sqClosestPointOnSegment:function(t,e,i,n){var o,s=e.x,a=e.y,l=i.x-s,u=i.y-a,h=l*l+u*u;return h>0&&(o=((t.x-s)*l+(t.y-a)*u)/h,o>1?(s=i.x,a=i.y):o>0&&(s+=l*o,a+=u*o)),l=t.x-s,u=t.y-a,n?l*l+u*u:new r.Point(s,a)}},r.Polyline=r.Path.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){r.setOptions(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,i,n=1/0,o=null,s=r.LineUtil._sqClosestPointOnSegment,a=0,l=this._parts.length;l>a;a++)for(var u=this._parts[a],h=1,c=u.length;c>h;h++){e=u[h-1],i=u[h];var p=s(t,e,i,!0);n>p&&(n=p,o=s(t,e,i))}return o&&(o.distance=Math.sqrt(n)),o},getCenter:function(){var t,e,i,n,o,r,s,a=this._rings[0],l=a.length;if(!l)return null;for(t=0,e=0;l-1>t;t++)e+=a[t].distanceTo(a[t+1])/2;if(0===e)return this._map.layerPointToLatLng(a[0]);for(t=0,n=0;l-1>t;t++)if(o=a[t],r=a[t+1],i=o.distanceTo(r),n+=i,n>e)return s=(n-e)/i,this._map.layerPointToLatLng([r.x-s*(r.x-o.x),r.y-s*(r.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=r.latLng(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new r.LatLngBounds,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return r.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],i=r.Polyline._flat(t),n=0,o=t.length;o>n;n++)i?(e[n]=r.latLng(t[n]),this._bounds.extend(e[n])):e[n]=this._convertLatLngs(t[n]);return e},_project:function(){var t=new r.Bounds;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),i=new r.Point(e,e);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(i),t.max._add(i),this._pxBounds=t)},_projectLatlngs:function(t,e,i){var n,o,s=t[0]instanceof r.LatLng,a=t.length;if(s){for(o=[],n=0;a>n;n++)o[n]=this._map.latLngToLayerPoint(t[n]),i.extend(o[n]);e.push(o)}else for(n=0;a>n;n++)this._projectLatlngs(t[n],e,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);var e,i,n,o,s,a,l,u=this._parts;for(e=0,n=0,o=this._rings.length;o>e;e++)for(l=this._rings[e],i=0,s=l.length;s-1>i;i++)a=r.LineUtil.clipSegment(l[i],l[i+1],t,i,!0),a&&(u[n]=u[n]||[],u[n].push(a[0]),(a[1]!==l[i+1]||i===s-2)&&(u[n].push(a[1]),n++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,n=t.length;n>i;i++)t[i]=r.LineUtil.simplify(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)}}),r.polyline=function(t,e){return new r.Polyline(t,e)},r.Polyline._flat=function(t){return!r.Util.isArray(t[0])||"object"!=typeof t[0][0]&&"undefined"!=typeof t[0][0]},r.PolyUtil={},r.PolyUtil.clipPolygon=function(t,e,i){var n,o,s,a,l,u,h,c,p,d=[1,4,2,8],f=r.LineUtil;for(o=0,h=t.length;h>o;o++)t[o]._code=f._getBitCode(t[o],e);for(a=0;4>a;a++){for(c=d[a],n=[],o=0,h=t.length,s=h-1;h>o;s=o++)l=t[o],u=t[s],l._code&c?u._code&c||(p=f._getEdgeIntersection(u,l,c,e,i),p._code=f._getBitCode(p,e),n.push(p)):(u._code&c&&(p=f._getEdgeIntersection(u,l,c,e,i),p._code=f._getBitCode(p,e),n.push(p)),n.push(l));t=n}return t},r.Polygon=r.Polyline.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){var t,e,i,n,o,r,s,a,l,u=this._rings[0],h=u.length;if(!h)return null;for(r=s=a=0,t=0,e=h-1;h>t;e=t++)i=u[t],n=u[e],o=i.y*n.x-n.y*i.x,s+=(i.x+n.x)*o,a+=(i.y+n.y)*o,r+=3*o;return l=0===r?u[0]:[s/r,a/r],this._map.layerPointToLatLng(l)},_convertLatLngs:function(t){var e=r.Polyline.prototype._convertLatLngs.call(this,t),i=e.length;return i>=2&&e[0]instanceof r.LatLng&&e[0].equals(e[i-1])&&e.pop(),e},_setLatLngs:function(t){r.Polyline.prototype._setLatLngs.call(this,t),r.Polyline._flat(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return r.Polyline._flat(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,i=new r.Point(e,e);if(t=new r.Bounds(t.min.subtract(i),t.max.add(i)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);for(var n,o=0,s=this._rings.length;s>o;o++)n=r.PolyUtil.clipPolygon(this._rings[o],t,!0),n.length&&this._parts.push(n)}},_updatePath:function(){this._renderer._updatePoly(this,!0)}}),r.polygon=function(t,e){return new r.Polygon(t,e)},r.Rectangle=r.Polygon.extend({initialize:function(t,e){r.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=r.latLngBounds(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}}),r.rectangle=function(t,e){return new r.Rectangle(t,e)},r.CircleMarker=r.Path.extend({options:{fill:!0,radius:10},initialize:function(t,e){r.setOptions(this,e),this._latlng=r.latLng(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=r.latLng(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return r.Path.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),n=[t+i,e+i];this._pxBounds=new r.Bounds(this._point.subtract(n),this._point.add(n))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)}}),r.circleMarker=function(t,e){return new r.CircleMarker(t,e)},r.Circle=r.CircleMarker.extend({initialize:function(t,e,i){if("number"==typeof e&&(e=r.extend({},i,{radius:e})),r.setOptions(this,e),this._latlng=r.latLng(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new r.LatLngBounds(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:r.Path.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,i=this._map,n=i.options.crs;if(n.distance===r.CRS.Earth.distance){var o=Math.PI/180,s=this._mRadius/r.CRS.Earth.R/o,a=i.project([e+s,t]),l=i.project([e-s,t]),u=a.add(l).divideBy(2),h=i.unproject(u).lat,c=Math.acos((Math.cos(s*o)-Math.sin(e*o)*Math.sin(h*o))/(Math.cos(e*o)*Math.cos(h*o)))/o;(isNaN(c)||0===c)&&(c=s/Math.cos(Math.PI/180*e)),this._point=u.subtract(i.getPixelOrigin()),this._radius=isNaN(c)?0:Math.max(Math.round(u.x-i.project([h,t-c]).x),1),this._radiusY=Math.max(Math.round(u.y-a.y),1)}else{var p=n.unproject(n.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(p).x}this._updateBounds()}}),r.circle=function(t,e,i){return new r.Circle(t,e,i)},r.SVG=r.Renderer.extend({getEvents:function(){var t=r.Renderer.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=r.SVG.create("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=r.SVG.create("g"),this._container.appendChild(this._rootGroup)},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){r.Renderer.prototype._update.call(this);var t=this._bounds,e=t.getSize(),i=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),r.DomUtil.setPosition(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" "))}},_initPath:function(t){var e=t._path=r.SVG.create("path");t.options.className&&r.DomUtil.addClass(e,t.options.className),t.options.interactive&&r.DomUtil.addClass(e,"leaflet-interactive"),this._updateStyle(t)},_addPath:function(t){this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){r.DomUtil.remove(t._path),t.removeInteractiveTarget(t._path)},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,i=t.options;e&&(i.stroke?(e.setAttribute("stroke",i.color),e.setAttribute("stroke-opacity",i.opacity),e.setAttribute("stroke-width",i.weight),e.setAttribute("stroke-linecap",i.lineCap),e.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?e.setAttribute("stroke-dasharray",i.dashArray):e.removeAttribute("stroke-dasharray"),i.dashOffset?e.setAttribute("stroke-dashoffset",i.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),i.fill?(e.setAttribute("fill",i.fillColor||i.color),e.setAttribute("fill-opacity",i.fillOpacity),e.setAttribute("fill-rule",i.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,r.SVG.pointsToPath(t._parts,e))},_updateCircle:function(t){var e=t._point,i=t._radius,n=t._radiusY||i,o="a"+i+","+n+" 0 1,0 ",r=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+o+2*i+",0 "+o+2*-i+",0 ";this._setPath(t,r)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){r.DomUtil.toFront(t._path)},_bringToBack:function(t){r.DomUtil.toBack(t._path)}}),r.extend(r.SVG,{create:function(t){return i.createElementNS("http://www.w3.org/2000/svg",t)},pointsToPath:function(t,e){var i,n,o,s,a,l,u="";for(i=0,o=t.length;o>i;i++){for(a=t[i],n=0,s=a.length;s>n;n++)l=a[n],u+=(n?"L":"M")+l.x+" "+l.y;u+=e?r.Browser.svg?"z":"x":""}return u||"M0 0"}}),r.Browser.svg=!(!i.createElementNS||!r.SVG.create("svg").createSVGRect),r.svg=function(t){return r.Browser.svg||r.Browser.vml?new r.SVG(t):null},r.Browser.vml=!r.Browser.svg&&function(){try{var t=i.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(n){return!1}}(),r.SVG.include(r.Browser.vml?{_initContainer:function(){this._container=r.DomUtil.create("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||r.Renderer.prototype._update.call(this)},_initPath:function(t){var e=t._container=r.SVG.create("shape");r.DomUtil.addClass(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=r.SVG.create("path"),e.appendChild(t._path),this._updateStyle(t)},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;r.DomUtil.remove(e),t.removeInteractiveTarget(e)},_updateStyle:function(t){var e=t._stroke,i=t._fill,n=t.options,o=t._container;o.stroked=!!n.stroke,o.filled=!!n.fill,n.stroke?(e||(e=t._stroke=r.SVG.create("stroke")),o.appendChild(e),e.weight=n.weight+"px",e.color=n.color,e.opacity=n.opacity,e.dashStyle=n.dashArray?r.Util.isArray(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):"",e.endcap=n.lineCap.replace("butt","flat"),e.joinstyle=n.lineJoin):e&&(o.removeChild(e),t._stroke=null),n.fill?(i||(i=t._fill=r.SVG.create("fill")),o.appendChild(i),i.color=n.fillColor||n.color,i.opacity=n.fillOpacity):i&&(o.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),n=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+n+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){r.DomUtil.toFront(t._container)},_bringToBack:function(t){r.DomUtil.toBack(t._container)}}:{}),r.Browser.vml&&(r.SVG.create=function(){try{return i.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return i.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return i.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}()),r.Canvas=r.Renderer.extend({onAdd:function(){r.Renderer.prototype.onAdd.call(this),this._layers=this._layers||{},this._draw()},_initContainer:function(){var t=this._container=i.createElement("canvas");r.DomEvent.on(t,"mousemove",r.Util.throttle(this._onMouseMove,32,this),this).on(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this).on(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},r.Renderer.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),n=r.Browser.retina?2:1;r.DomUtil.setPosition(e,t.min),e.width=n*i.x,e.height=n*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",r.Browser.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y)}},_initPath:function(t){this._updateDashArray(t),this._layers[r.stamp(t)]=t},_addPath:r.Util.falseFn,_removePath:function(t){t._removed=!0,this._requestRedraw(t)},_updatePath:function(t){this._redrawBounds=t._pxBounds,this._draw(!0),t._project(),t._update(),this._draw(),this._redrawBounds=null},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(t.options.dashArray){var e,i=t.options.dashArray.split(","),n=[];for(e=0;e<i.length;e++)n.push(Number(i[e]));t.options._dashArray=n}},_requestRedraw:function(t){if(this._map){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new r.Bounds,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e])),this._redrawRequest=this._redrawRequest||r.Util.requestAnimFrame(this._redraw,this)}},_redraw:function(){this._redrawRequest=null,this._draw(!0),this._draw(),this._redrawBounds=null},_draw:function(t){this._clear=t;var e,i=this._redrawBounds;this._ctx.save(),i&&(this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,i.max.x-i.min.x,i.max.y-i.min.y),this._ctx.clip());for(var n in this._layers)e=this._layers[n],(!i||e._pxBounds&&e._pxBounds.intersects(i))&&e._updatePath(),t&&e._removed&&(delete e._removed,delete this._layers[n]);this._ctx.restore()},_updatePoly:function(t,e){var i,n,o,r,s=t._parts,a=s.length,l=this._ctx;if(a){for(this._drawnLayers[t._leaflet_id]=t,l.beginPath(),l.setLineDash&&l.setLineDash(t.options&&t.options._dashArray||[]),i=0;a>i;i++){for(n=0,o=s[i].length;o>n;n++)r=s[i][n],l[n?"lineTo":"moveTo"](r.x,r.y);e&&l.closePath()}this._fillStroke(l,t)}},_updateCircle:function(t){if(!t._empty()){var e=t._point,i=this._ctx,n=t._radius,o=(t._radiusY||n)/n;this._drawnLayers[t._leaflet_id]=t,1!==o&&(i.save(),i.scale(1,o)),i.beginPath(),i.arc(e.x,e.y/o,n,0,2*Math.PI,!1),1!==o&&i.restore(),this._fillStroke(i,t)}},_fillStroke:function(t,e){var i=this._clear,n=e.options;t.globalCompositeOperation=i?"destination-out":"source-over",n.fill&&(t.globalAlpha=i?1:n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.globalAlpha=i?1:n.opacity,e._prevWeight=t.lineWidth=i?e._prevWeight+1:n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){var e,i=this._map.mouseEventToLayerPoint(t),n=[];for(var o in this._layers)e=this._layers[o],e.options.interactive&&e._containsPoint(i)&&!this._map._draggableMoved(e)&&(r.DomEvent._fakeStop(t),n.push(e));n.length&&this._fireEvent(n,t)},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseOut(t,e),this._handleMouseHover(t,e)}},_handleMouseOut:function(t,e){var i=this._hoveredLayer;!i||"mouseout"!==t.type&&i._containsPoint(e)||(r.DomUtil.removeClass(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){var i,n;for(i in this._drawnLayers)n=this._drawnLayers[i],n.options.interactive&&n._containsPoint(e)&&(r.DomUtil.addClass(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseover"),this._hoveredLayer=n);this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_bringToFront:r.Util.falseFn,_bringToBack:r.Util.falseFn}),r.Browser.canvas=function(){return!!i.createElement("canvas").getContext}(),r.canvas=function(t){return r.Browser.canvas?new r.Canvas(t):null},r.Polyline.prototype._containsPoint=function(t,e){var i,n,o,s,a,l,u=this._clickTolerance();if(!this._pxBounds.contains(t))return!1;for(i=0,s=this._parts.length;s>i;i++)for(l=this._parts[i],n=0,a=l.length,o=a-1;a>n;o=n++)if((e||0!==n)&&r.LineUtil.pointToSegmentDistance(t,l[o],l[n])<=u)return!0;return!1},r.Polygon.prototype._containsPoint=function(t){var e,i,n,o,s,a,l,u,h=!1;if(!this._pxBounds.contains(t))return!1;for(o=0,l=this._parts.length;l>o;o++)for(e=this._parts[o],s=0,u=e.length,a=u-1;u>s;a=s++)i=e[s],n=e[a],i.y>t.y!=n.y>t.y&&t.x<(n.x-i.x)*(t.y-i.y)/(n.y-i.y)+i.x&&(h=!h);return h||r.Polyline.prototype._containsPoint.call(this,t,!0)},r.CircleMarker.prototype._containsPoint=function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()},r.GeoJSON=r.FeatureGroup.extend({initialize:function(t,e){r.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,i,n,o=r.Util.isArray(t)?t:t.features;if(o){for(e=0,i=o.length;i>e;e++)n=o[e],(n.geometries||n.geometry||n.features||n.coordinates)&&this.addData(n);return this}var s=this.options;if(s.filter&&!s.filter(t))return this;var a=r.GeoJSON.geometryToLayer(t,s);return a?(a.feature=r.GeoJSON.asFeature(t),a.defaultOptions=a.options,this.resetStyle(a),s.onEachFeature&&s.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return t.options=r.Util.extend({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),r.extend(r.GeoJSON,{geometryToLayer:function(t,e){var i,n,o,s,a="Feature"===t.type?t.geometry:t,l=a?a.coordinates:null,u=[],h=e&&e.pointToLayer,c=e&&e.coordsToLatLng||this.coordsToLatLng;if(!l&&!a)return null;switch(a.type){case"Point":return i=c(l),h?h(t,i):new r.Marker(i);case"MultiPoint":for(o=0,s=l.length;s>o;o++)i=c(l[o]),u.push(h?h(t,i):new r.Marker(i));return new r.FeatureGroup(u);case"LineString":case"MultiLineString":return n=this.coordsToLatLngs(l,"LineString"===a.type?0:1,c),new r.Polyline(n,e);case"Polygon":case"MultiPolygon":return n=this.coordsToLatLngs(l,"Polygon"===a.type?1:2,c),new r.Polygon(n,e);case"GeometryCollection":for(o=0,s=a.geometries.length;s>o;o++){var p=this.geometryToLayer({geometry:a.geometries[o],type:"Feature",properties:t.properties},e);p&&u.push(p)}return new r.FeatureGroup(u);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t){return new r.LatLng(t[1],t[0],t[2])},coordsToLatLngs:function(t,e,i){for(var n,o=[],r=0,s=t.length;s>r;r++)n=e?this.coordsToLatLngs(t[r],e-1,i):(i||this.coordsToLatLng)(t[r]),o.push(n);return o},latLngToCoords:function(t){
return t.alt!==n?[t.lng,t.lat,t.alt]:[t.lng,t.lat]},latLngsToCoords:function(t,e,i){for(var n=[],o=0,s=t.length;s>o;o++)n.push(e?r.GeoJSON.latLngsToCoords(t[o],e-1,i):r.GeoJSON.latLngToCoords(t[o]));return!e&&i&&n.push(n[0]),n},getFeature:function(t,e){return t.feature?r.extend({},t.feature,{geometry:e}):r.GeoJSON.asFeature(e)},asFeature:function(t){return"Feature"===t.type?t:{type:"Feature",properties:{},geometry:t}}});var a={toGeoJSON:function(){return r.GeoJSON.getFeature(this,{type:"Point",coordinates:r.GeoJSON.latLngToCoords(this.getLatLng())})}};r.Marker.include(a),r.Circle.include(a),r.CircleMarker.include(a),r.Polyline.prototype.toGeoJSON=function(){var t=!r.Polyline._flat(this._latlngs),e=r.GeoJSON.latLngsToCoords(this._latlngs,t?1:0);return r.GeoJSON.getFeature(this,{type:(t?"Multi":"")+"LineString",coordinates:e})},r.Polygon.prototype.toGeoJSON=function(){var t=!r.Polyline._flat(this._latlngs),e=t&&!r.Polyline._flat(this._latlngs[0]),i=r.GeoJSON.latLngsToCoords(this._latlngs,e?2:t?1:0,!0);return t||(i=[i]),r.GeoJSON.getFeature(this,{type:(e?"Multi":"")+"Polygon",coordinates:i})},r.LayerGroup.include({toMultiPoint:function(){var t=[];return this.eachLayer(function(e){t.push(e.toGeoJSON().geometry.coordinates)}),r.GeoJSON.getFeature(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint();var e="GeometryCollection"===t,i=[];return this.eachLayer(function(t){if(t.toGeoJSON){var n=t.toGeoJSON();i.push(e?n.geometry:r.GeoJSON.asFeature(n))}}),e?r.GeoJSON.getFeature(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}}),r.geoJSON=function(t,e){return new r.GeoJSON(t,e)},r.geoJson=r.geoJSON;var l="_leaflet_events";r.DomEvent={on:function(t,e,i,n){if("object"==typeof e)for(var o in e)this._on(t,o,e[o],i);else{e=r.Util.splitWords(e);for(var s=0,a=e.length;a>s;s++)this._on(t,e[s],i,n)}return this},off:function(t,e,i,n){if("object"==typeof e)for(var o in e)this._off(t,o,e[o],i);else{e=r.Util.splitWords(e);for(var s=0,a=e.length;a>s;s++)this._off(t,e[s],i,n)}return this},_on:function(e,i,n,o){var s=i+r.stamp(n)+(o?"_"+r.stamp(o):"");if(e[l]&&e[l][s])return this;var a=function(i){return n.call(o||e,i||t.event)},u=a;return r.Browser.pointer&&0===i.indexOf("touch")?this.addPointerListener(e,i,a,s):r.Browser.touch&&"dblclick"===i&&this.addDoubleTapListener?this.addDoubleTapListener(e,a,s):"addEventListener"in e?"mousewheel"===i?e.addEventListener("onwheel"in e?"wheel":"mousewheel",a,!1):"mouseenter"===i||"mouseleave"===i?(a=function(i){i=i||t.event,r.DomEvent._isExternalTarget(e,i)&&u(i)},e.addEventListener("mouseenter"===i?"mouseover":"mouseout",a,!1)):("click"===i&&r.Browser.android&&(a=function(t){return r.DomEvent._filterClick(t,u)}),e.addEventListener(i,a,!1)):"attachEvent"in e&&e.attachEvent("on"+i,a),e[l]=e[l]||{},e[l][s]=a,this},_off:function(t,e,i,n){var o=e+r.stamp(i)+(n?"_"+r.stamp(n):""),s=t[l]&&t[l][o];return s?(r.Browser.pointer&&0===e.indexOf("touch")?this.removePointerListener(t,e,o):r.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,o):"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",s,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,s,!1):"detachEvent"in t&&t.detachEvent("on"+e,s),t[l][o]=null,this):this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,r.DomEvent._skipped(t),this},disableScrollPropagation:function(t){return r.DomEvent.on(t,"mousewheel",r.DomEvent.stopPropagation)},disableClickPropagation:function(t){var e=r.DomEvent.stopPropagation;return r.DomEvent.on(t,r.Draggable.START.join(" "),e),r.DomEvent.on(t,{click:r.DomEvent._fakeStop,dblclick:e})},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return r.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){if(!e)return new r.Point(t.clientX,t.clientY);var i=e.getBoundingClientRect();return new r.Point(t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop)},_wheelPxFactor:r.Browser.win&&r.Browser.chrome?2:r.Browser.gecko?t.devicePixelRatio:1,getWheelDelta:function(t){return r.Browser.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/r.DomEvent._wheelPxFactor:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0},_skipEvents:{},_fakeStop:function(t){r.DomEvent._skipEvents[t.type]=!0},_skipped:function(t){var e=this._skipEvents[t.type];return this._skipEvents[t.type]=!1,e},_isExternalTarget:function(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(n){return!1}return i!==t},_filterClick:function(t,e){var i=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,n=r.DomEvent._lastClick&&i-r.DomEvent._lastClick;return n&&n>100&&500>n||t.target._simulatedClick&&!t._simulated?void r.DomEvent.stop(t):(r.DomEvent._lastClick=i,void e(t))}},r.DomEvent.addListener=r.DomEvent.on,r.DomEvent.removeListener=r.DomEvent.off,r.Draggable=r.Evented.extend({options:{clickTolerance:3},statics:{START:r.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,e,i){this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(r.DomEvent.on(this._dragStartTarget,r.Draggable.START.join(" "),this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(r.DomEvent.off(this._dragStartTarget,r.Draggable.START.join(" "),this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!(r.DomUtil.hasClass(this._element,"leaflet-zoom-anim")||r.Draggable._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||!this._enabled||(r.Draggable._dragging=!0,this._preventOutline&&r.DomUtil.preventOutline(this._element),r.DomUtil.disableImageDrag(),r.DomUtil.disableTextSelection(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t;this._startPoint=new r.Point(e.clientX,e.clientY),r.DomEvent.on(i,r.Draggable.MOVE[t.type],this._onMove,this).on(i,r.Draggable.END[t.type],this._onUp,this)}},_onMove:function(e){if(!e._simulated&&this._enabled){if(e.touches&&e.touches.length>1)return void(this._moved=!0);var n=e.touches&&1===e.touches.length?e.touches[0]:e,o=new r.Point(n.clientX,n.clientY),s=o.subtract(this._startPoint);(s.x||s.y)&&(Math.abs(s.x)+Math.abs(s.y)<this.options.clickTolerance||(r.DomEvent.preventDefault(e),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=r.DomUtil.getPosition(this._element).subtract(s),r.DomUtil.addClass(i.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,t.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),r.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(s),this._moving=!0,r.Util.cancelAnimFrame(this._animRequest),this._lastEvent=e,this._animRequest=r.Util.requestAnimFrame(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),r.DomUtil.setPosition(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){if(!t._simulated&&this._enabled){r.DomUtil.removeClass(i.body,"leaflet-dragging"),this._lastTarget&&(r.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var e in r.Draggable.MOVE)r.DomEvent.off(i,r.Draggable.MOVE[e],this._onMove,this).off(i,r.Draggable.END[e],this._onUp,this);r.DomUtil.enableImageDrag(),r.DomUtil.enableTextSelection(),this._moved&&this._moving&&(r.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,r.Draggable._dragging=!1}}}),r.Handler=r.Class.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}}),r.Map.mergeOptions({dragging:!0,inertia:!r.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0}),r.Map.Drag=r.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new r.Draggable(t._mapPane,t._container),this._draggable.on({down:this._onDown,dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}r.DomUtil.addClass(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){r.DomUtil.removeClass(this._map._container,"leaflet-grab"),r.DomUtil.removeClass(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDown:function(){this._map._stop()},_onDragStart:function(){var t=this._map;if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=r.latLngBounds(this._map.options.maxBounds);this._offsetLimit=r.bounds(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(e),e-this._times[0]>50&&(this._positions.shift(),this._times.shift())}this._map.fire("move",t).fire("drag",t)},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,o=(n-e+i)%t+e-i,r=(n+e+i)%t-e-i,s=Math.abs(o+i)<Math.abs(r+i)?o:r;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,i=e.options,n=!i.inertia||this._times.length<2;if(e.fire("dragend",t),n)e.fire("moveend");else{var o=this._lastPos.subtract(this._positions[0]),s=(this._lastTime-this._times[0])/1e3,a=i.easeLinearity,l=o.multiplyBy(a/s),u=l.distanceTo([0,0]),h=Math.min(i.inertiaMaxSpeed,u),c=l.multiplyBy(h/u),p=h/(i.inertiaDeceleration*a),d=c.multiplyBy(-p/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),r.Util.requestAnimFrame(function(){e.panBy(d,{duration:p,easeLinearity:a,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}}),r.Map.addInitHook("addHandler","dragging",r.Map.Drag),r.Map.mergeOptions({doubleClickZoom:!0}),r.Map.DoubleClickZoom=r.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),n=e.options.zoomDelta,o=t.originalEvent.shiftKey?i-n:i+n;"center"===e.options.doubleClickZoom?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}}),r.Map.addInitHook("addHandler","doubleClickZoom",r.Map.DoubleClickZoom),r.Map.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60}),r.Map.ScrollWheelZoom=r.Handler.extend({addHooks:function(){r.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){r.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=r.DomEvent.getWheelDelta(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var n=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r.bind(this._performZoom,this),n),r.DomEvent.stop(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var n=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(n))))/Math.LN2,r=i?Math.ceil(o/i)*i:o,s=t._limitZoom(e+(this._delta>0?r:-r))-e;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}}),r.Map.addInitHook("addHandler","scrollWheelZoom",r.Map.ScrollWheelZoom),r.extend(r.DomEvent,{_touchstart:r.Browser.msPointer?"MSPointerDown":r.Browser.pointer?"pointerdown":"touchstart",_touchend:r.Browser.msPointer?"MSPointerUp":r.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(t,e,i){function n(t){var e;if(e=r.Browser.pointer?r.DomEvent._pointersCount:t.touches.length,!(e>1)){var i=Date.now(),n=i-(s||i);a=t.touches?t.touches[0]:t,l=n>0&&u>=n,s=i}}function o(){if(l&&!a.cancelBubble){if(r.Browser.pointer){var t,i,n={};for(i in a)t=a[i],n[i]=t&&t.bind?t.bind(a):t;a=n}a.type="dblclick",e(a),s=null}}var s,a,l=!1,u=250,h="_leaflet_",c=this._touchstart,p=this._touchend;return t[h+c+i]=n,t[h+p+i]=o,t[h+"dblclick"+i]=e,t.addEventListener(c,n,!1),t.addEventListener(p,o,!1),r.Browser.edge||t.addEventListener("dblclick",e,!1),this},removeDoubleTapListener:function(t,e){var i="_leaflet_",n=t[i+this._touchstart+e],o=t[i+this._touchend+e],s=t[i+"dblclick"+e];return t.removeEventListener(this._touchstart,n,!1),t.removeEventListener(this._touchend,o,!1),r.Browser.edge||t.removeEventListener("dblclick",s,!1),this}}),r.extend(r.DomEvent,{POINTER_DOWN:r.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:r.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:r.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:r.Browser.msPointer?"MSPointerCancel":"pointercancel",TAG_WHITE_LIST:["INPUT","SELECT","OPTION"],_pointers:{},_pointersCount:0,addPointerListener:function(t,e,i,n){return"touchstart"===e?this._addPointerStart(t,i,n):"touchmove"===e?this._addPointerMove(t,i,n):"touchend"===e&&this._addPointerEnd(t,i,n),this},removePointerListener:function(t,e,i){var n=t["_leaflet_"+e+i];return"touchstart"===e?t.removeEventListener(this.POINTER_DOWN,n,!1):"touchmove"===e?t.removeEventListener(this.POINTER_MOVE,n,!1):"touchend"===e&&(t.removeEventListener(this.POINTER_UP,n,!1),t.removeEventListener(this.POINTER_CANCEL,n,!1)),this},_addPointerStart:function(t,e,n){var o=r.bind(function(t){if("mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(this.TAG_WHITE_LIST.indexOf(t.target.tagName)<0))return;r.DomEvent.preventDefault(t)}this._handlePointer(t,e)},this);if(t["_leaflet_touchstart"+n]=o,t.addEventListener(this.POINTER_DOWN,o,!1),!this._pointerDocListener){var s=r.bind(this._globalPointerUp,this);i.documentElement.addEventListener(this.POINTER_DOWN,r.bind(this._globalPointerDown,this),!0),i.documentElement.addEventListener(this.POINTER_MOVE,r.bind(this._globalPointerMove,this),!0),i.documentElement.addEventListener(this.POINTER_UP,s,!0),i.documentElement.addEventListener(this.POINTER_CANCEL,s,!0),this._pointerDocListener=!0}},_globalPointerDown:function(t){this._pointers[t.pointerId]=t,this._pointersCount++},_globalPointerMove:function(t){this._pointers[t.pointerId]&&(this._pointers[t.pointerId]=t)},_globalPointerUp:function(t){delete this._pointers[t.pointerId],this._pointersCount--},_handlePointer:function(t,e){t.touches=[];for(var i in this._pointers)t.touches.push(this._pointers[i]);t.changedTouches=[t],e(t)},_addPointerMove:function(t,e,i){var n=r.bind(function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&this._handlePointer(t,e)},this);t["_leaflet_touchmove"+i]=n,t.addEventListener(this.POINTER_MOVE,n,!1)},_addPointerEnd:function(t,e,i){var n=r.bind(function(t){this._handlePointer(t,e)},this);t["_leaflet_touchend"+i]=n,t.addEventListener(this.POINTER_UP,n,!1),t.addEventListener(this.POINTER_CANCEL,n,!1)}}),r.Map.mergeOptions({touchZoom:r.Browser.touch&&!r.Browser.android23,bounceAtZoomLimits:!0}),r.Map.TouchZoom=r.Handler.extend({addHooks:function(){r.DomUtil.addClass(this._map._container,"leaflet-touch-zoom"),r.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){r.DomUtil.removeClass(this._map._container,"leaflet-touch-zoom"),r.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(o)._divideBy(2))),this._startDist=n.distanceTo(o),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),r.DomEvent.on(i,"touchmove",this._onTouchMove,this).on(i,"touchend",this._onTouchEnd,this),r.DomEvent.preventDefault(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]),o=i.distanceTo(n)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&1>o||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var s=i._add(n)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===s.x&&0===s.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(e._moveStart(!0),this._moved=!0),r.Util.cancelAnimFrame(this._animRequest);var a=r.bind(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=r.Util.requestAnimFrame(a,this,!0),r.DomEvent.preventDefault(t)}},_onTouchEnd:function(){return this._moved&&this._zooming?(this._zooming=!1,r.Util.cancelAnimFrame(this._animRequest),r.DomEvent.off(i,"touchmove",this._onTouchMove).off(i,"touchend",this._onTouchEnd),void(this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.snapZoom):this._map._resetView(this._center,this._map._limitZoom(this._zoom)))):void(this._zooming=!1)}}),r.Map.addInitHook("addHandler","touchZoom",r.Map.TouchZoom),r.Map.mergeOptions({tap:!0,tapTolerance:15}),r.Map.Tap=r.Handler.extend({addHooks:function(){r.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){r.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(r.DomEvent.preventDefault(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new r.Point(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&r.DomUtil.addClass(n,"leaflet-active"),this._holdTimeout=setTimeout(r.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),r.DomEvent.on(i,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),r.DomEvent.off(i,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&r.DomUtil.removeClass(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new r.Point(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(e,n){var o=i.createEvent("MouseEvents");o._simulated=!0,n.target._simulatedClick=!0,o.initMouseEvent(e,!0,!0,t,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),n.target.dispatchEvent(o)}}),r.Browser.touch&&!r.Browser.pointer&&r.Map.addInitHook("addHandler","tap",r.Map.Tap),r.Map.mergeOptions({boxZoom:!0}),r.Map.BoxZoom=r.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane},addHooks:function(){r.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){r.DomEvent.off(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_resetState:function(){this._moved=!1},_onMouseDown:function(t){return!t.shiftKey||1!==t.which&&1!==t.button?!1:(this._resetState(),r.DomUtil.disableTextSelection(),r.DomUtil.disableImageDrag(),this._startPoint=this._map.mouseEventToContainerPoint(t),void r.DomEvent.on(i,{contextmenu:r.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this))},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=r.DomUtil.create("div","leaflet-zoom-box",this._container),r.DomUtil.addClass(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new r.Bounds(this._point,this._startPoint),i=e.getSize();r.DomUtil.setPosition(this._box,e.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(r.DomUtil.remove(this._box),r.DomUtil.removeClass(this._container,"leaflet-crosshair")),r.DomUtil.enableTextSelection(),r.DomUtil.enableImageDrag(),r.DomEvent.off(i,{contextmenu:r.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){setTimeout(r.bind(this._resetState,this),0);var e=new r.LatLngBounds(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),r.Map.addInitHook("addHandler","boxZoom",r.Map.BoxZoom),r.Map.mergeOptions({keyboard:!0,keyboardPanDelta:80}),r.Map.Keyboard=r.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),r.DomEvent.on(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),r.DomEvent.off(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=i.body,n=i.documentElement,o=e.scrollTop||n.scrollTop,r=e.scrollLeft||n.scrollLeft;this._map._container.focus(),t.scrollTo(r,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,i,n=this._panKeys={},o=this.keyCodes;for(e=0,i=o.left.length;i>e;e++)n[o.left[e]]=[-1*t,0];for(e=0,i=o.right.length;i>e;e++)n[o.right[e]]=[t,0];for(e=0,i=o.down.length;i>e;e++)n[o.down[e]]=[0,t];for(e=0,i=o.up.length;i>e;e++)n[o.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,i,n=this._zoomKeys={},o=this.keyCodes;for(e=0,i=o.zoomIn.length;i>e;e++)n[o.zoomIn[e]]=t;for(e=0,i=o.zoomOut.length;i>e;e++)n[o.zoomOut[e]]=-t},_addHooks:function(){r.DomEvent.on(i,"keydown",this._onKeyDown,this)},_removeHooks:function(){r.DomEvent.off(i,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,i=t.keyCode,n=this._map;if(i in this._panKeys){if(n._panAnim&&n._panAnim._inProgress)return;e=this._panKeys[i],t.shiftKey&&(e=r.point(e).multiplyBy(3)),n.panBy(e),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds)}else if(i in this._zoomKeys)n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else{if(27!==i)return;n.closePopup()}r.DomEvent.stop(t)}}}),r.Map.addInitHook("addHandler","keyboard",r.Map.Keyboard),r.Handler.MarkerDrag=r.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new r.Draggable(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),r.DomUtil.addClass(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&r.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(t){var e=this._marker,i=e._shadow,n=r.DomUtil.getPosition(e._icon),o=e._map.layerPointToLatLng(n);i&&r.DomUtil.setPosition(i,n),e._latlng=o,t.latlng=o,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){this._marker.fire("moveend").fire("dragend",t)}}),r.Control=r.Class.extend({options:{position:"topright"},initialize:function(t){r.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),n=t._controlCorners[i];return r.DomUtil.addClass(e,"leaflet-control"),-1!==i.indexOf("bottom")?n.insertBefore(e,n.firstChild):n.appendChild(e),this},remove:function(){return this._map?(r.DomUtil.remove(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),r.control=function(t){return new r.Control(t)},r.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,o){var s=i+t+" "+i+o;e[t+o]=r.DomUtil.create("div",s,n)}var e=this._controlCorners={},i="leaflet-",n=this._controlContainer=r.DomUtil.create("div",i+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){r.DomUtil.remove(this._controlContainer)}}),r.Control.Zoom=r.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=r.DomUtil.create("div",e+" leaflet-bar"),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){this._disabled||this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){this._disabled||this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,n,o){var s=r.DomUtil.create("a",i,n);return s.innerHTML=t,s.href="#",s.title=e,r.DomEvent.on(s,"mousedown dblclick",r.DomEvent.stopPropagation).on(s,"click",r.DomEvent.stop).on(s,"click",o,this).on(s,"click",this._refocusOnMap,this),s},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";r.DomUtil.removeClass(this._zoomInButton,e),r.DomUtil.removeClass(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&r.DomUtil.addClass(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&r.DomUtil.addClass(this._zoomInButton,e)}}),r.Map.mergeOptions({zoomControl:!0}),r.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new r.Control.Zoom,this.addControl(this.zoomControl))}),r.control.zoom=function(t){return new r.Control.Zoom(t)},r.Control.Attribution=r.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){r.setOptions(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=r.DomUtil.create("div","leaflet-control-attribution"),r.DomEvent&&r.DomEvent.disableClickPropagation(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(" | ")}}}),r.Map.mergeOptions({attributionControl:!0}),r.Map.addInitHook(function(){this.options.attributionControl&&(new r.Control.Attribution).addTo(this)}),r.control.attribution=function(t){return new r.Control.Attribution(t)},r.Control.Scale=r.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",i=r.DomUtil.create("div",e),n=this.options;return this._addScales(n,e+"-line",i),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=r.DomUtil.create("div",e,i)),t.imperial&&(this._iScale=r.DomUtil.create("div",e,i))},_update:function(){var t=this._map,e=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),i=1e3>e?e+" m":e/1e3+" km";this._updateScale(this._mScale,i,e/t)},_updateImperial:function(t){var e,i,n,o=3.2808399*t;

o>5280?(e=o/5280,i=this._getRoundNum(e),this._updateScale(this._iScale,i+" mi",i/e)):(n=this._getRoundNum(o),this._updateScale(this._iScale,n+" ft",n/o))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,e*i}}),r.control.scale=function(t){return new r.Control.Scale(t)},r.Control.Layers=r.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1},initialize:function(t,e,i){r.setOptions(this,i),this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var n in t)this._addLayer(t[n],n);for(n in e)this._addLayer(e[n],n,!0)},onAdd:function(t){return this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this),this._container},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(r.stamp(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){r.DomUtil.addClass(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._form.clientHeight?(r.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px"):r.DomUtil.removeClass(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return r.DomUtil.removeClass(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=r.DomUtil.create("div",t);e.setAttribute("aria-haspopup",!0),r.DomEvent.disableClickPropagation(e),r.Browser.touch||r.DomEvent.disableScrollPropagation(e);var i=this._form=r.DomUtil.create("form",t+"-list");if(this.options.collapsed){r.Browser.android||r.DomEvent.on(e,{mouseenter:this.expand,mouseleave:this.collapse},this);var n=this._layersLink=r.DomUtil.create("a",t+"-toggle",e);n.href="#",n.title="Layers",r.Browser.touch?r.DomEvent.on(n,"click",r.DomEvent.stop).on(n,"click",this.expand,this):r.DomEvent.on(n,"focus",this.expand,this),r.DomEvent.on(i,"click",function(){setTimeout(r.bind(this._onInputClick,this),0)},this),this._map.on("click",this.collapse,this)}else this.expand();this._baseLayersList=r.DomUtil.create("div",t+"-base",i),this._separator=r.DomUtil.create("div",t+"-separator",i),this._overlaysList=r.DomUtil.create("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&r.stamp(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(!this._container)return this;r.DomUtil.empty(this._baseLayersList),r.DomUtil.empty(this._overlaysList);var t,e,i,n,o=0;for(i=0;i<this._layers.length;i++)n=this._layers[i],this._addItem(n),e=e||n.overlay,t=t||!n.overlay,o+=n.overlay?0:1;return this.options.hideSingleBase&&(t=t&&o>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(r.stamp(t.target)),i=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;i&&this._map.fire(i,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",o=i.createElement("div");return o.innerHTML=n,o.firstChild},_addItem:function(t){var e,n=i.createElement("label"),o=this._map.hasLayer(t.layer);t.overlay?(e=i.createElement("input"),e.type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=o):e=this._createRadioElement("leaflet-base-layers",o),e.layerId=r.stamp(t.layer),r.DomEvent.on(e,"click",this._onInputClick,this);var s=i.createElement("span");s.innerHTML=" "+t.name;var a=i.createElement("div");n.appendChild(a),a.appendChild(e),a.appendChild(s);var l=t.overlay?this._overlaysList:this._baseLayersList;return l.appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,i,n=this._form.getElementsByTagName("input"),o=[],r=[];this._handlingClick=!0;for(var s=n.length-1;s>=0;s--)t=n[s],e=this._getLayer(t.layerId).layer,i=this._map.hasLayer(e),t.checked&&!i?o.push(e):!t.checked&&i&&r.push(e);for(s=0;s<r.length;s++)this._map.removeLayer(r[s]);for(s=0;s<o.length;s++)this._map.addLayer(o[s]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,i=this._form.getElementsByTagName("input"),o=this._map.getZoom(),r=i.length-1;r>=0;r--)t=i[r],e=this._getLayer(t.layerId).layer,t.disabled=e.options.minZoom!==n&&o<e.options.minZoom||e.options.maxZoom!==n&&o>e.options.maxZoom},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),r.control.layers=function(t,e,i){return new r.Control.Layers(t,e,i)},r.PosAnimation=r.Evented.extend({run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=r.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=r.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=1e3*this._duration;i>e?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var i=this._startPos.add(this._offset.multiplyBy(t));e&&i._round(),r.DomUtil.setPosition(this._el,i),this.fire("step")},_complete:function(){r.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),r.Map.include({setView:function(t,e,i){if(e=e===n?this._zoom:this._limitZoom(e),t=this._limitCenter(r.latLng(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&i!==!0){i.animate!==n&&(i.zoom=r.extend({animate:i.animate},i.zoom),i.pan=r.extend({animate:i.animate,duration:i.duration},i.pan));var o=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan);if(o)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},panBy:function(t,e){if(t=r.point(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(e.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new r.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){r.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){r.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._floor();return(e&&e.animate)===!0||this.getSize().contains(i)?(this.panBy(i,e),!0):!1}}),r.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4});var u=r.DomUtil.TRANSITION&&r.Browser.any3d&&!r.Browser.mobileOpera;u&&r.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),r.DomEvent.on(this._proxy,r.DomUtil.TRANSITION_END,this._catchTransitionEnd,this))}),r.Map.include(u?{_createAnimProxy:function(){var t=this._proxy=r.DomUtil.create("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var i=r.DomUtil.TRANSFORM,n=t.style[i];r.DomUtil.setTransform(t,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===t.style[i]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var e=this.getCenter(),i=this.getZoom();r.DomUtil.setTransform(t,this.project(e,i),this.getZoomScale(i,1))},this)},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||i.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/n);return i.animate===!0||this.getSize().contains(o)?(r.Util.requestAnimFrame(function(){this._moveStart(!0)._animateZoom(t,e,!0)},this),!0):!1},_animateZoom:function(t,e,i,n){i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,r.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:n}),setTimeout(r.bind(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(r.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),r.Util.requestAnimFrame(function(){this._moveEnd(!0)},this))}}:{}),r.Map.include({flyTo:function(t,e,i){function o(t){var e=t?-1:1,i=t?v:g,n=v*v-g*g+e*L*L*y*y,o=2*i*L*y,r=n/o,s=Math.sqrt(r*r+1)-r,a=1e-9>s?-18:Math.log(s);return a}function s(t){return(Math.exp(t)-Math.exp(-t))/2}function a(t){return(Math.exp(t)+Math.exp(-t))/2}function l(t){return s(t)/a(t)}function u(t){return g*(a(w)/a(w+b*t))}function h(t){return g*(a(w)*l(w+b*t)-s(w))/L}function c(t){return 1-Math.pow(1-t,1.5)}function p(){var i=(Date.now()-x)/S,n=c(i)*P;1>=i?(this._flyToFrame=r.Util.requestAnimFrame(p,this),this._move(this.unproject(d.add(f.subtract(d).multiplyBy(h(n)/y)),_),this.getScaleZoom(g/u(n),_),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}if(i=i||{},i.animate===!1||!r.Browser.any3d)return this.setView(t,e,i);this._stop();var d=this.project(this.getCenter()),f=this.project(t),m=this.getSize(),_=this._zoom;t=r.latLng(t),e=e===n?_:e;var g=Math.max(m.x,m.y),v=g*this.getZoomScale(_,e),y=f.distanceTo(d)||1,b=1.42,L=b*b,w=o(0),x=Date.now(),P=(o(1)-w)/b,S=i.duration?1e3*i.duration:1e3*P*.8;return this._moveStart(!0),p.call(this),this},flyToBounds:function(t,e){var i=this._getBoundsCenterZoom(t,e);return this.flyTo(i.center,i.zoom,e)}}),r.Map.include({_defaultLocateOptions:{timeout:1e4,watch:!1},locate:function(t){if(t=this._locateOptions=r.extend({},this._defaultLocateOptions,t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=r.bind(this._handleGeolocationResponse,this),i=r.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,i=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,i=t.coords.longitude,n=new r.LatLng(e,i),o=n.toBounds(t.coords.accuracy),s=this._locateOptions;if(s.setView){var a=this.getBoundsZoom(o);this.setView(n,s.maxZoom?Math.min(a,s.maxZoom):a)}var l={latlng:n,bounds:o,timestamp:t.timestamp};for(var u in t.coords)"number"==typeof t.coords[u]&&(l[u]=t.coords[u]);this.fire("locationfound",l)}})}(window,document)},{}],55:[function(t,e){function i(t,e){return void 0===t?e:t}function n(t,e){return r(function(i){var n=i[0];return null==n?n:(i.push(e),t.apply(void 0,i))})}var o=t("lodash.assign"),r=t("lodash.restparam"),s=n(o,i);e.exports=s},{"lodash.assign":56,"lodash.restparam":66}],56:[function(t,e){function i(t,e,i){for(var n=-1,o=r(e),s=o.length;++n<s;){var a=o[n],l=t[a],u=i(l,e[a],a,t,e);(u===u?u===l:l!==l)&&(void 0!==l||a in t)||(t[a]=u)}return t}var n=t("lodash._baseassign"),o=t("lodash._createassigner"),r=t("lodash.keys"),s=o(function(t,e,o){return o?i(t,e,o):n(t,e)});e.exports=s},{"lodash._baseassign":57,"lodash._createassigner":59,"lodash.keys":62}],57:[function(t,e){function i(t,e){return null==e?t:n(e,o(e),t)}var n=t("lodash._basecopy"),o=t("lodash.keys");e.exports=i},{"lodash._basecopy":58,"lodash.keys":62}],58:[function(t,e){function i(t,e,i){i||(i={});for(var n=-1,o=e.length;++n<o;){var r=e[n];i[r]=t[r]}return i}e.exports=i},{}],59:[function(t,e){function i(t){return r(function(e,i){var r=-1,s=null==e?0:i.length,a=s>2?i[s-2]:void 0,l=s>2?i[2]:void 0,u=s>1?i[s-1]:void 0;for("function"==typeof a?(a=n(a,u,5),s-=2):(a="function"==typeof u?u:void 0,s-=a?1:0),l&&o(i[0],i[1],l)&&(a=3>s?void 0:a,s=1);++r<s;){var h=i[r];h&&t(e,h,a)}return e})}var n=t("lodash._bindcallback"),o=t("lodash._isiterateecall"),r=t("lodash.restparam");e.exports=i},{"lodash._bindcallback":60,"lodash._isiterateecall":61,"lodash.restparam":66}],60:[function(t,e){function i(t,e,i){if("function"!=typeof t)return n;if(void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 3:return function(i,n,o){return t.call(e,i,n,o)};case 4:return function(i,n,o,r){return t.call(e,i,n,o,r)};case 5:return function(i,n,o,r,s){return t.call(e,i,n,o,r,s)}}return function(){return t.apply(e,arguments)}}function n(t){return t}e.exports=i},{}],61:[function(t,e){function i(t){return function(e){return null==e?void 0:e[t]}}function n(t){return null!=t&&s(h(t))}function o(t,e){return t="number"==typeof t||l.test(t)?+t:-1,e=null==e?u:e,t>-1&&t%1==0&&e>t}function r(t,e,i){if(!a(i))return!1;var r=typeof e;if("number"==r?n(i)&&o(e,i.length):"string"==r&&e in i){var s=i[e];return t===t?t===s:s!==s}return!1}function s(t){return"number"==typeof t&&t>-1&&t%1==0&&u>=t}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var l=/^\d+$/,u=9007199254740991,h=i("length");e.exports=r},{}],62:[function(t,e){function i(t){return function(e){return null==e?void 0:e[t]}}function n(t){return null!=t&&r(g(t))}function o(t,e){return t="number"==typeof t||p.test(t)?+t:-1,e=null==e?_:e,t>-1&&t%1==0&&e>t}function r(t){return"number"==typeof t&&t>-1&&t%1==0&&_>=t}function s(t){for(var e=l(t),i=e.length,n=i&&t.length,s=!!n&&r(n)&&(c(t)||h(t)),a=-1,u=[];++a<i;){var p=e[a];(s&&o(p,n)||f.call(t,p))&&u.push(p)}return u}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function l(t){if(null==t)return[];a(t)||(t=Object(t));var e=t.length;e=e&&r(e)&&(c(t)||h(t))&&e||0;for(var i=t.constructor,n=-1,s="function"==typeof i&&i.prototype===t,l=Array(e),u=e>0;++n<e;)l[n]=n+"";for(var p in t)u&&o(p,e)||"constructor"==p&&(s||!f.call(t,p))||l.push(p);return l}var u=t("lodash._getnative"),h=t("lodash.isarguments"),c=t("lodash.isarray"),p=/^\d+$/,d=Object.prototype,f=d.hasOwnProperty,m=u(Object,"keys"),_=9007199254740991,g=i("length"),v=m?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&n(t)?s(t):a(t)?m(t):[]}:s;e.exports=v},{"lodash._getnative":63,"lodash.isarguments":64,"lodash.isarray":65}],63:[function(t,e){function i(t){return!!t&&"object"==typeof t}function n(t,e){var i=null==t?void 0:t[e];return s(i)?i:void 0}function o(t){return r(t)&&p.call(t)==a}function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function s(t){return null==t?!1:o(t)?d.test(h.call(t)):i(t)&&l.test(t)}var a="[object Function]",l=/^\[object .+?Constructor\]$/,u=Object.prototype,h=Function.prototype.toString,c=u.hasOwnProperty,p=u.toString,d=RegExp("^"+h.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=n},{}],64:[function(t,e){function i(t){return function(e){return null==e?void 0:e[t]}}function n(t){return r(t)&&m.call(t,"callee")&&(!g.call(t,"callee")||_.call(t)==c)}function o(t){return null!=t&&a(v(t))&&!s(t)}function r(t){return u(t)&&o(t)}function s(t){var e=l(t)?_.call(t):"";return e==p||e==d}function a(t){return"number"==typeof t&&t>-1&&t%1==0&&h>=t}function l(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function u(t){return!!t&&"object"==typeof t}var h=9007199254740991,c="[object Arguments]",p="[object Function]",d="[object GeneratorFunction]",f=Object.prototype,m=f.hasOwnProperty,_=f.toString,g=f.propertyIsEnumerable,v=i("length");e.exports=n},{}],65:[function(t,e){function i(t){return!!t&&"object"==typeof t}function n(t,e){var i=null==t?void 0:t[e];return a(i)?i:void 0}function o(t){return"number"==typeof t&&t>-1&&t%1==0&&g>=t}function r(t){return s(t)&&f.call(t)==u}function s(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function a(t){return null==t?!1:r(t)?m.test(p.call(t)):i(t)&&h.test(t)}var l="[object Array]",u="[object Function]",h=/^\[object .+?Constructor\]$/,c=Object.prototype,p=Function.prototype.toString,d=c.hasOwnProperty,f=c.toString,m=RegExp("^"+p.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_=n(Array,"isArray"),g=9007199254740991,v=_||function(t){return i(t)&&o(t.length)&&f.call(t)==l};e.exports=v},{}],66:[function(t,e){function i(t,e){if("function"!=typeof t)throw new TypeError(n);return e=o(void 0===e?t.length-1:+e||0,0),function(){for(var i=arguments,n=-1,r=o(i.length-e,0),s=Array(r);++n<r;)s[n]=i[e+n];switch(e){case 0:return t.call(this,s);case 1:return t.call(this,i[0],s);case 2:return t.call(this,i[0],i[1],s)}var a=Array(e+1);for(n=-1;++n<e;)a[n]=i[n];return a[e]=s,t.apply(this,a)}}var n="Expected a function",o=Math.max;e.exports=i},{}],67:[function(t,e){function i(t,e){for(var i=-1,n=t?t.length:0;++i<n&&e(t[i],i,t)!==!1;);return t}function n(t){return function(e){return null==e?void 0:e[t]}}function o(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}function r(t,e){return function(i){return t(e(i))}}function s(t,e){return t&&U(t,e,w)}function a(t,e){return null!=t&&(E.call(t,e)||"object"==typeof t&&e in t&&null===Z(t))}function l(t,e){return function(i,n){if(null==i)return i;if(!m(i))return t(i,n);for(var o=i.length,r=e?o:-1,s=Object(i);(e?r--:++r<o)&&n(s[r],r,s)!==!1;);return i}}function u(t){return function(e,i,n){for(var o=-1,r=Object(e),s=n(e),a=s.length;a--;){var l=s[t?a:++o];if(i(r[l],l,r)===!1)break}return e}}function h(t){var e=t?t.length:void 0;return v(e)&&(R(t)||L(t)||f(t))?o(e,String):null}function c(t,e){return e=null==e?P:e,!!e&&("number"==typeof t||k.test(t))&&t>-1&&t%1==0&&e>t}function p(t){var e=t&&t.constructor,i="function"==typeof e&&e.prototype||O;return t===i}function d(t,e){var n=R(t)?i:I;return n(t,"function"==typeof e?e:x)}function f(t){return _(t)&&E.call(t,"callee")&&(!A.call(t,"callee")||D.call(t)==S)}function m(t){return null!=t&&v(N(t))&&!g(t)}function _(t){return b(t)&&m(t)}function g(t){var e=y(t)?D.call(t):"";return e==C||e==T}function v(t){return"number"==typeof t&&t>-1&&t%1==0&&P>=t}function y(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function b(t){return!!t&&"object"==typeof t}function L(t){return"string"==typeof t||!R(t)&&b(t)&&D.call(t)==M}function w(t){var e=p(t);if(!e&&!m(t))return j(t);var i=h(t),n=!!i,o=i||[],r=o.length;for(var s in t)!a(t,s)||n&&("length"==s||c(s,r))||e&&"constructor"==s||o.push(s);return o}function x(t){return t}var P=9007199254740991,S="[object Arguments]",C="[object Function]",T="[object GeneratorFunction]",M="[object String]",k=/^(?:0|[1-9]\d*)$/,O=Object.prototype,E=O.hasOwnProperty,D=O.toString,A=O.propertyIsEnumerable,z=Object.getPrototypeOf,B=Object.keys,I=l(s),U=u(),j=r(B,Object),N=n("length"),Z=r(z,Object),R=Array.isArray;e.exports=d},{}],68:[function(t,e){function i(t,e){for(var i=-1,n=t?t.length:0,o=Array(n);++i<n;)o[i]=e(t[i],i,t);return o}function n(t,e,i,n){for(var o=t.length,r=i+(n?1:-1);n?r--:++r<o;)if(e(t[r],r,t))return r;return-1}function o(t,e,i){if(e!==e)return n(t,r,i);for(var o=i-1,s=t.length;++o<s;)if(t[o]===e)return o;return-1}function r(t){return t!==t}function s(t){return function(e){return null==e?void 0:e[t]}}function a(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}function l(t,e){return i(e,function(e){return t[e]})}function u(t,e){return function(i){return t(e(i))}}function h(t,e){return null!=t&&(W.call(t,e)||"object"==typeof t&&e in t&&null===Q(t))}function c(t){var e=t?t.length:void 0;return y(e)&&(tt(t)||w(t)||m(t))?a(e,String):null}function p(t,e){return e=null==e?O:e,!!e&&("number"==typeof t||G.test(t))&&t>-1&&t%1==0&&e>t}function d(t){var e=t&&t.constructor,i="function"==typeof e&&e.prototype||H;return t===i}function f(t,e,i,n){t=_(t)?t:M(t),i=i&&!n?S(i):0;var r=t.length;return 0>i&&(i=K(r+i,0)),w(t)?r>=i&&t.indexOf(e,i)>-1:!!r&&o(t,e,i)>-1}function m(t){return g(t)&&W.call(t,"callee")&&(!q.call(t,"callee")||V.call(t)==A)}function _(t){return null!=t&&y(Y(t))&&!v(t)}function g(t){return L(t)&&_(t)}function v(t){var e=b(t)?V.call(t):"";return e==z||e==B}function y(t){return"number"==typeof t&&t>-1&&t%1==0&&O>=t}function b(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function L(t){return!!t&&"object"==typeof t}function w(t){return"string"==typeof t||!tt(t)&&L(t)&&V.call(t)==I}function x(t){return"symbol"==typeof t||L(t)&&V.call(t)==U}function P(t){if(!t)return 0===t?t:0;if(t=C(t),t===k||t===-k){var e=0>t?-1:1;return e*E}return t===t?t:0}function S(t){var e=P(t),i=e%1;return e===e?i?e-i:e:0}function C(t){if("number"==typeof t)return t;if(x(t))return D;if(b(t)){var e=v(t.valueOf)?t.valueOf():t;t=b(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(j,"");var i=Z.test(t);return i||R.test(t)?F(t.slice(2),i?2:8):N.test(t)?D:+t}function T(t){var e=d(t);if(!e&&!_(t))return X(t);var i=c(t),n=!!i,o=i||[],r=o.length;for(var s in t)!h(t,s)||n&&("length"==s||p(s,r))||e&&"constructor"==s||o.push(s);return o}function M(t){return t?l(t,T(t)):[]}var k=1/0,O=9007199254740991,E=1.7976931348623157e308,D=0/0,A="[object Arguments]",z="[object Function]",B="[object GeneratorFunction]",I="[object String]",U="[object Symbol]",j=/^\s+|\s+$/g,N=/^[-+]0x[0-9a-f]+$/i,Z=/^0b[01]+$/i,R=/^0o[0-7]+$/i,G=/^(?:0|[1-9]\d*)$/,F=parseInt,H=Object.prototype,W=H.hasOwnProperty,V=H.toString,q=H.propertyIsEnumerable,J=Object.getPrototypeOf,$=Object.keys,K=Math.max,X=u($,Object),Y=s("length"),Q=u(J,Object),tt=Array.isArray;e.exports=f},{}],69:[function(t,e,i){(function(t){function n(t,e){for(var i=-1,n=t?t.length:0,o=Array(n);++i<n;)o[i]=e(t[i],i,t);return o}function o(t,e){for(var i=-1,n=t?t.length:0;++i<n;)if(e(t[i],i,t))return!0;return!1}function r(t){return function(e){return null==e?void 0:e[t]}}function s(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}function a(t){return function(e){return t(e)}}function l(t,e){return null==t?void 0:t[e]}function u(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(i){}return e}function h(t){var e=-1,i=Array(t.size);return t.forEach(function(t,n){i[++e]=[n,t]}),i}function c(t,e){return function(i){return t(e(i))}}function p(t){var e=-1,i=Array(t.size);return t.forEach(function(t){i[++e]=t}),i}function d(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function f(){this.__data__=oi?oi(null):{}}function m(t){return this.has(t)&&delete this.__data__[t]}function _(t){var e=this.__data__;if(oi){var i=e[t];return i===Ft?void 0:i}return He.call(e,t)?e[t]:void 0}function g(t){var e=this.__data__;return oi?void 0!==e[t]:He.call(e,t)}function v(t,e){var i=this.__data__;return i[t]=oi&&void 0===e?Ft:e,this}function y(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function b(){this.__data__=[]}function L(t){var e=this.__data__,i=Z(e,t);if(0>i)return!1;var n=e.length-1;return i==n?e.pop():Ke.call(e,i,1),!0}function w(t){var e=this.__data__,i=Z(e,t);return 0>i?void 0:e[i][1]}function x(t){return Z(this.__data__,t)>-1}function P(t,e){var i=this.__data__,n=Z(i,t);return 0>n?i.push([t,e]):i[n][1]=e,this}function S(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function C(){this.__data__={hash:new d,map:new(ti||y),string:new d}}function T(t){return ut(this,t)["delete"](t)}function M(t){return ut(this,t).get(t)}function k(t){return ut(this,t).has(t)}function O(t,e){return ut(this,t).set(t,e),this}function E(t){var e=-1,i=t?t.length:0;for(this.__data__=new S;++e<i;)this.add(t[e])}function D(t){return this.__data__.set(t,Ft),this}function A(t){return this.__data__.has(t)}function z(t){this.__data__=new y(t)}function B(){this.__data__=new y}function I(t){return this.__data__["delete"](t)}function U(t){return this.__data__.get(t)}function j(t){return this.__data__.has(t)}function N(t,e){var i=this.__data__;if(i instanceof y){var n=i.__data__;if(!ti||n.length<Rt-1)return n.push([t,e]),this;i=this.__data__=new S(n)}return i.set(t,e),this}function Z(t,e){for(var i=t.length;i--;)if(St(t[i][0],e))return i;return-1}function R(t,e){return t&&fi(t,e,jt)}function G(t,e){e=mt(e,t)?[e]:nt(e);for(var i=0,n=e.length;null!=t&&n>i;)t=t[Lt(e[i++])];return i&&i==n?t:void 0}function F(t){return We.call(t)}function H(t,e){return null!=t&&(He.call(t,e)||"object"==typeof t&&e in t&&null===gi(t))}function W(t,e){return null!=t&&e in Object(t)}function V(t,e,i,n,o){return t===e?!0:null==t||null==e||!Et(t)&&!Dt(e)?t!==t&&e!==e:q(t,e,V,i,n,o)}function q(t,e,i,n,o,r){var s=bi(t),a=bi(e),l=$t,h=$t;s||(l=vi(t),l=l==Jt?ne:l),a||(h=vi(e),h=h==Jt?ne:h);var c=l==ne&&!u(t),p=h==ne&&!u(e),d=l==h;if(d&&!c)return r||(r=new z),s||Li(t)?st(t,e,i,n,o,r):at(t,e,l,i,n,o,r);if(!(o&Wt)){var f=c&&He.call(t,"__wrapped__"),m=p&&He.call(e,"__wrapped__");if(f||m){var _=f?t.value():t,g=m?e.value():e;return r||(r=new z),i(_,g,n,o,r)}}return d?(r||(r=new z),lt(t,e,i,n,o,r)):!1}function J(t,e,i,n){var o=i.length,r=o,s=!n;if(null==t)return!r;for(t=Object(t);o--;){var a=i[o];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<r;){a=i[o];var l=a[0],u=t[l],h=a[1];if(s&&a[2]){if(void 0===u&&!(l in t))return!1}else{var c=new z;if(n)var p=n(u,h,l,t,e,c);if(!(void 0===p?V(h,u,n,Ht|Wt,c):p))return!1}}return!0}function $(t){if(!Et(t)||gt(t))return!1;var e=kt(t)||u(t)?Ve:Te;return e.test(wt(t))}function K(t){return Dt(t)&&Ot(t.length)&&!!ke[We.call(t)]}function X(t){return"function"==typeof t?t:null==t?Nt:"object"==typeof t?bi(t)?tt(t[0],t[1]):Q(t):Zt(t)}function Y(t,e){var i=-1,n=Tt(t)?Array(t.length):[];return di(t,function(t,o,r){n[++i]=e(t,o,r)}),n}function Q(t){var e=ht(t);return 1==e.length&&e[0][2]?bt(e[0][0],e[0][1]):function(i){return i===t||J(i,t,e)}}function tt(t,e){return mt(t)&&yt(e)?bt(Lt(t),e):function(i){var n=It(i,t);return void 0===n&&n===e?Ut(i,t):V(e,n,void 0,Ht|Wt)}}function et(t){return function(e){return G(e,t)}}function it(t){if("string"==typeof t)return t;if(zt(t))return pi?pi.call(t):"";var e=t+"";return"0"==e&&1/t==-Vt?"-0":e}function nt(t){return bi(t)?t:yi(t)}function ot(t,e){return function(i,n){if(null==i)return i;if(!Tt(i))return t(i,n);for(var o=i.length,r=e?o:-1,s=Object(i);(e?r--:++r<o)&&n(s[r],r,s)!==!1;);return i}}function rt(t){return function(e,i,n){for(var o=-1,r=Object(e),s=n(e),a=s.length;a--;){var l=s[t?a:++o];if(i(r[l],l,r)===!1)break}return e}}function st(t,e,i,n,r,s){var a=r&Wt,l=t.length,u=e.length;if(l!=u&&!(a&&u>l))return!1;var h=s.get(t);if(h&&s.get(e))return h==e;var c=-1,p=!0,d=r&Ht?new E:void 0;for(s.set(t,e),s.set(e,t);++c<l;){var f=t[c],m=e[c];if(n)var _=a?n(m,f,c,e,t,s):n(f,m,c,t,e,s);if(void 0!==_){if(_)continue;p=!1;break}if(d){if(!o(e,function(t,e){return d.has(e)||f!==t&&!i(f,t,n,r,s)?void 0:d.add(e)})){p=!1;break}}else if(f!==m&&!i(f,m,n,r,s)){p=!1;break}}return s["delete"](t),s["delete"](e),p}function at(t,e,i,n,o,r,s){switch(i){case ce:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case he:return t.byteLength==e.byteLength&&n(new Je(t),new Je(e))?!0:!1;case Kt:case Xt:case ie:return St(+t,+e);case Yt:return t.name==e.name&&t.message==e.message;case re:case ae:return t==e+"";case ee:var a=h;case se:var l=r&Wt;if(a||(a=p),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=Ht,s.set(t,e);var c=st(a(t),a(e),n,o,r,s);return s["delete"](t),c;case le:if(ci)return ci.call(t)==ci.call(e)}return!1}function lt(t,e,i,n,o,r){var s=o&Wt,a=jt(t),l=a.length,u=jt(e),h=u.length;if(l!=h&&!s)return!1;for(var c=l;c--;){var p=a[c];if(!(s?p in e:H(e,p)))return!1}var d=r.get(t);if(d&&r.get(e))return d==e;var f=!0;r.set(t,e),r.set(e,t);for(var m=s;++c<l;){p=a[c];var _=t[p],g=e[p];if(n)var v=s?n(g,_,p,e,t,r):n(_,g,p,t,e,r);if(!(void 0===v?_===g||i(_,g,n,o,r):v)){f=!1;break}m||(m="constructor"==p)}if(f&&!m){var y=t.constructor,b=e.constructor;y!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(f=!1)}return r["delete"](t),r["delete"](e),f}function ut(t,e){var i=t.__data__;return _t(e)?i["string"==typeof e?"string":"hash"]:i.map}function ht(t){for(var e=jt(t),i=e.length;i--;){var n=e[i],o=t[n];e[i]=[n,o,yt(o)]}return e}function ct(t,e){var i=l(t,e);return $(i)?i:void 0}function pt(t,e,i){e=mt(e,t)?[e]:nt(e);for(var n,o=-1,r=e.length;++o<r;){var s=Lt(e[o]);if(!(n=null!=t&&i(t,s)))break;t=t[s]}if(n)return n;var r=t?t.length:0;return!!r&&Ot(r)&&ft(s,r)&&(bi(t)||At(t)||Ct(t))}function dt(t){var e=t?t.length:void 0;return Ot(e)&&(bi(t)||At(t)||Ct(t))?s(e,String):null}function ft(t,e){return e=null==e?qt:e,!!e&&("number"==typeof t||Me.test(t))&&t>-1&&t%1==0&&e>t}function mt(t,e){if(bi(t))return!1;var i=typeof t;return"number"==i||"symbol"==i||"boolean"==i||null==t||zt(t)?!0:we.test(t)||!Le.test(t)||null!=e&&t in Object(e)}function _t(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function gt(t){return!!Ge&&Ge in t}function vt(t){var e=t&&t.constructor,i="function"==typeof e&&e.prototype||Ze;return t===i}function yt(t){return t===t&&!Et(t)}function bt(t,e){return function(i){return null==i?!1:i[t]===e&&(void 0!==e||t in Object(i))}}function Lt(t){if("string"==typeof t||zt(t))return t;var e=t+"";return"0"==e&&1/t==-Vt?"-0":e}function wt(t){if(null!=t){try{return Fe.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function xt(t,e){var i=bi(t)?n:Y;return i(t,X(e,3))}function Pt(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(Gt);var i=function(){var n=arguments,o=e?e.apply(this,n):n[0],r=i.cache;if(r.has(o))return r.get(o);var s=t.apply(this,n);return i.cache=r.set(o,s),s};return i.cache=new(Pt.Cache||S),i}function St(t,e){return t===e||t!==t&&e!==e}function Ct(t){return Mt(t)&&He.call(t,"callee")&&(!$e.call(t,"callee")||We.call(t)==Jt)}function Tt(t){return null!=t&&Ot(_i(t))&&!kt(t)}function Mt(t){return Dt(t)&&Tt(t)}function kt(t){var e=Et(t)?We.call(t):"";return e==Qt||e==te}function Ot(t){return"number"==typeof t&&t>-1&&t%1==0&&qt>=t}function Et(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Dt(t){return!!t&&"object"==typeof t}function At(t){return"string"==typeof t||!bi(t)&&Dt(t)&&We.call(t)==ae}function zt(t){return"symbol"==typeof t||Dt(t)&&We.call(t)==le}function Bt(t){return null==t?"":it(t)}function It(t,e,i){
var n=null==t?void 0:G(t,e);return void 0===n?i:n}function Ut(t,e){return null!=t&&pt(t,e,W)}function jt(t){var e=vt(t);if(!e&&!Tt(t))return mi(t);var i=dt(t),n=!!i,o=i||[],r=o.length;for(var s in t)!H(t,s)||n&&("length"==s||ft(s,r))||e&&"constructor"==s||o.push(s);return o}function Nt(t){return t}function Zt(t){return mt(t)?r(Lt(t)):et(t)}var Rt=200,Gt="Expected a function",Ft="__lodash_hash_undefined__",Ht=1,Wt=2,Vt=1/0,qt=9007199254740991,Jt="[object Arguments]",$t="[object Array]",Kt="[object Boolean]",Xt="[object Date]",Yt="[object Error]",Qt="[object Function]",te="[object GeneratorFunction]",ee="[object Map]",ie="[object Number]",ne="[object Object]",oe="[object Promise]",re="[object RegExp]",se="[object Set]",ae="[object String]",le="[object Symbol]",ue="[object WeakMap]",he="[object ArrayBuffer]",ce="[object DataView]",pe="[object Float32Array]",de="[object Float64Array]",fe="[object Int8Array]",me="[object Int16Array]",_e="[object Int32Array]",ge="[object Uint8Array]",ve="[object Uint8ClampedArray]",ye="[object Uint16Array]",be="[object Uint32Array]",Le=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,we=/^\w*$/,xe=/^\./,Pe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Se=/[\\^$.*+?()[\]{}|]/g,Ce=/\\(\\)?/g,Te=/^\[object .+?Constructor\]$/,Me=/^(?:0|[1-9]\d*)$/,ke={};ke[pe]=ke[de]=ke[fe]=ke[me]=ke[_e]=ke[ge]=ke[ve]=ke[ye]=ke[be]=!0,ke[Jt]=ke[$t]=ke[he]=ke[Kt]=ke[ce]=ke[Xt]=ke[Yt]=ke[Qt]=ke[ee]=ke[ie]=ke[ne]=ke[re]=ke[se]=ke[ae]=ke[ue]=!1;var Oe="object"==typeof t&&t&&t.Object===Object&&t,Ee="object"==typeof self&&self&&self.Object===Object&&self,De=Oe||Ee||Function("return this")(),Ae="object"==typeof i&&i&&!i.nodeType&&i,ze=Ae&&"object"==typeof e&&e&&!e.nodeType&&e,Be=ze&&ze.exports===Ae,Ie=Be&&Oe.process,Ue=function(){try{return Ie&&Ie.binding("util")}catch(t){}}(),je=Ue&&Ue.isTypedArray,Ne=Array.prototype,Ze=Object.prototype,Re=De["__core-js_shared__"],Ge=function(){var t=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Fe=Function.prototype.toString,He=Ze.hasOwnProperty,We=Ze.toString,Ve=RegExp("^"+Fe.call(He).replace(Se,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qe=De.Symbol,Je=De.Uint8Array,$e=Ze.propertyIsEnumerable,Ke=Ne.splice,Xe=Object.getPrototypeOf,Ye=Object.keys,Qe=ct(De,"DataView"),ti=ct(De,"Map"),ei=ct(De,"Promise"),ii=ct(De,"Set"),ni=ct(De,"WeakMap"),oi=ct(Object,"create"),ri=wt(Qe),si=wt(ti),ai=wt(ei),li=wt(ii),ui=wt(ni),hi=qe?qe.prototype:void 0,ci=hi?hi.valueOf:void 0,pi=hi?hi.toString:void 0;d.prototype.clear=f,d.prototype["delete"]=m,d.prototype.get=_,d.prototype.has=g,d.prototype.set=v,y.prototype.clear=b,y.prototype["delete"]=L,y.prototype.get=w,y.prototype.has=x,y.prototype.set=P,S.prototype.clear=C,S.prototype["delete"]=T,S.prototype.get=M,S.prototype.has=k,S.prototype.set=O,E.prototype.add=E.prototype.push=D,E.prototype.has=A,z.prototype.clear=B,z.prototype["delete"]=I,z.prototype.get=U,z.prototype.has=j,z.prototype.set=N;var di=ot(R),fi=rt(),mi=c(Ye,Object),_i=r("length"),gi=c(Xe,Object),vi=F;(Qe&&vi(new Qe(new ArrayBuffer(1)))!=ce||ti&&vi(new ti)!=ee||ei&&vi(ei.resolve())!=oe||ii&&vi(new ii)!=se||ni&&vi(new ni)!=ue)&&(vi=function(t){var e=We.call(t),i=e==ne?t.constructor:void 0,n=i?wt(i):void 0;if(n)switch(n){case ri:return ce;case si:return ee;case ai:return oe;case li:return se;case ui:return ue}return e});var yi=Pt(function(t){t=Bt(t);var e=[];return xe.test(t)&&e.push(""),t.replace(Pe,function(t,i,n,o){e.push(n?o.replace(Ce,"$1"):i||t)}),e});Pt.Cache=S;var bi=Array.isArray,Li=je?a(je):K;e.exports=xt}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],70:[function(t,e,i){!function(){var t=function(e){var i=new t.Index;return i.pipeline.add(t.trimmer,t.stopWordFilter,t.stemmer),e&&e.call(i,i),i};t.version="0.6.0",t.utils={},t.utils.warn=function(t){return function(e){t.console&&console.warn&&console.warn(e)}}(this),t.utils.asString=function(t){return void 0===t||null===t?"":t.toString()},t.EventEmitter=function(){this.events={}},t.EventEmitter.prototype.addListener=function(){var t=Array.prototype.slice.call(arguments),e=t.pop(),i=t;if("function"!=typeof e)throw new TypeError("last argument must be a function");i.forEach(function(t){this.hasHandler(t)||(this.events[t]=[]),this.events[t].push(e)},this)},t.EventEmitter.prototype.removeListener=function(t,e){if(this.hasHandler(t)){var i=this.events[t].indexOf(e);this.events[t].splice(i,1),this.events[t].length||delete this.events[t]}},t.EventEmitter.prototype.emit=function(t){if(this.hasHandler(t)){var e=Array.prototype.slice.call(arguments,1);this.events[t].forEach(function(t){t.apply(void 0,e)})}},t.EventEmitter.prototype.hasHandler=function(t){return t in this.events},t.tokenizer=function(e){return arguments.length&&null!=e&&void 0!=e?Array.isArray(e)?e.map(function(e){return t.utils.asString(e).toLowerCase()}):e.toString().trim().toLowerCase().split(t.tokenizer.seperator):[]},t.tokenizer.seperator=/[\s\-]+/,t.Pipeline=function(){this._stack=[]},t.Pipeline.registeredFunctions={},t.Pipeline.registerFunction=function(e,i){i in this.registeredFunctions&&t.utils.warn("Overwriting existing registered function: "+i),e.label=i,t.Pipeline.registeredFunctions[e.label]=e},t.Pipeline.warnIfFunctionNotRegistered=function(e){var i=e.label&&e.label in this.registeredFunctions;i||t.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",e)},t.Pipeline.load=function(e){var i=new t.Pipeline;return e.forEach(function(e){var n=t.Pipeline.registeredFunctions[e];if(!n)throw new Error("Cannot load un-registered function: "+e);i.add(n)}),i},t.Pipeline.prototype.add=function(){var e=Array.prototype.slice.call(arguments);e.forEach(function(e){t.Pipeline.warnIfFunctionNotRegistered(e),this._stack.push(e)},this)},t.Pipeline.prototype.after=function(e,i){t.Pipeline.warnIfFunctionNotRegistered(i);var n=this._stack.indexOf(e);if(-1==n)throw new Error("Cannot find existingFn");n+=1,this._stack.splice(n,0,i)},t.Pipeline.prototype.before=function(e,i){t.Pipeline.warnIfFunctionNotRegistered(i);var n=this._stack.indexOf(e);if(-1==n)throw new Error("Cannot find existingFn");this._stack.splice(n,0,i)},t.Pipeline.prototype.remove=function(t){var e=this._stack.indexOf(t);-1!=e&&this._stack.splice(e,1)},t.Pipeline.prototype.run=function(t){for(var e=[],i=t.length,n=this._stack.length,o=0;i>o;o++){for(var r=t[o],s=0;n>s&&(r=this._stack[s](r,o,t),void 0!==r&&""!==r);s++);void 0!==r&&""!==r&&e.push(r)}return e},t.Pipeline.prototype.reset=function(){this._stack=[]},t.Pipeline.prototype.toJSON=function(){return this._stack.map(function(e){return t.Pipeline.warnIfFunctionNotRegistered(e),e.label})},t.Vector=function(){this._magnitude=null,this.list=void 0,this.length=0},t.Vector.Node=function(t,e,i){this.idx=t,this.val=e,this.next=i},t.Vector.prototype.insert=function(e,i){this._magnitude=void 0;var n=this.list;if(!n)return this.list=new t.Vector.Node(e,i,n),this.length++;if(e<n.idx)return this.list=new t.Vector.Node(e,i,n),this.length++;for(var o=n,r=n.next;void 0!=r;){if(e<r.idx)return o.next=new t.Vector.Node(e,i,r),this.length++;o=r,r=r.next}return o.next=new t.Vector.Node(e,i,r),this.length++},t.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var t,e=this.list,i=0;e;)t=e.val,i+=t*t,e=e.next;return this._magnitude=Math.sqrt(i)},t.Vector.prototype.dot=function(t){for(var e=this.list,i=t.list,n=0;e&&i;)e.idx<i.idx?e=e.next:e.idx>i.idx?i=i.next:(n+=e.val*i.val,e=e.next,i=i.next);return n},t.Vector.prototype.similarity=function(t){return this.dot(t)/(this.magnitude()*t.magnitude())},t.SortedSet=function(){this.length=0,this.elements=[]},t.SortedSet.load=function(t){var e=new this;return e.elements=t,e.length=t.length,e},t.SortedSet.prototype.add=function(){var t,e;for(t=0;t<arguments.length;t++)e=arguments[t],~this.indexOf(e)||this.elements.splice(this.locationFor(e),0,e);this.length=this.elements.length},t.SortedSet.prototype.toArray=function(){return this.elements.slice()},t.SortedSet.prototype.map=function(t,e){return this.elements.map(t,e)},t.SortedSet.prototype.forEach=function(t,e){return this.elements.forEach(t,e)},t.SortedSet.prototype.indexOf=function(t){for(var e=0,i=this.elements.length,n=i-e,o=e+Math.floor(n/2),r=this.elements[o];n>1;){if(r===t)return o;t>r&&(e=o),r>t&&(i=o),n=i-e,o=e+Math.floor(n/2),r=this.elements[o]}return r===t?o:-1},t.SortedSet.prototype.locationFor=function(t){for(var e=0,i=this.elements.length,n=i-e,o=e+Math.floor(n/2),r=this.elements[o];n>1;)t>r&&(e=o),r>t&&(i=o),n=i-e,o=e+Math.floor(n/2),r=this.elements[o];return r>t?o:t>r?o+1:void 0},t.SortedSet.prototype.intersect=function(e){for(var i=new t.SortedSet,n=0,o=0,r=this.length,s=e.length,a=this.elements,l=e.elements;;){if(n>r-1||o>s-1)break;a[n]!==l[o]?a[n]<l[o]?n++:a[n]>l[o]&&o++:(i.add(a[n]),n++,o++)}return i},t.SortedSet.prototype.clone=function(){var e=new t.SortedSet;return e.elements=this.toArray(),e.length=e.elements.length,e},t.SortedSet.prototype.union=function(t){var e,i,n;return this.length>=t.length?(e=this,i=t):(e=t,i=this),n=e.clone(),n.add.apply(n,i.toArray()),n},t.SortedSet.prototype.toJSON=function(){return this.toArray()},t.Index=function(){this._fields=[],this._ref="id",this.pipeline=new t.Pipeline,this.documentStore=new t.Store,this.tokenStore=new t.TokenStore,this.corpusTokens=new t.SortedSet,this.eventEmitter=new t.EventEmitter,this._idfCache={},this.on("add","remove","update",function(){this._idfCache={}}.bind(this))},t.Index.prototype.on=function(){var t=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,t)},t.Index.prototype.off=function(t,e){return this.eventEmitter.removeListener(t,e)},t.Index.load=function(e){e.version!==t.version&&t.utils.warn("version mismatch: current "+t.version+" importing "+e.version);var i=new this;return i._fields=e.fields,i._ref=e.ref,i.documentStore=t.Store.load(e.documentStore),i.tokenStore=t.TokenStore.load(e.tokenStore),i.corpusTokens=t.SortedSet.load(e.corpusTokens),i.pipeline=t.Pipeline.load(e.pipeline),i},t.Index.prototype.field=function(t,e){var e=e||{},i={name:t,boost:e.boost||1};return this._fields.push(i),this},t.Index.prototype.ref=function(t){return this._ref=t,this},t.Index.prototype.add=function(e,i){var n={},o=new t.SortedSet,r=e[this._ref],i=void 0===i?!0:i;this._fields.forEach(function(i){var r=this.pipeline.run(t.tokenizer(e[i.name]));n[i.name]=r,t.SortedSet.prototype.add.apply(o,r)},this),this.documentStore.set(r,o),t.SortedSet.prototype.add.apply(this.corpusTokens,o.toArray());for(var s=0;s<o.length;s++){var a=o.elements[s],l=this._fields.reduce(function(t,e){var i=n[e.name].length;if(!i)return t;var o=n[e.name].filter(function(t){return t===a}).length;return t+o/i*e.boost},0);this.tokenStore.add(a,{ref:r,tf:l})}i&&this.eventEmitter.emit("add",e,this)},t.Index.prototype.remove=function(t,e){var i=t[this._ref],e=void 0===e?!0:e;if(this.documentStore.has(i)){var n=this.documentStore.get(i);this.documentStore.remove(i),n.forEach(function(t){this.tokenStore.remove(t,i)},this),e&&this.eventEmitter.emit("remove",t,this)}},t.Index.prototype.update=function(t,e){var e=void 0===e?!0:e;this.remove(t,!1),this.add(t,!1),e&&this.eventEmitter.emit("update",t,this)},t.Index.prototype.idf=function(t){var e="@"+t;if(Object.prototype.hasOwnProperty.call(this._idfCache,e))return this._idfCache[e];var i=this.tokenStore.count(t),n=1;return i>0&&(n=1+Math.log(this.documentStore.length/i)),this._idfCache[e]=n},t.Index.prototype.search=function(e){var i=this.pipeline.run(t.tokenizer(e)),n=new t.Vector,o=[],r=this._fields.reduce(function(t,e){return t+e.boost},0),s=i.some(function(t){return this.tokenStore.has(t)},this);if(!s)return[];i.forEach(function(e,i,s){var a=1/s.length*this._fields.length*r,l=this,u=this.tokenStore.expand(e).reduce(function(i,o){var r=l.corpusTokens.indexOf(o),s=l.idf(o),u=1,h=new t.SortedSet;if(o!==e){var c=Math.max(3,o.length-e.length);u=1/Math.log(c)}r>-1&&n.insert(r,a*s*u);for(var p=l.tokenStore.get(o),d=Object.keys(p),f=d.length,m=0;f>m;m++)h.add(p[d[m]].ref);return i.union(h)},new t.SortedSet);o.push(u)},this);var a=o.reduce(function(t,e){return t.intersect(e)});return a.map(function(t){return{ref:t,score:n.similarity(this.documentVector(t))}},this).sort(function(t,e){return e.score-t.score})},t.Index.prototype.documentVector=function(e){for(var i=this.documentStore.get(e),n=i.length,o=new t.Vector,r=0;n>r;r++){var s=i.elements[r],a=this.tokenStore.get(s)[e].tf,l=this.idf(s);o.insert(this.corpusTokens.indexOf(s),a*l)}return o},t.Index.prototype.toJSON=function(){return{version:t.version,fields:this._fields,ref:this._ref,documentStore:this.documentStore.toJSON(),tokenStore:this.tokenStore.toJSON(),corpusTokens:this.corpusTokens.toJSON(),pipeline:this.pipeline.toJSON()}},t.Index.prototype.use=function(t){var e=Array.prototype.slice.call(arguments,1);e.unshift(this),t.apply(this,e)},t.Store=function(){this.store={},this.length=0},t.Store.load=function(e){var i=new this;return i.length=e.length,i.store=Object.keys(e.store).reduce(function(i,n){return i[n]=t.SortedSet.load(e.store[n]),i},{}),i},t.Store.prototype.set=function(t,e){this.has(t)||this.length++,this.store[t]=e},t.Store.prototype.get=function(t){return this.store[t]},t.Store.prototype.has=function(t){return t in this.store},t.Store.prototype.remove=function(t){this.has(t)&&(delete this.store[t],this.length--)},t.Store.prototype.toJSON=function(){return{store:this.store,length:this.length}},t.stemmer=function(){var t={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},e={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},i="[^aeiou]",n="[aeiouy]",o=i+"[^aeiouy]*",r=n+"[aeiou]*",s="^("+o+")?"+r+o,a="^("+o+")?"+r+o+"("+r+")?$",l="^("+o+")?"+r+o+r+o,u="^("+o+")?"+n,h=new RegExp(s),c=new RegExp(l),p=new RegExp(a),d=new RegExp(u),f=/^(.+?)(ss|i)es$/,m=/^(.+?)([^s])s$/,_=/^(.+?)eed$/,g=/^(.+?)(ed|ing)$/,v=/.$/,y=/(at|bl|iz)$/,b=new RegExp("([^aeiouylsz])\\1$"),L=new RegExp("^"+o+n+"[^aeiouwxy]$"),w=/^(.+?[^aeiou])y$/,x=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,P=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,S=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,C=/^(.+?)(s|t)(ion)$/,T=/^(.+?)e$/,M=/ll$/,k=new RegExp("^"+o+n+"[^aeiouwxy]$"),O=function(i){var n,o,r,s,a,l,u;if(i.length<3)return i;if(r=i.substr(0,1),"y"==r&&(i=r.toUpperCase()+i.substr(1)),s=f,a=m,s.test(i)?i=i.replace(s,"$1$2"):a.test(i)&&(i=i.replace(a,"$1$2")),s=_,a=g,s.test(i)){var O=s.exec(i);s=h,s.test(O[1])&&(s=v,i=i.replace(s,""))}else if(a.test(i)){var O=a.exec(i);n=O[1],a=d,a.test(n)&&(i=n,a=y,l=b,u=L,a.test(i)?i+="e":l.test(i)?(s=v,i=i.replace(s,"")):u.test(i)&&(i+="e"))}if(s=w,s.test(i)){var O=s.exec(i);n=O[1],i=n+"i"}if(s=x,s.test(i)){var O=s.exec(i);n=O[1],o=O[2],s=h,s.test(n)&&(i=n+t[o])}if(s=P,s.test(i)){var O=s.exec(i);n=O[1],o=O[2],s=h,s.test(n)&&(i=n+e[o])}if(s=S,a=C,s.test(i)){var O=s.exec(i);n=O[1],s=c,s.test(n)&&(i=n)}else if(a.test(i)){var O=a.exec(i);n=O[1]+O[2],a=c,a.test(n)&&(i=n)}if(s=T,s.test(i)){var O=s.exec(i);n=O[1],s=c,a=p,l=k,(s.test(n)||a.test(n)&&!l.test(n))&&(i=n)}return s=M,a=c,s.test(i)&&a.test(i)&&(s=v,i=i.replace(s,"")),"y"==r&&(i=r.toLowerCase()+i.substr(1)),i};return O}(),t.Pipeline.registerFunction(t.stemmer,"stemmer"),t.generateStopWordFilter=function(t){var e=t.reduce(function(t,e){return t[e]=e,t},{});return function(t){return t&&e[t]!==t?t:void 0}},t.stopWordFilter=t.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),t.Pipeline.registerFunction(t.stopWordFilter,"stopWordFilter"),t.trimmer=function(t){return t.replace(/^\W+/,"").replace(/\W+$/,"")},t.Pipeline.registerFunction(t.trimmer,"trimmer"),t.TokenStore=function(){this.root={docs:{}},this.length=0},t.TokenStore.load=function(t){var e=new this;return e.root=t.root,e.length=t.length,e},t.TokenStore.prototype.add=function(t,e,i){var i=i||this.root,n=t.charAt(0),o=t.slice(1);return n in i||(i[n]={docs:{}}),0===o.length?(i[n].docs[e.ref]=e,void(this.length+=1)):this.add(o,e,i[n])},t.TokenStore.prototype.has=function(t){if(!t)return!1;for(var e=this.root,i=0;i<t.length;i++){if(!e[t.charAt(i)])return!1;e=e[t.charAt(i)]}return!0},t.TokenStore.prototype.getNode=function(t){if(!t)return{};for(var e=this.root,i=0;i<t.length;i++){if(!e[t.charAt(i)])return{};e=e[t.charAt(i)]}return e},t.TokenStore.prototype.get=function(t,e){return this.getNode(t,e).docs||{}},t.TokenStore.prototype.count=function(t,e){return Object.keys(this.get(t,e)).length},t.TokenStore.prototype.remove=function(t,e){if(t){for(var i=this.root,n=0;n<t.length;n++){if(!(t.charAt(n)in i))return;i=i[t.charAt(n)]}delete i.docs[e]}},t.TokenStore.prototype.expand=function(t,e){var i=this.getNode(t),n=i.docs||{},e=e||[];return Object.keys(n).length&&e.push(t),Object.keys(i).forEach(function(i){"docs"!==i&&e.concat(this.expand(t+i,e))},this),e},t.TokenStore.prototype.toJSON=function(){return{root:this.root,length:this.length}},function(t,n){"function"==typeof define&&define.amd?define(n):"object"==typeof i?e.exports=n():t.lunr=n()}(this,function(){return t})}()},{}],71:[function(t,e,i){function n(t){var e="string"==typeof t?t.toLowerCase():void 0;return e}for(var o=t("./states.json"),r={},s={},a=0;a<o.length;a++)r[o[a].name.toLowerCase()]=o[a].abbr,s[o[a].abbr.toLowerCase()]=o[a].name;i.states=o,i.getStateAbbrev=function(t,e){var i=n(t);e(r[i])},i.getStateAbbrevSync=function(t){var e=n(t);return r[e]},i.getStateName=function(t,e){var i=n(t);e(s[i])},i.getStateNameSync=function(t){var e=n(t);return s[e]}},{"./states.json":72}],72:[function(t,e){e.exports=[{name:"Alabama",abbr:"AL"},{name:"Alaska",abbr:"AK"},{name:"Arizona",abbr:"AZ"},{name:"Arkansas",abbr:"AR"},{name:"California",abbr:"CA"},{name:"Colorado",abbr:"CO"},{name:"Connecticut",abbr:"CT"},{name:"Delaware",abbr:"DE"},{name:"District of Columbia",abbr:"DC"},{name:"Florida",abbr:"FL"},{name:"Georgia",abbr:"GA"},{name:"Hawaii",abbr:"HI"},{name:"Idaho",abbr:"ID"},{name:"Illinois",abbr:"IL"},{name:"Indiana",abbr:"IN"},{name:"Iowa",abbr:"IA"},{name:"Kansas",abbr:"KS"},{name:"Kentucky",abbr:"KY"},{name:"Louisiana",abbr:"LA"},{name:"Maine",abbr:"ME"},{name:"Maryland",abbr:"MD"},{name:"Massachusetts",abbr:"MA"},{name:"Michigan",abbr:"MI"},{name:"Minnesota",abbr:"MN"},{name:"Mississippi",abbr:"MS"},{name:"Missouri",abbr:"MO"},{name:"Montana",abbr:"MT"},{name:"Nebraska",abbr:"NE"},{name:"Nevada",abbr:"NV"},{name:"New Hampshire",abbr:"NH"},{name:"New Jersey",abbr:"NJ"},{name:"New Mexico",abbr:"NM"},{name:"New York",abbr:"NY"},{name:"North Carolina",abbr:"NC"},{name:"North Dakota",abbr:"ND"},{name:"Ohio",abbr:"OH"},{name:"Oklahoma",abbr:"OK"},{name:"Oregon",abbr:"OR"},{name:"Pennsylvania",abbr:"PA"},{name:"Rhode Island",abbr:"RI"},{name:"South Carolina",abbr:"SC"},{name:"South Dakota",abbr:"SD"},{name:"Tennessee",abbr:"TN"},{name:"Texas",abbr:"TX"},{name:"Utah",abbr:"UT"},{name:"Vermont",abbr:"VT"},{name:"Virginia",abbr:"VA"},{name:"Washington",abbr:"WA"},{name:"West Virginia",abbr:"WV"},{name:"Wisconsin",abbr:"WI"},{name:"Wyoming",abbr:"WY"},{name:"Virgin Islands",abbr:"VI"},{name:"Puerto Rico",abbr:"PR"}]},{}],73:[function(t,e){"use strict";function i(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function n(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;10>i;i++)e["_"+String.fromCharCode(i)]=i;var n=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==n.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(t){o[t]=t}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},o)).join("")?!1:!0}catch(r){return!1}}var o=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;e.exports=n()?Object.assign:function(t){for(var e,n,a=i(t),l=1;l<arguments.length;l++){e=Object(arguments[l]);for(var u in e)r.call(e,u)&&(a[u]=e[u]);if(o){n=o(e);for(var h=0;h<n.length;h++)s.call(e,n[h])&&(a[n[h]]=e[n[h]])}}return a}},{}],74:[function(t,e,i){"use strict";function n(t,e){if(1===arguments.length){for(var i=t[0],o=1;o<t.length;o++)i=n(i,t[o]);return i}for(var r in e)if("class"===r){var s=t[r]||[];t[r]=(Array.isArray(s)?s:[s]).concat(e[r]||[])}else if("style"===r){var s=a(t[r]),l=a(e[r]);t[r]=s+l}else t[r]=e[r];return t}function o(t,e){for(var i,n="",o="",r=Array.isArray(e),a=0;a<t.length;a++)i=s(t[a]),i&&(r&&e[a]&&(i=h(i)),n=n+o+i,o=" ");return n}function r(t){var e="",i="";for(var n in t)n&&t[n]&&p.call(t,n)&&(e=e+i+n,i=" ");return e}function s(t,e){return Array.isArray(t)?o(t,e):t&&"object"==typeof t?r(t):t||""}function a(t){if(!t)return"";if("object"==typeof t){var e="";for(var i in t)p.call(t,i)&&(e=e+i+":"+t[i]+";");return e}return t+="",";"!==t[t.length-1]?t+";":t}function l(t,e,i,n){return e!==!1&&null!=e&&(e||"class"!==t&&"style"!==t)?e===!0?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=h(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}function u(t,e){var i="";for(var n in t)if(p.call(t,n)){var o=t[n];if("class"===n){o=s(o),i=l(n,o,!1,e)+i;continue}"style"===n&&(o=a(o)),i+=l(n,o,!1,e)}return i}function h(t){var e=""+t,i=d.exec(e);if(!i)return t;var n,o,r,s="";for(n=i.index,o=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}o!==n&&(s+=e.substring(o,n)),o=n+1,s+=r}return o!==n?s+e.substring(o,n):s}function c(e,i,n,o){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&i||o))throw e.message+=" on line "+n,e;try{o=o||t("fs").readFileSync(i,"utf8")}catch(r){c(e,null,n)}var s=3,a=o.split("\n"),l=Math.max(n-s,0),u=Math.min(a.length,n+s),s=a.slice(l,u).map(function(t,e){var i=e+l+1;return(i==n?"  > ":"    ")+i+"| "+t}).join("\n");throw e.path=i,e.message=(i||"Pug")+":"+n+"\n"+s+"\n\n"+e.message,e}var p=Object.prototype.hasOwnProperty;i.merge=n,i.classes=s,i.style=a,i.attr=l,i.attrs=u;var d=/["&<>]/;i.escape=h,i.rethrow=c},{fs:42}],75:[function(t,e,i){"use strict";function n(t,e){return e.encode?e.strict?o(t):encodeURIComponent(t):t}var o=t("strict-uri-encode"),r=t("object-assign");i.extract=function(t){return t.split("?")[1]||""},i.parse=function(t){var e=Object.create(null);return"string"!=typeof t?e:(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var i=t.replace(/\+/g," ").split("="),n=i.shift(),o=i.length>0?i.join("="):void 0;n=decodeURIComponent(n),o=void 0===o?null:decodeURIComponent(o),void 0===e[n]?e[n]=o:Array.isArray(e[n])?e[n].push(o):e[n]=[e[n],o]}),e):e},i.stringify=function(t,e){var i={encode:!0,strict:!0};return e=r(i,e),t?Object.keys(t).sort().map(function(i){var o=t[i];if(void 0===o)return"";if(null===o)return n(i,e);if(Array.isArray(o)){var r=[];return o.slice().forEach(function(t){void 0!==t&&r.push(null===t?n(i,e):n(i,e)+"="+n(t,e))}),r.join("&")}return n(i,e)+"="+n(o,e)}).filter(function(t){return t.length>0}).join("&"):""}},{"object-assign":76,"strict-uri-encode":77}],76:[function(t,e){"use strict";function i(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function n(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;10>i;i++)e["_"+String.fromCharCode(i)]=i;var n=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==n.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(t){o[t]=t}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},o)).join("")?!1:!0}catch(r){return!1}}var o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=n()?Object.assign:function(t){for(var e,n,s=i(t),a=1;a<arguments.length;a++){e=Object(arguments[a]);for(var l in e)o.call(e,l)&&(s[l]=e[l]);if(Object.getOwnPropertySymbols){n=Object.getOwnPropertySymbols(e);for(var u=0;u<n.length;u++)r.call(e,n[u])&&(s[n[u]]=e[n[u]])}}return s}},{}],77:[function(t,e){"use strict";e.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}},{}],78:[function(t,e){function i(){var t=[];return function e(i){if(i===document.documentElement)return!1;for(var n=0,o=t.length;o>n;n++)if(t[n][0]===i)return t[n][1];var r=!1,s=window.getComputedStyle(i);return"hidden"===s.visibility||"none"===s.display?r=!0:i.parentNode&&(r=e(i.parentNode)),t.push([i,r]),r}}e.exports=function(t){for(var e,n,o=[],r=[],s=i(),a=t.querySelectorAll("input, select, a[href], textarea, button, [tabindex]"),l=0,u=a.length;u>l;l++)e=a[l],n=e.tabIndex,0>n||"INPUT"===e.tagName&&"hidden"===e.type||e.disabled||s(e)||(0===n?o.push(e):r.push({tabIndex:n,node:e}));var h=r.sort(function(t,e){return t.tabIndex-e.tabIndex}).map(function(t){return t.node});return Array.prototype.push.apply(h,o),h}},{}],79:[function(t,e){var i=t("./helper/makeString"),n="ąàáäâãåæăćčĉęèéëêĝĥìíïîĵłľńňòóöőôõðøśșşšŝťțţŭùúüűûñÿýçżźž",o="aaaaaaaaaccceeeeeghiiiijllnnoooooooossssstttuuuuuunyyczzz";n+=n.toUpperCase(),o+=o.toUpperCase(),o=o.split(""),n+="ß",o.push("ss"),e.exports=function(t){return i(t).replace(/.{1}/g,function(t){var e=n.indexOf(t);return-1===e?t:o[e]})}},{"./helper/makeString":83}],80:[function(t,e){var i=t("./trim");e.exports=function(t){return i(t).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()}},{"./trim":85}],81:[function(t,e){var i=t("./escapeRegExp");e.exports=function(t){return null==t?"\\s":t.source?t.source:"["+i(t)+"]"}},{"./escapeRegExp":82}],82:[function(t,e){var i=t("./makeString");e.exports=function(t){return i(t).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}},{"./makeString":83}],83:[function(t,e){e.exports=function(t){return null==t?"":""+t}},{}],84:[function(t,e){var i=t("./trim"),n=t("./dasherize"),o=t("./cleanDiacritics");e.exports=function(t){return i(n(o(t).replace(/[^\w\s-]/g,"-").toLowerCase()),"-")}},{"./cleanDiacritics":79,"./dasherize":80,"./trim":85}],85:[function(t,e){var i=t("./helper/makeString"),n=t("./helper/defaultToWhiteSpace"),o=String.prototype.trim;e.exports=function(t,e){return t=i(t),!e&&o?o.call(t):(e=n(e),t.replace(new RegExp("^"+e+"+|"+e+"+$","g"),""))}},{"./helper/defaultToWhiteSpace":81,"./helper/makeString":83}],86:[function(t,e){"use strict";function i(t,e){for(var i=0;i<t.length;i++)e(t[i])}function n(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function o(t,e,i){var n=t;return h(e)?(i=e,"string"==typeof t&&(n={uri:t})):n=p(e,{uri:t}),n.callback=i,n}function r(t,e,i){return e=o(t,e,i),s(e)}function s(t){function e(){4===p.readyState&&s()}function i(){var t=void 0;if(t=p.response?p.response:p.responseText||a(p),L)try{t=JSON.parse(t)}catch(e){}return t}function o(t){return clearTimeout(m),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,u(t,h)}function s(){if(!f){var e;clearTimeout(m),e=t.useXDR&&void 0===p.status?200:1223===p.status?204:p.status;var n=h,o=null;return 0!==e?(n={body:i(),statusCode:e,method:g,headers:{},url:_,rawRequest:p},p.getAllResponseHeaders&&(n.headers=c(p.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),u(o,n,n.body)}}if("undefined"==typeof t.callback)throw new Error("callback argument missing");var l=!1,u=function(e,i,n){l||(l=!0,t.callback(e,i,n))},h={body:void 0,headers:{},statusCode:0,method:g,url:_,rawRequest:p},p=t.xhr||null;p||(p=t.cors||t.useXDR?new r.XDomainRequest:new r.XMLHttpRequest);var d,f,m,_=p.url=t.uri||t.url,g=p.method=t.method||"GET",v=t.body||t.data||null,y=p.headers=t.headers||{},b=!!t.sync,L=!1;if("json"in t&&(L=!0,y.accept||y.Accept||(y.Accept="application/json"),"GET"!==g&&"HEAD"!==g&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),v=JSON.stringify(t.json))),p.onreadystatechange=e,p.onload=s,p.onerror=o,p.onprogress=function(){},p.ontimeout=o,p.open(g,_,!b,t.username,t.password),b||(p.withCredentials=!!t.withCredentials),!b&&t.timeout>0&&(m=setTimeout(function(){f=!0,p.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",o(t)},t.timeout)),p.setRequestHeader)for(d in y)y.hasOwnProperty(d)&&p.setRequestHeader(d,y[d]);else if(t.headers&&!n(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(p.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(p),p.send(v),p}function a(t){if("document"===t.responseType)return t.responseXML;var e=204===t.status&&t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;return""!==t.responseType||e?null:t.responseXML}function l(){}var u=t("global/window"),h=t("is-function"),c=t("parse-headers"),p=t("xtend");e.exports=r,r.XMLHttpRequest=u.XMLHttpRequest||l,r.XDomainRequest="withCredentials"in new r.XMLHttpRequest?r.XMLHttpRequest:u.XDomainRequest,i(["get","put","post","patch","head","delete"],function(t){r["delete"===t?"del":t]=function(e,i,n){return i=o(e,i,n),i.method=t.toUpperCase(),s(i)}})},{"global/window":87,"is-function":88,"parse-headers":91,xtend:92}],87:[function(t,e){(function(t){e.exports="undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],88:[function(t,e){function i(t){var e=n.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}e.exports=i;var n=Object.prototype.toString},{}],89:[function(t,e){function i(t,e,i){if(!s(e))throw new TypeError("iterator must be a function");arguments.length<3&&(i=this),"[object Array]"===a.call(t)?n(t,e,i):"string"==typeof t?o(t,e,i):r(t,e,i)}function n(t,e,i){for(var n=0,o=t.length;o>n;n++)l.call(t,n)&&e.call(i,t[n],n,t)}function o(t,e,i){for(var n=0,o=t.length;o>n;n++)e.call(i,t.charAt(n),n,t)}function r(t,e,i){for(var n in t)l.call(t,n)&&e.call(i,t[n],n,t)}var s=t("is-function");e.exports=i;var a=Object.prototype.toString,l=Object.prototype.hasOwnProperty},{"is-function":88}],90:[function(t,e,i){function n(t){return t.replace(/^\s*|\s*$/g,"")}i=e.exports=n,i.left=function(t){return t.replace(/^\s*/,"")},i.right=function(t){return t.replace(/\s*$/,"")}},{}],91:[function(t,e){var i=t("trim"),n=t("for-each"),o=function(t){return"[object Array]"===Object.prototype.toString.call(t)};e.exports=function(t){if(!t)return{};var e={};return n(i(t).split("\n"),function(t){var n=t.indexOf(":"),r=i(t.slice(0,n)).toLowerCase(),s=i(t.slice(n+1));

"undefined"==typeof e[r]?e[r]=s:o(e[r])?e[r].push(s):e[r]=[e[r],s]}),e}},{"for-each":89,trim:90}],92:[function(t,e){function i(){for(var t={},e=0;e<arguments.length;e++){var i=arguments[e];for(var o in i)n.call(i,o)&&(t[o]=i[o])}return t}e.exports=i;var n=Object.prototype.hasOwnProperty},{}],93:[function(t,e){"use strict";function i(t){if(t.preventDefault(),"A"===t.target.nodeName){var e=a.parse(t.target.search).q.replace(/-/g," "),i=this.offices.search(e)[0];this.output.innerHTML="",this.input.value=t.target.textContent,r.emit("office:selected",i),this.blurInput()}}function n(t){if(this.container.classList.contains("active")){var e=s.tabbable(this.container),i=e.filter(function(e,i){return document.activeElement===e?i+t:void 0})[0];-1===i?i=0:i===e.length&&(i-=1),e[i].focus()}}function o(t){var e=t.code||t.keyCode||t.which||0;38===e&&n(-1),40===e&&n(1),27===e&&(this.input.focus(),this.output.innerHTML="",this.output.classList.remove("active"))}var r=t("./mediator"),s=t("./util"),a=t("query-string"),l=t("../templates/autocomplete.pug"),u=function(t){this.input=t.input,this.output=t.output,this.offices=t.offices,this.minLength=t.minLength||2,this.displayResults=t.displayResults||!0,this.container=s.create("div","autocomplete-widget",document.body),this.form=s.create("form","autocomplete-form",this.container),this.label=s.create("label","",this.form),this.label.innerHTML="Search:",this.label.setAttribute("for","autocomplete-input"),this.input=s.create("input","autocomplete-input",this.form),this.input.setAttribute("id","autocomplete-input"),this.input.setAttribute("autocomplete","off"),this.clear=s.create("button","autocomplete-clear",this.form),this.clear.innerHTML="Clear",this.output=s.create("ul","autocomplete-results",this.container),this.output.addEventListener("click",i.bind(this)),this.form.addEventListener("submit",function(t){return t.preventDefault()}),this.input.addEventListener("keyup",this.inputKeyup.bind(this)),this.input.addEventListener("focus",this.focusInput.bind(this)),this.clear.addEventListener("click",this.clearInput.bind(this)),this.container.addEventListener("keyup",o.bind(this)),r.on("marker:click",this.updateInputValue.bind(this)),r.on("blur:input",this.blurInput.bind(this)),r.on("view:changed",this.toggleDisplayResults.bind(this)),this.input.focus()};e.exports=u,u.prototype.toggleDisplayResults=function(){this.displayResults=!this.displayResults},u.prototype.updateInputValue=function(t){this.input.value=t.properties.name},u.prototype.clearInput=function(){this.input.value="",this.input.focus(),this.output.innerHTML="",r.emit("autocomplete:empty",this.offices.getOffices())},u.prototype.focusInput=function(){this.container.classList.add("active"),this.input.setAttribute("placeholder","Search")},u.prototype.blurInput=function(){this.container.classList.remove("active"),this.input.setAttribute("placeholder","")},u.prototype.inputKeyup=function(){return r.emit("autocomplete:keyup"),0===this.input.value.length?(r.emit("autocomplete:empty",this.offices.getOffices()),this.output.innerHTML="",void this.output.classList.remove("active")):void(this.input.value.length<this.minLength||this.search(this.input.value))},u.prototype.search=function(t){var e=this.offices.search(t);this.displayResults&&this.render(e),r.emit("autocomplete:results",e)},u.prototype.render=function(t){0===t.length?this.output.classList.remove("active"):this.output.classList.add("active"),this.output.innerHTML=l({offices:t,normalize:this.offices.normalizeOfficeName})}},{"../templates/autocomplete.pug":110,"./mediator":102,"./util":107,"query-string":75}],94:[function(t,e){"use strict";function i(t){if(t.preventDefault(),"A"===t.target.nodeName){var e=o.parse(t.target.search).q.replace(/-/g," "),i=this.offices.search(e)[0];this.renderOffice(i),n.emit("office:selected",i)}}var n=t("./mediator"),o=t("query-string"),r=t("./util"),s={init:t("../templates/detail-init.pug"),detail:t("../templates/detail.pug"),nearest:t("../templates/nearest.pug")},a=function(t){this.offices=t.offices,this.initialOffice=t.initialOffice,this.active=t.initialView,this.container=r.create("aside","detail-container",document.body),this.close=r.create("button","detail-toggle",this.container),this.close.innerHTML="&#9650;",this.content=r.create("section","detail-content",this.container),this.content.innerHTML=s.init(),this.container.addEventListener("click",this.blur.bind(this)),this.close.addEventListener("click",this.toggle.bind(this)),this.content.addEventListener("click",i.bind(this)),n.on("office:selected",this.renderOffice.bind(this)),n.on("marker:click",this.renderOffice.bind(this)),n.on("autocomplete:keyup",this.hide.bind(this)),n.on("view:changed",this.hide.bind(this)),n.on("zoom:fullextent",this.hide.bind(this)),n.on("found:office",this.renderOffice.bind(this)),n.on("offices:random",this.renderOffice.bind(this)),n.on("found:nearest",this.renderNearest.bind(this)),this.active&&this.show()};e.exports=a,a.prototype.blur=function(){n.emit("blur:input")},a.prototype.show=function(){this.active||n.emit("detail:show",-200),this.active=!0,this.close.innerHTML="&#9660;",this.container.classList.add("active")},a.prototype.hide=function(){this.active&&n.emit("detail:hide",200),this.active=!1,this.close.innerHTML="&#9650;",this.container.classList.remove("active")},a.prototype.toggle=function(){var t=this.active?"detail:hide":"detail:show",e=this.active?200:-200;this.close.innerHTML=this.active?"&#9650;":"&#9660;",this.container.classList.toggle("active"),this.active=!this.active,n.emit(t,e)},a.prototype.renderOffice=function(t){this.content.innerHTML=s.detail({office:t.properties}),this.show()},a.prototype.renderNearest=function(t){this.content.innerHTML=s.nearest({nearest:t}),this.show()}},{"../templates/detail-init.pug":111,"../templates/detail.pug":112,"../templates/nearest.pug":114,"./mediator":102,"./util":107,"query-string":75}],95:[function(t,e){"use strict";function i(t){switch(t){case"National Wildlife Refuge":return{alt:"Official Logo of the National Wildlife Refuge System",icon:o};case"National Fish Hatchery":return{alt:"Official Logo of America's Fisheries",icon:s};default:return{alt:"A generic office building icon",icon:r}}}var n=t("leaflet"),o=n.icon({iconUrl:"./svg/blue-goose.svg",iconSize:[70,90],popupAnchor:[5,-17]}),r=n.icon({iconUrl:"./svg/building.svg",iconSize:[70,50],popupAnchor:[0,-20]}),s=n.icon({iconUrl:"./svg/fisheries.svg",iconSize:[70,50],popupAnchor:[7,-25]});e.exports={blueGoose:o,office:r,fisheries:s,getIcon:i}},{leaflet:54}],96:[function(t){"use strict";function e(t){r.get("./data/offices.json",function(e,i){return e?t(e):200!==i.statusCode?t(new Error("Could not download offices.")):t(null,JSON.parse(i.body))})}function i(t){r.get("./data/states.json",function(e,i){return e?t(e):200!==i.statusCode?t(new Error("Could not download states.")):t(null,JSON.parse(i.body))})}function n(t,e){t&&console.log(t);{var i=new p(e[0]),n=new d(e[1]),r=y.office?i.search(y.office)[0]:null,s=y.state?n.getBounds(y.state,"NAME"):i.getBounds();new f({offices:i,initialOffice:r,initialView:y.hasOwnProperty("detail")||v}),new h({input:document.querySelector(".autocomplete-input"),output:document.querySelector(".autocomplete-results"),offices:i}),new g({scroll:"false"===y.scroll?!1:!0,layers:y.layers?o(y.layers):null,offices:i,bounds:s,initialOffice:r}),new c({list:document.querySelector(".office-list"),offices:i}),new m({textViewContainer:L,mapViewContainer:w,view:"text"===y.view?"text":"map"}),new _}u.remove(b)}function o(t){var e=[];return"string"==typeof t?e.push(t):e=t,e.map(function(t){return t.toLowerCase()})}t("classlist-polyfill");var r=t("xhr"),s=t("query-string"),a=t("async/parallel"),l=t("object-assign"),u=t("./util"),h=t("./autocomplete"),c=t("./office-list"),p=t("./offices"),d=t("./states"),f=t("./detail"),m=t("./view-switcher"),_=t("./toolbar"),g=t("./map/"),v=(t("./mediator"),u.getDimensions().width>1100),y=l({},s.parse(location.search)),b=document.querySelector(".landing-screen"),L=document.querySelector(".office-list"),w=document.querySelector("#map"),x=[e];y.state&&x.push(i),a(x,n)},{"./autocomplete":93,"./detail":94,"./map/":97,"./mediator":102,"./office-list":103,"./offices":104,"./states":105,"./toolbar":106,"./util":107,"./view-switcher":108,"async/parallel":40,"classlist-polyfill":43,"object-assign":73,"query-string":75,xhr:86}],97:[function(t,e){"use strict";var i=t("leaflet"),n=t("leaflet-knn"),o=t("../mediator"),r=t("./layers"),s=t("./layer"),a=t("../util");i.Icon.Default.imagePath="./images";var l=function(t){this.zoom=t.zoom||7,this.mapId=t.mapId||"map",this.offices=t.offices,this.bounds=t.bounds,this.initialOffice=t.initialOffice,this.scroll=t.scroll,this.layers=t.layers,this.index=n(i.geoJson(this.offices.getOffices())),this.fullExtent=a.create("button",["tt-w","zoom-to-full-extent","leaflet-control-roy"],document.body),this.fullExtent.setAttribute("data-tt","Zoom to full extent"),this.nearest=a.create("button",["find-nearest","tt-w","leaflet-control-roy"],document.body),this.nearest.setAttribute("data-tt","Find nearest offices"),this.imgLocate=a.create("img","",this.nearest),this.imgLocate.setAttribute("src","./svg/current-location.svg"),this.imgLocate.setAttribute("alt","Icon representing your current location"),this.imgExtent=a.create("img","",this.fullExtent),this.imgExtent.setAttribute("src","./svg/full-extent.svg"),this.imgExtent.setAttribute("alt","Icon representing zoom to full extent"),this.createMap.call(this),o.on("office:selected",r.flyToOffice),o.on("detail:hide",this.panMap.bind(this)),o.on("detail:show",this.panMap.bind(this)),this.fullExtent.addEventListener("click",this.zoomToFullExtent.bind(this)),this.nearest.addEventListener("click",this.getLocation.bind(this)),this.map.on("click",this.blurInput.bind(this)),this.map.on("locationfound",this.findNearest.bind(this))};e.exports=l,l.prototype.getLocation=function(){this.nearest.classList.add("loading"),this.imgLocate.setAttribute("src","./svg/loading.svg"),this.map.locate()},l.prototype.panMap=function(t){this.map.panBy([t,0])},l.prototype.blurInput=function(){o.emit("blur:input")},l.prototype.zoomToFullExtent=function(){this.map.flyToBounds(r.getBounds()),o.emit("zoom:fullextent")},l.prototype.createMap=function(){var t={zoom:this.zoom,scrollWheelZoom:this.scroll,zoomControl:!1,layers:[r.baseLayers["ESRI National Geographic"]]},e=new s({offices:this.offices,type:"National Wildlife Refuge"});console.log(e),this.map=i.map(this.mapId,t),this.bounds&&this.map.fitBounds(this.bounds),r.init(this.offices.getOffices(),this.layers,this.map),this.initialOffice&&r.flyToOffice(this.initialOffice),new i.Control.Zoom({position:"bottomright"}).addTo(this.map)},l.prototype.findNearest=function(t){i.popup().setLatLng(t.latlng).setContent("Your Current Location").openOn(this.map);var e=this.index.nearest(t.latlng,10);this.nearest.classList.remove("loading"),this.imgLocate.setAttribute("src","./svg/current-location.svg"),o.emit("found:nearest",e)}},{"../mediator":102,"../util":107,"./layer":98,"./layers":99,leaflet:54,"leaflet-knn":47}],98:[function(t,e){"use strict";function i(t,e){return a.geoJson(t,{filter:function(t){switch(t.properties.type){case e:return!0;default:return!1}},onEachFeature:n,pointToLayer:o})}function n(t,e){e.bindPopup(u({office:t.properties})),e.on({click:r})}function o(t,e){var i=t.properties.type,n=l.getIcon(i);return a.marker(e,{icon:n.icon,alt:n.alt})}function r(t){var e=t.target.feature;s(e),emitter.emit("marker:click",e)}function s(t){var e=t.geometry.coordinates.slice(0).reverse();e[1]=e[1]-.135,map.flyTo(e,11)}var a=t("leaflet"),l=t("../icons"),u=t("../../templates/popup.pug"),h=function(t){this.offices=t.offices,this.type=t.type,this.geojson=i(this.offices.getOffices(),this.type),this.layergroup=a.layerGroup().addLayer(this.geojson),console.log(this.geojson),this.geojson.on("mouseover",function(t){return t.layer.openPopup()})};e.exports=h},{"../../templates/popup.pug":115,"../icons":95,leaflet:54}],99:[function(t,e){"use strict";!function(){function i(t,e,i){v=t,b=i,L={Refuges:f.layerGroup().addLayer(u("National Wildlife Refuge")),Hatcheries:f.layerGroup().addLayer(u("National Fish Hatchery")),"Ecological Services":f.layerGroup().addLayer(u("Ecological Services Field Office")),"Fish and Wildlife Conservation Offices":f.layerGroup().addLayer(u("Fish And Wildlife Conservation Office"))},console.log(u("National Wildlife Refuge")),y=f.control.layers(x,L),e?s(L,e):o(L),n(),y.addTo(b),w.addTo(b),b.on("overlayadd",a),b.on("overlayremove",l)}function n(){_.map(P,function(t,e){y.addOverlay(t,e)})}function o(t){_.map(t,function(t){w.checkIn(t),w.addLayer(t)})}function r(){return w.getBounds()}function s(t,e){t.map(function(t,i){w.checkIn(t),_.includes(e,i.toLowerCase())&&w.addLayer(t)}),P.map(function(t,i){_.includes(e,i.toLowerCase())&&b.addLayer(t)})}function a(t){t.layer._wmsVersion||w.addLayer(t)}function l(t){t.layer._wmsVersion||w.removeLayer(t)}function u(t){return f.geoJson(v,{filter:function(e){switch(e.properties.type){case t:return!0;default:return!1}},onEachFeature:h,pointToLayer:c}).on("mouseover",function(t){t.layer.openPopup()})}function h(t,e){e.bindPopup(g({office:t.properties})),e.on({click:p})}function c(e,i){var n=t("../icons"),o=e.properties.type;return"National Wildlife Refuge"===o?f.marker(i,{icon:n.blueGoose,alt:"Official logo of the National Wildlife Refuge System"}):"National Fish Hatchery"===o?f.marker(i,{icon:n.fisheries,alt:"Logo for the U.S. Fish and Wildlife Service Fisheries program"}):f.marker(i,{icon:n.office,alt:"Icon representing a field station"})}function p(t){var e=t.target.feature;d(e),m.emit("marker:click",e)}function d(t){var e=t.geometry.coordinates.slice(0).reverse();e[1]=e[1]-.135,b.flyTo(e,11)}var f=t("leaflet"),m=t("../mediator"),_=t("../util"),g=t("../../templates/popup.pug");t("leaflet.markercluster"),t("leaflet-providers"),t("./marker-cluster-layer-support");var v,y,b,L,w=f.markerClusterGroup.layerSupport({showCoverageOnHover:!1}),x={"ESRI National Geographic":f.tileLayer.provider("Esri.NatGeoWorldMap"),Imagery:f.tileLayer.provider("Esri.WorldImagery")},P=t("./wms");e.exports={init:i,flyToOffice:d,baseLayers:x,getBounds:r,cluster:w}}()},{"../../templates/popup.pug":115,"../icons":95,"../mediator":102,"../util":107,"./marker-cluster-layer-support":100,"./wms":101,leaflet:54,"leaflet-providers":52,"leaflet.markercluster":53}],100:[function(t,e){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(n,o){"function"==typeof define&&define.amd?define(["leaflet"],function(t){return t.MarkerClusterGroup.LayerSupport=o(t)}):"object"===("undefined"==typeof e?"undefined":i(e))&&e.exports?e.exports=o(t("leaflet")):n.L.MarkerClusterGroup.LayerSupport=o(n.L)}(void 0,function(t,e){var i=t.MarkerClusterGroup,n=i.prototype,o=t.FeatureGroup.EVENTS,r=i.extend({statics:{version:"1.0.0"},options:{singleAddRemoveBufferDuration:100},initialize:function(t){n.initialize.call(this,t),this._featureGroup=new s,this._featureGroup.addEventParent(this),this._nonPointGroup=new s,this._nonPointGroup.addEventParent(this),this._layers={},this._proxyLayerGroups={},this._proxyLayerGroupsNeedRemoving={},this._singleAddRemoveBuffer=[]},checkIn:function(t){var e=this._toArray(t);return this._checkInGetSeparated(e),this},checkOut:function(e){var i,n,o=this._toArray(e),r=this._separateSingleFromGroupLayers(o,{groups:[],singles:[]}),s=r.groups,a=r.singles;for(i=0;i<a.length;i++)n=a[i],delete this._layers[t.stamp(n)],delete n._mcgLayerSupportGroup;for(this._originalRemoveLayers(a),i=0;i<s.length;i++)n=s[i],this._dismissProxyLayerGroup(n);return this},addLayers:function(e){var i,n,o,r=this._toArray(e),s=this._checkInGetSeparated(r),a=s.groups;for(this._originalAddLayers(s.singles),i=0;i<a.length;i++)n=a[i],o=t.stamp(n),this._proxyLayerGroups[o]=n,delete this._proxyLayerGroupsNeedRemoving[o],this._map&&this._map._originalAddLayer(n)},addLayer:function(t){return this._bufferSingleAddRemove(t,"addLayers"),this},_originalAddLayer:n.addLayer,_originalAddLayers:n.addLayers,removeLayers:function(e){var i,n,o=this._toArray(e),r=this._separateSingleFromGroupLayers(o,{groups:[],singles:[]}),s=r.groups,a=r.singles,l=0;for(this._originalRemoveLayers(a);l<s.length;l++)i=s[l],n=t.stamp(i),delete this._proxyLayerGroups[n],this._map?this._map._originalRemoveLayer(i):this._proxyLayerGroupsNeedRemoving[n]=i;return this},removeLayer:function(t){return this._bufferSingleAddRemove(t,"removeLayers"),this},_originalRemoveLayer:n.removeLayer,_originalRemoveLayers:n.removeLayers,onAdd:function(e){e._originalAddLayer=e._originalAddLayer||e.addLayer,e._originalRemoveLayer=e._originalRemoveLayer||e.removeLayer,t.extend(e,l);var i,o,r,s=this._removePreAddedLayers(e);n.onAdd.call(this,e);for(i in this._proxyLayerGroups)o=this._proxyLayerGroups[i],e._originalAddLayer(o);for(i in this._proxyLayerGroupsNeedRemoving)o=this._proxyLayerGroupsNeedRemoving[i],e._originalRemoveLayer(o),delete this._proxyLayerGroupsNeedRemoving[i];for(r=0;r<s.length;r++)e.addLayer(s[r])},_bufferSingleAddRemove:function(e,i){var n,o=this.options.singleAddRemoveBufferDuration;o>0?(this._singleAddRemoveBuffer.push({type:i,layer:e}),this._singleAddRemoveBufferTimeout||(n=t.bind(this._processSingleAddRemoveBuffer,this),this._singleAddRemoveBufferTimeout=setTimeout(n,o))):this[i](e)},_processSingleAddRemoveBuffer:function(){for(var t,e,i=this._singleAddRemoveBuffer,n=0,o=[];n<i.length;n++)t=i[n],e||(e=t.type),t.type===e?o.push(t.layer):(this[e](o),o=[t.layer]);this[e](o),i.length=0,clearTimeout(this._singleAddRemoveBufferTimeout),this._singleAddRemoveBufferTimeout=null},_checkInGetSeparated:function(e){var i,n,o=this._separateSingleFromGroupLayers(e,{groups:[],singles:[]}),r=o.groups,s=o.singles;for(i=0;i<r.length;i++)n=r[i],this._recruitLayerGroupAsProxy(n);for(i=0;i<s.length;i++)n=s[i],this._removeFromOtherGroupsOrMap(n),this._layers[t.stamp(n)]=n,n._mcgLayerSupportGroup=this;return o},_separateSingleFromGroupLayers:function(e,i){for(var n,o=i.groups,r=i.singles,s=t.Util.isArray,a=0;a<e.length;a++)n=e[a],n instanceof t.LayerGroup?(o.push(n),this._separateSingleFromGroupLayers(n.getLayers(),i)):s(n)?this._separateSingleFromGroupLayers(n,i):r.push(n);return i},_recruitLayerGroupAsProxy:function(e){var i=e._proxyMcgLayerSupportGroup;if(i){if(i===this)return;i.checkOut(e)}else this._removeFromOwnMap(e);e._proxyMcgLayerSupportGroup=this,e._originalAddLayer=e._originalAddLayer||e.addLayer,e._originalRemoveLayer=e._originalRemoveLayer||e.removeLayer,t.extend(e,a)},_dismissProxyLayerGroup:function(i){if(i._proxyMcgLayerSupportGroup!==e&&i._proxyMcgLayerSupportGroup===this){delete i._proxyMcgLayerSupportGroup,i.addLayer=i._originalAddLayer,i.removeLayer=i._originalRemoveLayer;var n=t.stamp(i);delete this._proxyLayerGroups[n],delete this._proxyLayerGroupsNeedRemoving[n],this._removeFromOwnMap(i)}},_removeFromOtherGroupsOrMap:function(t){var e=t._mcgLayerSupportGroup;if(e){if(e===this)return;e.checkOut(t)}else t.__parent?t.__parent._group.removeLayer(t):this._removeFromOwnMap(t)},_removeFromOwnMap:function(t){t._map&&t._map.removeLayer(t)},_removePreAddedLayers:function(t){var e,i=this._layers,n=[];for(var o in i)e=i[o],e._map&&(n.push(e),t._originalRemoveLayer(e));return n},_toArray:function(e){return t.Util.isArray(e)?e:[e]}}),s=t.FeatureGroup.extend({addLayer:function(e){if(this.hasLayer(e))return this;e.addEventParent(this);var i=t.stamp(e);return this._layers[i]=e,this._map&&this._map._originalAddLayer(e),this._popupContent&&e.bindPopup&&e.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:e})},removeLayer:function(e){if(!this.hasLayer(e))return this;e in this._layers&&(e=this._layers[e]),"off"in e&&e.off(o,this._propagateEvent,this);var i=t.stamp(e);return this._map&&this._layers[i]&&this._map._originalRemoveLayer(this._layers[i]),delete this._layers[i],this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:e})},onAdd:function(t){this._map=t,this.eachLayer(t._originalAddLayer,t)},onRemove:function(t){this.eachLayer(t._originalRemoveLayer,t),this._map=null}}),a={addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map?this._proxyMcgLayerSupportGroup.addLayer(t):this._proxyMcgLayerSupportGroup.checkIn(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._proxyMcgLayerSupportGroup.removeLayer(t),delete this._layers[e],this}},l={addLayer:function(t){return t._mcgLayerSupportGroup?t._mcgLayerSupportGroup._originalAddLayer(t):this._originalAddLayer(t)},removeLayer:function(t){return t._mcgLayerSupportGroup?t._mcgLayerSupportGroup._originalRemoveLayer(t):this._originalRemoveLayer(t)}};return t.markerClusterGroup.layerSupport=function(t){return new r(t)},r})},{leaflet:54}],101:[function(t,e){"use strict";!function(){var i=t("leaflet");e.exports={"State Boundaries":i.tileLayer.wms("https://maps.bts.dot.gov/services/services/NTAD/States/MapServer/WmsServer?",{format:"image/png",transparent:!0,layers:"0",attribution:'<a href="http://osav.usdot.opendata.arcgis.com/datasets/34f8a046fef944f39d8a65004a431a1f_0">Dept. of Transportation</a>'}),"Refuge Boundaries":i.tileLayer.wms("https://gis.fws.gov/arcgis/services/FWS_Refuge_Boundaries/MapServer/WMSServer?",{format:"image/png",layers:"0",transparent:!0,attribution:'<a href="https://www.fws.gov/gis/data/CadastralDB/index_cadastral.html">U.S. Fish and Wildlife Service</a>'}),"114th Congressional Districts":i.tileLayer.wms("https://www.sciencebase.gov/arcgis/services/Catalog/57a0e84fe4b006cb4554a439/MapServer/WMSServer?",{format:"image/png",layers:"0",transparent:!0,attribution:'<a href="https://www.census.gov/geo/maps-data/data/cbf/cbf_cds.html">Census Bureau</a>'}),"Ducks Unlimited Flyways":i.tileLayer.wms("https://www.sciencebase.gov/arcgis/services/Catalog/57a102c1e4b006cb4554a4d3/MapServer/WMSServer?",{format:"image/png",layers:"0",transparent:!0,opacity:.5,attribution:'<a href="http://www.ducks.org/conservation/gis/gis-spatial-data-download/page4">Ducks Unlimited</a>'})}}()},{leaflet:54}],102:[function(t,e){"use strict";!function(){var i=t("events").EventEmitter;e.exports=new i}()},{events:44}],103:[function(t,e){"use strict";function i(t){switch(t.type){case"National Wildlife Refuge":return{src:"./svg/blue-goose.svg",alt:"Official Logo of the National Wildlife Refuge System"};case"National Fish Hatchery":return{src:"./svg/fisheries.svg",alt:"Logo for the Fisheries program"};default:return{src:"./svg/building.svg",alt:"Icon representing a Field Station"}}}var n=t("./mediator"),o=t("object-assign"),r=t("../templates/li.pug"),s=function(t){this.list=t.list,this.offices=t.offices,n.on("autocomplete:results",this.render.bind(this)),n.on("autocomplete:empty",this.emptyHandler.bind(this))};e.exports=s,s.prototype.emptyHandler=function(){this.render(this.offices.getOffices().features)},s.prototype.render=function(t){var e=t.map(function(t){return t.properties}).map(function(t){return o({icon:i(t)},t)});this.list.innerHTML=r({offices:e})}},{"../templates/li.pug":113,"./mediator":102,"object-assign":73}],104:[function(t,e){"use strict";function i(t,e){return t.score>e.score?-1:t.score<e.score?1:0}var n=t("leaflet"),o=t("lunr"),r=t("object-assign"),s=t("./mediator"),a=(t("./util"),void 0),l=function(t){if(!t)return new Error("You must provide a geojson object.");this.offices=t,this.bounds=n.geoJson(t).getBounds(),this.index=o(function(){this.field("name",{boost:10}),this.field("type"),this.field("program"),this.field("city"),this.field("state"),this.field("zip"),this.field("narrative",{boost:5}),this.ref("href")});var e=this.index;this.offices.features.forEach(function(t,i){var n=r({href:i},t.properties);e.add(n)})};e.exports=l,l.prototype.getBounds=function(){return this.bounds},l.prototype.getOffices=function(){return this.offices},l.prototype.search=function(t){var e=this;return this.index.search(t).sort(i).map(function(t){return e.offices.features[t.ref]})},l.prototype.getOffice=function(t){return a.features.find(function(e){var i=normalizeOfficeName(e.properties.name);return i.toLowerCase()===t.toLowerCase()})},l.prototype.normalizeOfficeName=function(t){return t.replace(/[^a-zA-Z ]+/g,"")},l.prototype.getRandomOffice=function(){var t=a.features,e=t[Math.floor(Math.random()*t.length)];s.emit("offices:random",e)}},{"./mediator":102,"./util":107,leaflet:54,lunr:70,"object-assign":73}],105:[function(t,e){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}var n=t("madison"),o=t("leaflet"),r=function(t){this.states=t};e.exports=r,r.prototype.getBounds=function(t,e){var i=this.normalizeStateList(t),r=o.geoJson(this.states,{filter:function(t){var o=t.properties[e],r=2===o.length?n.getStateNameSync(o):o;return i.includes(r.toLowerCase())}});return r.getBounds()},r.prototype.getStateName=function(t){return 2===t.length?n.getStateNameSync(t).toLowerCase():t.toLowerCase()},r.prototype.normalizeStateList=function(t){var e=this;if(!t)return null;var n=[];return"string"==typeof t?n.push(t):n=[].concat(i(t)),n.map(function(t){return e.getStateName(t)})}},{leaflet:54,madison:71}],106:[function(t,e){"use strict";function i(t){var e=t.code||t.keyCode||t.which||0;27===e&&this.modal&&this.hideModal()}var n=t("./util"),o=t("./mediator"),r=t("../templates/about.pug"),s=function(){this.about=n.create("button",["about-map","leaflet-control-roy","tt-w"],document.body),this.about.setAttribute("data-tt","About this map"),this.imgAbout=n.create("img","",this.about),this.imgAbout.setAttribute("src","./svg/help.svg"),this.imgAbout.setAttribute("alt","Icon representing help"),this.modal=n.create("aside","about-modal",document.body),this.close=n.create("button","modal-close",this.modal),this.close.innerHTML="&times;",this.aboutContent=n.create("section","about-content",this.modal),this.aboutContent.innerHTML=r(),this.about.addEventListener("click",this.toggleModal.bind(this)),this.close.addEventListener("click",this.hideModal.bind(this)),document.body.addEventListener("keyup",i.bind(this))};e.exports=s,s.prototype.showModal=function(){this.modal.classList.add("active"),this.close.focus(),o.emit("modal:open")},s.prototype.hideModal=function(){this.modal.classList.remove("active"),o.emit("modal:close")},s.prototype.toggleModal=function(){this.modal.classList.contains("active")?this.hideModal():this.showModal()}},{"../templates/about.pug":109,"./mediator":102,"./util":107}],107:[function(t,e){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function n(t,e,n){var o=document.createElement(t);return"string"==typeof e?o.className=e:"object"===("undefined"==typeof e?"undefined":i(e))&&s(o,e),n&&n.appendChild(o),o}function o(t){var e=t.parentNode;e&&e.removeChild(t)}function r(t,e){t.classList.add(e)}function s(t,e){e.forEach(function(e){t.classList.add(e)})}function a(t,e){t.classList.remove(e)}function l(t,e){t.classList.toggle(e)}function u(){var t=document.createElement("div");t.style.cssText="position: fixed;top: 0;left: 0;bottom: 0;right: 0;",document.documentElement.insertBefore(t,document.documentElement.firstChild);var e={width:t.offsetWidth,height:t.offsetHeight};return document.documentElement.removeChild(t),e}t("classlist-polyfill");var h={defaults:t("lodash.defaults"),map:t("lodash.map"),includes:t("lodash.includes"),each:t("lodash.foreach"),slugify:t("underscore.string/slugify"),tabbable:t("tabbable"),create:n,remove:o,addClass:r,addClasses:s,hasClass:t("has-class"),removeClass:a,toggleClass:l,getDimensions:u};e.exports=h}()},{"classlist-polyfill":43,"has-class":45,"lodash.defaults":55,"lodash.foreach":67,"lodash.includes":68,"lodash.map":69,tabbable:78,"underscore.string/slugify":84}],108:[function(t,e){"use strict";var i=t("./mediator"),n=t("./util"),o=function(t){this.view=t.view,this.textViewContainer=t.textViewContainer,this.mapViewContainer=t.mapViewContainer,"text"===this.view&&this.showText(),this.container=n.create("div","layer-switcher",document.body),this.textButton=n.create("button","layer-switcher-button text-view-button",this.container),this.mapButton=n.create("button","layer-switcher-button map-view-button",this.container),this.textButton.innerHTML="List View",this.mapButton.innerHTML="Map View",this.textButton.addEventListener("click",this.showText.bind(this)),this.mapButton.addEventListener("click",this.showMap.bind(this))};e.exports=o,o.prototype.showText=function(){this.textViewContainer.classList.add("active"),this.view="text",i.emit("view:changed","text")},o.prototype.showMap=function(){this.textViewContainer.classList.remove("active"),this.view="map",i.emit("view:changed","map")},o.prototype.toggleView=function(){"map"===this.view?this.showText():this.showMap()}},{"./mediator":102,"./util":107}],109:[function(t,e){function i(){var t="";return t+='\n<div class="about-content">',t+="\n  <h2>",t+="About this map</h2>",t+="\n  <h3>",t+="Privacy</h3>",t+="\n  <p>",t+="The 'Find nearest offices' tool will request access to your current location.  If you grant access the coordinates of your current location will be used to find the 10 closest USFWS offices in the Southeast Region.  This location data is only used on the client (in your web browser) and is never transimitted back to the Service, or stored in any way.</p>",t+="\n  <h3>",t+="Map Layers</h3>",t+="\n  <p>",t+="National Geographic and Imagery basemap tiles courtesy of ",t+='<a href="http://doc.arcgis.com/en/living-atlas/#s=0&amp;subCat=1&amp;type=All&amp;area=All&amp;md=basemap:1000">',t+="ESRI</a>",t+=".</p>",t+="\n  <h3>",t+="Thank You Creative Commons</h3>",t+="\n  <p>",t+="Much of the iconography used in this map was taken from Creative Commons contributions to the noun project.</p>",t+="\n  <ul>",t+="\n    <li>",t+="Info by Jürgen Bauer from the Noun Project</li>",t+="\n    <li>",t+="buildings by Creative Stall from the Noun Project</li>",t+="\n    <li>",t+="Location by Bonnie Duffley from the Noun Project</li>",t+="\n    <li>",t+="Crosshair by Jos&#233; Manuel de La&#225; from the Noun Project</li>\n  </ul>",t+="\n  <h3>",t+="Source Code</h3>",t+="\n  <p>",t+="The code used to create this map is in the public domain.  You can download a copy on ",t+='<a href="http://github.com/usfws/southeast-mega-map">',t+="GitHub</a>",t+=".</p>\n</div>"}t("pug-runtime");e.exports=i},{fs:41,"pug-runtime":74}],110:[function(t,e){function i(t,e,i,o){return e!==!1&&null!=e&&(e||"class"!==t&&"style"!==t)?e===!0?" "+(o?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=n(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}function n(t){var e=""+t,i=r.exec(e);if(!i)return t;var n,o,s,a="";for(n=i.index,o=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==n&&(a+=e.substring(o,n)),o=n+1,a+=s}return o!==n?a+e.substring(o,n):a}function o(e){var o,r="",s=e||{};return function(t,e,s){var a=s("../js/util");(function(){var s=e;if("number"==typeof s.length)for(var l=0,u=s.length;u>l;l++){var h=s[l],c=t(h.properties.name),p="/?q="+a.slugify(c).toLowerCase();r+="\n<li>",r=r+'<a class="autocomplete-link"'+i("href",p,!0,!1)+">",r=r+n(null==(o=h.properties.name)?"":o)+"</a></li>"}else{var u=0;for(var l in s){u++;var h=s[l],c=t(h.properties.name),p="/?q="+a.slugify(c).toLowerCase();r+="\n<li>",r=r+'<a class="autocomplete-link"'+i("href",p,!0,!1)+">",r=r+n(null==(o=h.properties.name)?"":o)+"</a></li>"}}}).call(this)}.call(this,"normalize"in s?s.normalize:"undefined"!=typeof normalize?normalize:void 0,"offices"in s?s.offices:"undefined"!=typeof offices?offices:void 0,"require"in s?s.require:"undefined"!=typeof t?t:void 0),
r}t("pug-runtime");e.exports=o;var r=/["&<>]/},{"../js/util":107,fs:41,"pug-runtime":74}],111:[function(t,e){function i(){var t="";return t+='\n<h1 class="map-title">',t+="Southeast Region ",t+="<br/>",t+=" Office Map</h1>",t+='<img class="logo" src="./svg/logo.svg" alt="Official logo of the U.S. Fish and Wildlife Service"/>',t+='\n<div class="detail-content-wrap">',t+="\n  <p>",t+="Use the map to find a U.S. Fish and Wildlife Service field office, National Wildlife Refuge, or a National Fish Hatchery near you.  For more information about a specific office click an office marker on the map.</p>",t+="\n  <h3>",t+="Map Icons</h3>",t+='\n  <ul class="icon-list">',t+="\n    <li>",t+="",t+='<img class="icon" src="./images/layers-2x.png" alt="Image representing layers in 3-D"/>',t+=" Toggle layers on/off</li>",t+="\n    <li>",t+="",t+='<img class="icon" src="./svg/full-extent.svg" alt="Icon with arrows pointing outwards"/>',t+=" Zoom out to show all offices</li>",t+="\n    <li>",t+="",t+='<img class="icon" src="./svg/current-location.svg" alt="Icon representing your current location"/>',t+=" Find the nearest offices</li>",t+="\n    <li>",t+="",t+='<img class="icon" src="./svg/help.svg" alt="Icon representing \'help\'"/>',t+=" Learn more about the map</li>\n  </ul>",t+="\n  <h3>",t+="Office Types</h3>",t+='\n  <ul class="icon-list">',t+="\n    <li>",t+="",t+='<img class="marker" src="./svg/blue-goose.svg" alt="Official logo of the National Wildlife Refuge System"/>',t+=" National Wildlife Refuge</li>",t+="\n    <li>",t+="",t+='<img class="marker" src="./svg/fisheries.svg" alt="Official logo of the Fisheries program"/>',t+=" National Fish Hatchery</li>",t+="\n    <li>",t+="",t+='<img class="marker" src="./svg/building.svg" alt="Icon representing a field office"/>',t+=" Field Station</li>\n  </ul>\n</div>"}t("pug-runtime");e.exports=i},{fs:41,"pug-runtime":74}],112:[function(t,e){function i(t,e,i,o){return e!==!1&&null!=e&&(e||"class"!==t&&"style"!==t)?e===!0?" "+(o?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=n(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}function n(t){var e=""+t,i=r.exec(e);if(!i)return t;var n,o,s,a="";for(n=i.index,o=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==n&&(a+=e.substring(o,n)),o=n+1,a+=s}return o!==n?a+e.substring(o,n):a}function o(t){var e,o="",r=t||{};return function(t){if(o+="\n<h2>",o=o+n(null==(e=t.name)?"":e)+"</h2>",t.image){var r="./images/"+t.image;o=o+"<a"+(i("href",t.imageurl,!0,!1)+' target="_blank"')+">",o=o+"<img"+(' class="detail-image"'+i("src",r,!0,!1)+i("alt",t.alt,!0,!1))+"/></a>",o+='\n<p class="office-photo-caption">',o=o+(null==(e=t.caption)?"":e)+"</p>"}o+='\n<ul class="detail-links">',t.url&&(o+="\n  <li>",o=o+"<a"+(i("href",t.url,!0,!1)+' title="Website"')+'><?xml version="1.0" encoding="utf-8"?>\n<!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n	 width="575.279px" height="434.521px" viewBox="12.24 105.3 575.279 434.521" enable-background="new 12.24 105.3 575.279 434.521"\n	 xml:space="preserve">\n<g>\n	<path d="M55.08,490.86h226.44V380.7H55.08V490.86z M73.44,399.06h189.72v73.44H73.44V399.06z"/>\n	<path d="M55.08,356.22H538.56V197.1H55.08V356.22z M328.075,274.671L520.2,215.644v118.055L328.075,274.671z M478.7,337.86H121.06\n		l178.82-54.939L478.7,337.86z M299.88,268.123L128.459,215.46h342.842L299.88,268.123z M265.565,274.671L73.44,333.698V215.644\n		L265.565,274.671z"/>\n	<rect x="336.6" y="429.66" width="195.841" height="18.359"/>\n	<rect x="336.6" y="399.06" width="195.841" height="18.36"/>\n	<rect x="336.6" y="460.26" width="195.841" height="18.36"/>\n	<circle cx="315.339" cy="405.786" r="10.894"/>\n	<circle cx="315.339" cy="436.9" r="10.894"/>\n	<circle cx="315.339" cy="468.014" r="10.894"/>\n	<path d="M587.52,124.499c0-10.6-8.592-19.199-19.198-19.199H31.438c-10.606,0-19.198,8.599-19.198,19.199v396.123\n		c0,10.606,8.592,19.199,19.198,19.199h536.89c10.6,0,19.191-8.593,19.191-19.199V124.499z M116.666,124.07\n		c6.004,0,10.875,4.865,10.875,10.875s-4.872,10.875-10.875,10.875s-10.875-4.865-10.875-10.875S110.662,124.07,116.666,124.07z\n		 M85.741,124.07c6.004,0,10.875,4.865,10.875,10.875s-4.865,10.875-10.875,10.875s-10.875-4.865-10.875-10.875\n		S79.737,124.07,85.741,124.07z M54.817,124.07c6.01,0,10.881,4.865,10.881,10.875s-4.872,10.875-10.881,10.875\n		c-6.004,0-10.869-4.865-10.869-10.875S48.813,124.07,54.817,124.07z M556.92,509.22H42.84V184.475v-12.968V154.26h128.52v18.36\n		h385.56V509.22z"/>\n</g>\n</svg>\n</a></li>'),t.facebook&&(o+="\n  <li>",o=o+"<a"+(i("href",t.facebook,!0,!1)+' title="Facebook"')+'><?xml version="1.0" encoding="utf-8"?>\n<!-- Generator: Adobe Illustrator 18.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<svg version="1.1" id="Your_Icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n	 viewBox="-587.9 1416.8 1336.2 2848.2" enable-background="new -587.9 1416.8 1336.2 2848.2" xml:space="preserve">\n<path d="M684.5,1797.3c0,0-329.6-56.6-406.2,36.6c-113.2,56.6-76.6,422.8-76.6,422.8h409.5v369.6H201.7v1638.1h-486.1V2626.4h-303\n	v-369.6H-281c-26.6,0,16.6-362.9,20-396.2c16.6-179.8,149.8-339.6,323-399.5c236.4-79.9,449.5-36.6,685.9,20\n	C727.8,1587.6,704.5,1694.1,684.5,1797.3z"/>\n</svg>\n</a></li>'),t.twitter&&(o+="\n  <li>",o=o+"<a"+(i("href",t.twitter,!0,!1)+' title="Twitter"')+'><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 50 50" enable-background="new 0 0 50 50" xml:space="preserve"><g><path fill="#000000" d="M45.88,11.416c0.327-1.106-0.047-2.302-0.953-3.022c-0.514-0.411-1.136-0.618-1.767-0.618   c-0.498,0-0.996,0.13-1.443,0.397c-0.888,0.521-1.817,0.939-2.787,1.234c-1.854-1.418-4.153-2.207-6.516-2.207   c-5.416,0-9.903,4.04-10.61,9.264c-4.318-0.924-8.252-3.303-11.086-6.779c-0.54-0.666-1.35-1.046-2.196-1.046   c-0.071,0-0.146,0.005-0.222,0.01c-0.928,0.073-1.757,0.596-2.226,1.398c-0.952,1.631-1.453,3.491-1.453,5.386   c0,1.28,0.227,2.525,0.647,3.688c-0.452,0.514-0.714,1.18-0.714,1.884c0,2.808,1.06,5.39,2.826,7.33   c-0.109,0.484-0.092,0.996,0.067,1.486c0.611,1.914,1.729,3.561,3.175,4.818c-0.939,0.213-1.911,0.322-2.897,0.322   c-0.511,0-1.028-0.033-1.549-0.092c-0.11-0.014-0.22-0.021-0.332-0.021c-1.186,0-2.26,0.742-2.663,1.885   c-0.447,1.24,0.026,2.627,1.134,3.34c4.071,2.607,8.775,3.986,13.602,3.986c15.655,0,25.063-12.6,25.232-24.899   c1.274-1.085,2.394-2.334,3.344-3.728c0.359-0.474,0.572-1.063,0.572-1.708C47.065,12.775,46.597,11.933,45.88,11.416z    M40.292,17.801c0.018,0.337,0.025,0.677,0.025,1.018c0,10.404-7.919,22.4-22.4,22.4c-4.445,0-8.584-1.303-12.07-3.537   c0.613,0.068,1.243,0.111,1.878,0.111c3.689,0,7.083-1.26,9.779-3.373c-3.449-0.061-6.354-2.34-7.357-5.467   c0.481,0.092,0.975,0.143,1.478,0.143c0.72,0,1.416-0.098,2.075-0.277c-3.602-0.727-6.317-3.905-6.317-7.723   c0-0.034,0-0.065,0-0.098c1.062,0.588,2.277,0.942,3.567,0.982c-2.112-1.412-3.5-3.824-3.5-6.554c0-1.442,0.388-2.793,1.066-3.956   c3.88,4.763,9.683,7.896,16.227,8.224c-0.136-0.574-0.202-1.178-0.202-1.795c0-4.344,3.524-7.869,7.87-7.869   c2.266,0,4.313,0.956,5.749,2.483c1.791-0.351,3.478-1.006,4.999-1.909c-0.589,1.837-1.838,3.38-3.461,4.354   c1.591-0.188,3.106-0.611,4.52-1.24C43.165,15.305,41.832,16.691,40.292,17.801z"></path></g></svg>\n</a></li>'),o+="\n</ul>",o+='\n<div class="detail-content-wrap">',o+='\n  <p class="detail-description">',o=o+(null==(e=t.narrative)?"":e)+"</p>",t.activities&&(o+="\n  <h3>",o+="Activities</h3>",o+='\n  <ul class="detail-activities">',function(){var i=t.activities;if("number"==typeof i.length)for(var r=0,s=i.length;s>r;r++){var a=i[r];"Wildlife Photography"===a&&(o+="\n    <li>",o+='<img src="./svg/wildlife-photography.svg" alt="Camera icon"/>',o=o+n(null==(e=a)?"":e)+"\n    </li>"),"Wildlife Observation"===a&&(o+="\n    <li>",o+='<img src="./svg/wildlife-observation.svg" alt="Icon"/>',o=o+n(null==(e=a)?"":e)+"\n    </li>"),"Hiking"===a&&(o+="\n    <li>",o+='<img src="./svg/hiking.svg" alt="Hiking icon"/>',o=o+n(null==(e=a)?"":e)+"\n    </li>"),"Fishing"===a&&(o+="\n    <li>",o+='<img src="./svg/fishing.svg" alt="Fish icon"/>',o=o+n(null==(e=a)?"":e)+"\n    </li>"),"Hunting"===a&&(o+="\n    <li>",o+='<img src="./svg/hunting.svg" alt="Hunting icon"/>',o=o+n(null==(e=a)?"":e)+"\n    </li>"),"Boat Ramp"===a&&(o+="\n    <li>",o+='<img src="./svg/boat-ramp.svg" alt="Boat ramp icon"/>',o=o+n(null==(e=a)?"":e)+"\n    </li>"),"Canoeing"===a&&(o+="\n    <li>",o+='<img src="./svg/canoeing.svg" alt="Canoe icon"/>',o=o+n(null==(e=a)?"":e)+"\n    </li>"),"Lighthouse"===a&&(o+="\n    <li>",o+='<img src="./svg/lighthouse.svg" alt="Lighthouse icon"/>',o=o+n(null==(e=a)?"":e)+"\n    </li>"),"Picnic"===a&&(o+="\n    <li>",o+='<img src="./svg/picnic-shelter.svg" alt="Picnic table icon"/>',o=o+n(null==(e=a)?"":e)+"\n    </li>")}else{var s=0;for(var r in i){s++;var a=i[r];"Wildlife Photography"===a&&(o+="\n    <li>",o+='<img src="./svg/wildlife-photography.svg" alt="Camera icon"/>',o=o+n(null==(e=a)?"":e)+"\n    </li>"),"Wildlife Observation"===a&&(o+="\n    <li>",o+='<img src="./svg/wildlife-observation.svg" alt="Icon"/>',o=o+n(null==(e=a)?"":e)+"\n    </li>"),"Hiking"===a&&(o+="\n    <li>",o+='<img src="./svg/hiking.svg" alt="Hiking icon"/>',o=o+n(null==(e=a)?"":e)+"\n    </li>"),"Fishing"===a&&(o+="\n    <li>",o+='<img src="./svg/fishing.svg" alt="Fish icon"/>',o=o+n(null==(e=a)?"":e)+"\n    </li>"),"Hunting"===a&&(o+="\n    <li>",o+='<img src="./svg/hunting.svg" alt="Hunting icon"/>',o=o+n(null==(e=a)?"":e)+"\n    </li>"),"Boat Ramp"===a&&(o+="\n    <li>",o+='<img src="./svg/boat-ramp.svg" alt="Boat ramp icon"/>',o=o+n(null==(e=a)?"":e)+"\n    </li>"),"Canoeing"===a&&(o+="\n    <li>",o+='<img src="./svg/canoeing.svg" alt="Canoe icon"/>',o=o+n(null==(e=a)?"":e)+"\n    </li>"),"Lighthouse"===a&&(o+="\n    <li>",o+='<img src="./svg/lighthouse.svg" alt="Lighthouse icon"/>',o=o+n(null==(e=a)?"":e)+"\n    </li>"),"Picnic"===a&&(o+="\n    <li>",o+='<img src="./svg/picnic-shelter.svg" alt="Picnic table icon"/>',o=o+n(null==(e=a)?"":e)+"\n    </li>")}}}.call(this),o+="\n  </ul>"),o+="\n  <h3>",o+="Address:</h3>",t.phone&&(o+="\n  <p>",o+="Phone: ",o=o+n(null==(e=t.phone)?"":e)+"</p>"),o+="\n  <address>",o+=n(null==(e=t.address)?"":e),o+=" ",o+="<br/>",o+=" ",o+=n(null==(e=t.city)?"":e),o+=", ",o+=n(null==(e=t.state)?"":e),o+=" ",o=o+n(null==(e=t.zip)?"":e)+"</address>\n</div>"}.call(this,"office"in r?r.office:"undefined"!=typeof office?office:void 0),o}t("pug-runtime");e.exports=o;var r=/["&<>]/},{fs:41,"pug-runtime":74}],113:[function(t,e){function i(t,e,i,o){return e!==!1&&null!=e&&(e||"class"!==t&&"style"!==t)?e===!0?" "+(o?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=n(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}function n(t){var e=""+t,i=r.exec(e);if(!i)return t;var n,o,s,a="";for(n=i.index,o=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==n&&(a+=e.substring(o,n)),o=n+1,a+=s}return o!==n?a+e.substring(o,n):a}function o(t){var e,o="",r=t||{};return function(t){(function(){var r=t;if("number"==typeof r.length)for(var s=0,a=r.length;a>s;s++){var l=r[s];o+="\n<li>",o+='\n  <div class="office-image">',o=o+"<img"+(' class="office-list-icon"'+i("src",l.icon.src,!0,!1)+i("alt",l.icon.alt,!0,!1))+"/></div>",o+='\n  <div class="office-details">',o+="\n    <h2>",o=o+n(null==(e=l.name)?"":e)+"</h2>",o=o+"<img"+(' class="nested-office-list-icon"'+i("src",l.icon.src,!0,!1)+i("alt",l.icon.alt,!0,!1))+"/>",o+="\n    <address>",o+=n(null==(e=l.address)?"":e),o+=" ",o+="<br/>",o+=" ",o+=n(null==(e=l.city)?"":e),o+=", ",o+=n(null==(e=l.state)?"":e),o+=" ",o=o+n(null==(e=l.zip)?"":e)+"</address>",l.url&&(o+="\n    <p>",o+="",o=o+"<a"+(i("href",l.url,!0,!1)+' target="_blank"')+">",o+="Visit us on the web!</a>",o+="</p>"),l.facebook&&(o+="\n    <p>",o+="",o=o+"<a"+(i("href",l.facebook,!0,!1)+' target="_blank"')+">",o+="Like us on Facebook!</a>",o+="</p>"),l.twitter&&(o+="\n    <p>",o+="",o=o+"<a"+(i("href",l.twitter,!0,!1)+' target="_blank"')+">",o+="Follow us on Twitter!</a>",o+="</p>"),o+="\n  </div>\n</li>"}else{var a=0;for(var s in r){a++;var l=r[s];o+="\n<li>",o+='\n  <div class="office-image">',o=o+"<img"+(' class="office-list-icon"'+i("src",l.icon.src,!0,!1)+i("alt",l.icon.alt,!0,!1))+"/></div>",o+='\n  <div class="office-details">',o+="\n    <h2>",o=o+n(null==(e=l.name)?"":e)+"</h2>",o=o+"<img"+(' class="nested-office-list-icon"'+i("src",l.icon.src,!0,!1)+i("alt",l.icon.alt,!0,!1))+"/>",o+="\n    <address>",o+=n(null==(e=l.address)?"":e),o+=" ",o+="<br/>",o+=" ",o+=n(null==(e=l.city)?"":e),o+=", ",o+=n(null==(e=l.state)?"":e),o+=" ",o=o+n(null==(e=l.zip)?"":e)+"</address>",l.url&&(o+="\n    <p>",o+="",o=o+"<a"+(i("href",l.url,!0,!1)+' target="_blank"')+">",o+="Visit us on the web!</a>",o+="</p>"),l.facebook&&(o+="\n    <p>",o+="",o=o+"<a"+(i("href",l.facebook,!0,!1)+' target="_blank"')+">",o+="Like us on Facebook!</a>",o+="</p>"),l.twitter&&(o+="\n    <p>",o+="",o=o+"<a"+(i("href",l.twitter,!0,!1)+' target="_blank"')+">",o+="Follow us on Twitter!</a>",o+="</p>"),o+="\n  </div>\n</li>"}}}).call(this)}.call(this,"offices"in r?r.offices:"undefined"!=typeof offices?offices:void 0),o}t("pug-runtime");e.exports=o;var r=/["&<>]/},{fs:41,"pug-runtime":74}],114:[function(t,e){function i(t,e,i,o){return e!==!1&&null!=e&&(e||"class"!==t&&"style"!==t)?e===!0?" "+(o?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=n(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}function n(t){var e=""+t,i=r.exec(e);if(!i)return t;var n,o,s,a="";for(n=i.index,o=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==n&&(a+=e.substring(o,n)),o=n+1,a+=s}return o!==n?a+e.substring(o,n):a}function o(e){var o,r="",s=e||{};return function(t,e){var s=e("../js/util");r+="\n<h2>",r+="Nearest Offices</h2>",r+='\n<ul class="nearest-offices">',function(){var e=t;if("number"==typeof e.length)for(var a=0,l=e.length;l>a;a++){var u=e[a],u=u.layer.feature.properties,h="?q="+s.slugify(u.name).toLowerCase();r+="\n  <li>",r=r+"<a"+i("href",h,!0,!1)+">",r=r+n(null==(o=u.name)?"":o)+"</a></li>"}else{var l=0;for(var a in e){l++;var u=e[a],u=u.layer.feature.properties,h="?q="+s.slugify(u.name).toLowerCase();r+="\n  <li>",r=r+"<a"+i("href",h,!0,!1)+">",r=r+n(null==(o=u.name)?"":o)+"</a></li>"}}}.call(this),r+="\n</ul>"}.call(this,"nearest"in s?s.nearest:"undefined"!=typeof nearest?nearest:void 0,"require"in s?s.require:"undefined"!=typeof t?t:void 0),r}t("pug-runtime");e.exports=o;var r=/["&<>]/},{"../js/util":107,fs:41,"pug-runtime":74}],115:[function(t,e){function i(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,s,a="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}r!==n&&(a+=e.substring(r,n)),r=n+1,a+=s}return r!==n?a+e.substring(r,n):a}function n(t){var e,n="",o=t||{};return function(t){n+='\n<div class="popup">',n+='<strong class="office-name">',n=n+i(null==(e=t.name)?"":e)+"</strong>",n+="<br/>",n+="\n  <address>",n+=i(null==(e=t.city)?"":e),n+=", ",n=n+i(null==(e=t.state)?"":e)+"</address>\n</div>"}.call(this,"office"in o?o.office:"undefined"!=typeof office?office:void 0),n}t("pug-runtime");e.exports=n;var o=/["&<>]/},{fs:41,"pug-runtime":74}]},{},[96]);